<html>
<head><meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<style type="text/css">
<!--
span.cls_002{font-family:"Calibri Bold",serif;font-size:18.1px;color:rgb(52,90,137);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_002{font-family:"Calibri Bold",serif;font-size:18.1px;color:rgb(52,90,137);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_003{font-family:"Cambria",serif;font-size:13.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_003{font-family:"Cambria",serif;font-size:13.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_004{font-family:"Cambria",serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_004{font-family:"Cambria",serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_005{font-family:"Calibri Bold",serif;font-size:16.1px;color:rgb(79,129,188);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_005{font-family:"Calibri Bold",serif;font-size:16.1px;color:rgb(79,129,188);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_007{font-family:"Calibri Bold",serif;font-size:14.0px;color:rgb(79,129,188);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_007{font-family:"Calibri Bold",serif;font-size:14.0px;color:rgb(79,129,188);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_009{font-family:"Cambria",serif;font-size:12.1px;color:rgb(79,129,188);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_009{font-family:"Cambria",serif;font-size:12.1px;color:rgb(79,129,188);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_010{font-family:"Consolas",serif;font-size:11.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_010{font-family:"Consolas",serif;font-size:11.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_011{font-family:"Cambria Bold",serif;font-size:12.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_011{font-family:"Cambria Bold",serif;font-size:12.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_012{font-family:"Consolas",serif;font-size:11.1px;color:rgb(78,154,5);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_012{font-family:"Consolas",serif;font-size:11.1px;color:rgb(78,154,5);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_013{font-family:"Consolas",serif;font-size:11.1px;color:rgb(143,88,1);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_013{font-family:"Consolas",serif;font-size:11.1px;color:rgb(143,88,1);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_014{font-family:"Consolas",serif;font-size:11.1px;color:rgb(196,159,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_014{font-family:"Consolas",serif;font-size:11.1px;color:rgb(196,159,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_015{font-family:"Consolas Italic",serif;font-size:11.1px;color:rgb(143,88,1);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_015{font-family:"Consolas Italic",serif;font-size:11.1px;color:rgb(143,88,1);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_016{font-family:"Consolas",serif;font-size:11.1px;color:rgb(0,0,207);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_016{font-family:"Consolas",serif;font-size:11.1px;color:rgb(0,0,207);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_017{font-family:"Calibri Bold",serif;font-size:12.1px;color:rgb(79,129,188);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_017{font-family:"Calibri Bold",serif;font-size:12.1px;color:rgb(79,129,188);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_018{font-family:Arial,serif;font-size:11.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_018{font-family:Arial,serif;font-size:11.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_006{font-family:"Cambria",serif;font-size:11.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_006{font-family:"Cambria",serif;font-size:11.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_008{font-family:Arial,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_008{font-family:Arial,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_019{font-family:Courier New,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_019{font-family:Courier New,serif;font-size:12.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_021{font-family:Courier New,serif;font-size:10.1px;color:rgb(151,71,5);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_021{font-family:Courier New,serif;font-size:10.1px;color:rgb(151,71,5);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_022{font-family:Courier New,serif;font-size:10.1px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_022{font-family:Courier New,serif;font-size:10.1px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_023{font-family:"Cambria",serif;font-size:11.1px;color:rgb(79,129,188);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_023{font-family:"Cambria",serif;font-size:11.1px;color:rgb(79,129,188);font-weight:normal;font-style:normal;text-decoration: none}
-->
</style>
<script type="text/javascript" src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/wz_jsgraphics.js"></script>
</head>
<body>
<div style="position:absolute;left:50%;margin-left:-306px;top:0px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background01.jpg" width=612 height=792></div>
<div style="position:absolute;left:146.21px;top:108.29px" class="cls_002"><span class="cls_002">Manual for Case Analysis using R Language</span></div>
<div style="position:absolute;left:268.44px;top:173.09px" class="cls_002"><span class="cls_002">Project #2</span></div>
<div style="position:absolute;left:190.87px;top:250.39px" class="cls_003"><span class="cls_003">Korea-Kazakhstan IT Cooperation Project</span></div>
<div style="position:absolute;left:248.26px;top:315.46px" class="cls_002"><span class="cls_002">A Data Analysis</span></div>
<div style="position:absolute;left:253.78px;top:395.64px" class="cls_004"><span class="cls_004">Author: </span><span class="cls_003">Baek kimin</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:802px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background02.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_005"><span class="cls_005">Table of Contents</span></div>
<div style="position:absolute;left:72.02px;top:105.41px" class="cls_004"><span class="cls_004">1. Prerequisites</span></div>
<div style="position:absolute;left:533.02px;top:105.41px" class="cls_004"><span class="cls_004">5</span></div>
<div style="position:absolute;left:84.02px;top:124.61px" class="cls_004"><span class="cls_004">1.1 Install R</span></div>
<div style="position:absolute;left:533.02px;top:124.61px" class="cls_004"><span class="cls_004">5</span></div>
<div style="position:absolute;left:84.02px;top:143.57px" class="cls_004"><span class="cls_004">1.2 Install RStudio</span></div>
<div style="position:absolute;left:533.02px;top:143.57px" class="cls_004"><span class="cls_004">5</span></div>
<div style="position:absolute;left:84.02px;top:162.77px" class="cls_004"><span class="cls_004">1.3 Software information and conventions</span></div>
<div style="position:absolute;left:533.02px;top:162.77px" class="cls_004"><span class="cls_004">5</span></div>
<div style="position:absolute;left:72.02px;top:181.75px" class="cls_004"><span class="cls_004">2. A Study on Determinants of Employment Status of University Graduates Youth</span></div>
<div style="position:absolute;left:533.02px;top:181.75px" class="cls_004"><span class="cls_004">6</span></div>
<div style="position:absolute;left:84.02px;top:200.71px" class="cls_004"><span class="cls_004">2.1 Introduction</span></div>
<div style="position:absolute;left:533.02px;top:200.71px" class="cls_004"><span class="cls_004">6</span></div>
<div style="position:absolute;left:84.02px;top:219.91px" class="cls_004"><span class="cls_004">2.2 Data Explanation</span></div>
<div style="position:absolute;left:533.02px;top:219.91px" class="cls_004"><span class="cls_004">6</span></div>
<div style="position:absolute;left:84.02px;top:238.87px" class="cls_004"><span class="cls_004">2.3 Install and load package</span></div>
<div style="position:absolute;left:533.02px;top:238.87px" class="cls_004"><span class="cls_004">7</span></div>
<div style="position:absolute;left:84.02px;top:258.07px" class="cls_004"><span class="cls_004">2.4 Import Data</span></div>
<div style="position:absolute;left:533.02px;top:258.07px" class="cls_004"><span class="cls_004">8</span></div>
<div style="position:absolute;left:84.02px;top:277.06px" class="cls_004"><span class="cls_004">2.5 Exploring and Preparing the Data</span></div>
<div style="position:absolute;left:533.02px;top:277.06px" class="cls_004"><span class="cls_004">8</span></div>
<div style="position:absolute;left:84.02px;top:296.26px" class="cls_004"><span class="cls_004">2.6 Dealing with the missing data</span></div>
<div style="position:absolute;left:526.54px;top:296.26px" class="cls_004"><span class="cls_004">12</span></div>
<div style="position:absolute;left:84.02px;top:315.22px" class="cls_004"><span class="cls_004">2.7 Splitting the data (train set & test set)</span></div>
<div style="position:absolute;left:526.54px;top:315.22px" class="cls_004"><span class="cls_004">12</span></div>
<div style="position:absolute;left:84.02px;top:334.42px" class="cls_004"><span class="cls_004">2.8 Dealing with Class Imbalance</span></div>
<div style="position:absolute;left:526.54px;top:334.42px" class="cls_004"><span class="cls_004">13</span></div>
<div style="position:absolute;left:84.02px;top:353.40px" class="cls_004"><span class="cls_004">2.9 Resampling methods to estimate model accuracy</span></div>
<div style="position:absolute;left:526.54px;top:353.40px" class="cls_004"><span class="cls_004">13</span></div>
<div style="position:absolute;left:96.05px;top:372.60px" class="cls_004"><span class="cls_004">2.2.1 Estimating model accuracy</span></div>
<div style="position:absolute;left:526.54px;top:372.60px" class="cls_004"><span class="cls_004">13</span></div>
<div style="position:absolute;left:96.05px;top:391.56px" class="cls_004"><span class="cls_004">2.9.2 k-fold cross validation</span></div>
<div style="position:absolute;left:526.54px;top:391.56px" class="cls_004"><span class="cls_004">14</span></div>
<div style="position:absolute;left:96.05px;top:410.52px" class="cls_004"><span class="cls_004">2.9.3 repeated k-fold cross validation</span></div>
<div style="position:absolute;left:526.54px;top:410.52px" class="cls_004"><span class="cls_004">14</span></div>
<div style="position:absolute;left:96.05px;top:429.74px" class="cls_004"><span class="cls_004">2.9.4 leave one out cross validation</span></div>
<div style="position:absolute;left:526.54px;top:429.74px" class="cls_004"><span class="cls_004">15</span></div>
<div style="position:absolute;left:96.05px;top:448.70px" class="cls_004"><span class="cls_004">2.9.5 leave group out cross validation</span></div>
<div style="position:absolute;left:526.54px;top:448.70px" class="cls_004"><span class="cls_004">15</span></div>
<div style="position:absolute;left:96.05px;top:467.90px" class="cls_004"><span class="cls_004">2.9.6 bootstrap</span></div>
<div style="position:absolute;left:526.54px;top:467.90px" class="cls_004"><span class="cls_004">15</span></div>
<div style="position:absolute;left:84.02px;top:486.86px" class="cls_004"><span class="cls_004">2.10 Spot-Check Machine Learning Algorithms</span></div>
<div style="position:absolute;left:526.54px;top:486.86px" class="cls_004"><span class="cls_004">16</span></div>
<div style="position:absolute;left:96.05px;top:506.09px" class="cls_004"><span class="cls_004">2.10.1 CART Algorithm</span></div>
<div style="position:absolute;left:526.54px;top:506.09px" class="cls_004"><span class="cls_004">16</span></div>
<div style="position:absolute;left:96.05px;top:525.05px" class="cls_004"><span class="cls_004">2.10.2 Bagging Algorithm</span></div>
<div style="position:absolute;left:526.54px;top:525.05px" class="cls_004"><span class="cls_004">17</span></div>
<div style="position:absolute;left:96.05px;top:544.25px" class="cls_004"><span class="cls_004">2.10.3 randomforest Algorithm</span></div>
<div style="position:absolute;left:526.54px;top:544.25px" class="cls_004"><span class="cls_004">18</span></div>
<div style="position:absolute;left:96.05px;top:563.21px" class="cls_004"><span class="cls_004">2.10.4 gbm Algorithm</span></div>
<div style="position:absolute;left:526.54px;top:563.21px" class="cls_004"><span class="cls_004">18</span></div>
<div style="position:absolute;left:96.05px;top:582.19px" class="cls_004"><span class="cls_004">2.10.5 logistic model</span></div>
<div style="position:absolute;left:526.54px;top:582.19px" class="cls_004"><span class="cls_004">19</span></div>
<div style="position:absolute;left:84.02px;top:601.39px" class="cls_004"><span class="cls_004">2.11 Model Evaluation Metrics</span></div>
<div style="position:absolute;left:526.54px;top:601.39px" class="cls_004"><span class="cls_004">19</span></div>
<div style="position:absolute;left:96.05px;top:620.35px" class="cls_004"><span class="cls_004">2.11.1 Accuracy and Kappa</span></div>
<div style="position:absolute;left:526.54px;top:620.35px" class="cls_004"><span class="cls_004">19</span></div>
<div style="position:absolute;left:96.05px;top:639.55px" class="cls_004"><span class="cls_004">2.11.2 Area Under ROC Curve</span></div>
<div style="position:absolute;left:526.54px;top:639.55px" class="cls_004"><span class="cls_004">20</span></div>
<div style="position:absolute;left:84.02px;top:658.54px" class="cls_004"><span class="cls_004">2.12 The Performance of Machine Learning Algorithms</span></div>
<div style="position:absolute;left:526.54px;top:658.54px" class="cls_004"><span class="cls_004">20</span></div>
<div style="position:absolute;left:84.02px;top:677.74px" class="cls_004"><span class="cls_004">2.13 Improving Model Performance</span></div>
<div style="position:absolute;left:526.54px;top:677.74px" class="cls_004"><span class="cls_004">23</span></div>
<div style="position:absolute;left:96.05px;top:696.70px" class="cls_004"><span class="cls_004">2.13.1 Random Search</span></div>
<div style="position:absolute;left:526.54px;top:696.70px" class="cls_004"><span class="cls_004">23</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:1604px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background03.jpg" width=612 height=792></div>
<div style="position:absolute;left:96.05px;top:84.26px" class="cls_004"><span class="cls_004">2.13.2 Grid Search</span></div>
<div style="position:absolute;left:526.54px;top:84.26px" class="cls_004"><span class="cls_004">24</span></div>
<div style="position:absolute;left:96.05px;top:103.46px" class="cls_004"><span class="cls_004">2.13.3 Adaptive Resampling</span></div>
<div style="position:absolute;left:526.54px;top:103.46px" class="cls_004"><span class="cls_004">24</span></div>
<div style="position:absolute;left:84.02px;top:122.45px" class="cls_004"><span class="cls_004">2.14 Finalize Your Machine Learning Model</span></div>
<div style="position:absolute;left:526.54px;top:122.45px" class="cls_004"><span class="cls_004">27</span></div>
<div style="position:absolute;left:72.02px;top:141.65px" class="cls_004"><span class="cls_004">3 A Study on Job Satisfaction and Turnover Behavior</span></div>
<div style="position:absolute;left:526.54px;top:141.65px" class="cls_004"><span class="cls_004">28</span></div>
<div style="position:absolute;left:84.02px;top:160.61px" class="cls_004"><span class="cls_004">3.1 Introduction</span></div>
<div style="position:absolute;left:526.54px;top:160.61px" class="cls_004"><span class="cls_004">28</span></div>
<div style="position:absolute;left:84.02px;top:179.81px" class="cls_004"><span class="cls_004">3.2 Data Explanation</span></div>
<div style="position:absolute;left:526.54px;top:179.81px" class="cls_004"><span class="cls_004">28</span></div>
<div style="position:absolute;left:84.02px;top:198.79px" class="cls_004"><span class="cls_004">3.3 Import Data</span></div>
<div style="position:absolute;left:526.54px;top:198.79px" class="cls_004"><span class="cls_004">29</span></div>
<div style="position:absolute;left:84.02px;top:217.99px" class="cls_004"><span class="cls_004">3.4 Exploring and Preparing the Data</span></div>
<div style="position:absolute;left:526.54px;top:217.99px" class="cls_004"><span class="cls_004">30</span></div>
<div style="position:absolute;left:84.02px;top:236.95px" class="cls_004"><span class="cls_004">3.5 Splitting the data (train set & test set)</span></div>
<div style="position:absolute;left:526.54px;top:236.95px" class="cls_004"><span class="cls_004">34</span></div>
<div style="position:absolute;left:84.02px;top:255.91px" class="cls_004"><span class="cls_004">3.6 Dealing with Class Imbalance</span></div>
<div style="position:absolute;left:526.54px;top:255.91px" class="cls_004"><span class="cls_004">35</span></div>
<div style="position:absolute;left:84.02px;top:275.14px" class="cls_004"><span class="cls_004">3.7 Resampling methods to estimate model accuracy</span></div>
<div style="position:absolute;left:526.54px;top:275.14px" class="cls_004"><span class="cls_004">35</span></div>
<div style="position:absolute;left:96.05px;top:294.10px" class="cls_004"><span class="cls_004">3.7.1 Estimating model accuracy</span></div>
<div style="position:absolute;left:526.54px;top:294.10px" class="cls_004"><span class="cls_004">35</span></div>
<div style="position:absolute;left:96.05px;top:313.30px" class="cls_004"><span class="cls_004">3.7.2 k-fold cross validation</span></div>
<div style="position:absolute;left:526.54px;top:313.30px" class="cls_004"><span class="cls_004">36</span></div>
<div style="position:absolute;left:96.05px;top:332.26px" class="cls_004"><span class="cls_004">3.7.3 repeated k-fold cross validation</span></div>
<div style="position:absolute;left:526.54px;top:332.26px" class="cls_004"><span class="cls_004">36</span></div>
<div style="position:absolute;left:96.05px;top:351.48px" class="cls_004"><span class="cls_004">3.7.4 leave one out cross validation</span></div>
<div style="position:absolute;left:526.54px;top:351.48px" class="cls_004"><span class="cls_004">36</span></div>
<div style="position:absolute;left:96.05px;top:370.44px" class="cls_004"><span class="cls_004">3.7.5 leave group out cross validation</span></div>
<div style="position:absolute;left:526.54px;top:370.44px" class="cls_004"><span class="cls_004">37</span></div>
<div style="position:absolute;left:96.05px;top:389.64px" class="cls_004"><span class="cls_004">3.7.6 bootstrap</span></div>
<div style="position:absolute;left:526.54px;top:389.64px" class="cls_004"><span class="cls_004">37</span></div>
<div style="position:absolute;left:84.02px;top:408.60px" class="cls_004"><span class="cls_004">3.8 Spot-Check Machine Learning Algorithms</span></div>
<div style="position:absolute;left:526.54px;top:408.60px" class="cls_004"><span class="cls_004">38</span></div>
<div style="position:absolute;left:96.05px;top:427.82px" class="cls_004"><span class="cls_004">3.8.1 CART Algorithm</span></div>
<div style="position:absolute;left:526.54px;top:427.82px" class="cls_004"><span class="cls_004">38</span></div>
<div style="position:absolute;left:96.05px;top:446.78px" class="cls_004"><span class="cls_004">3.8.2 Bagging Algorithm</span></div>
<div style="position:absolute;left:526.54px;top:446.78px" class="cls_004"><span class="cls_004">39</span></div>
<div style="position:absolute;left:96.05px;top:465.74px" class="cls_004"><span class="cls_004">3.8.3 randomforest Algorithm</span></div>
<div style="position:absolute;left:526.54px;top:465.74px" class="cls_004"><span class="cls_004">40</span></div>
<div style="position:absolute;left:96.05px;top:484.94px" class="cls_004"><span class="cls_004">3.8.4 gbm Algorithm</span></div>
<div style="position:absolute;left:526.54px;top:484.94px" class="cls_004"><span class="cls_004">40</span></div>
<div style="position:absolute;left:96.05px;top:503.93px" class="cls_004"><span class="cls_004">3.8.5 logistic model</span></div>
<div style="position:absolute;left:526.54px;top:503.93px" class="cls_004"><span class="cls_004">41</span></div>
<div style="position:absolute;left:84.02px;top:523.13px" class="cls_004"><span class="cls_004">3.9 Model Evaluation Metrics</span></div>
<div style="position:absolute;left:526.54px;top:523.13px" class="cls_004"><span class="cls_004">41</span></div>
<div style="position:absolute;left:96.05px;top:542.09px" class="cls_004"><span class="cls_004">3.9.1 Accuracy and Kappa</span></div>
<div style="position:absolute;left:526.54px;top:542.09px" class="cls_004"><span class="cls_004">41</span></div>
<div style="position:absolute;left:96.05px;top:561.29px" class="cls_004"><span class="cls_004">3.9.2 Area Under ROC Curve</span></div>
<div style="position:absolute;left:526.54px;top:561.29px" class="cls_004"><span class="cls_004">42</span></div>
<div style="position:absolute;left:84.02px;top:580.27px" class="cls_004"><span class="cls_004">3.10 The Performance of Machine Learning Algorithms</span></div>
<div style="position:absolute;left:526.54px;top:580.27px" class="cls_004"><span class="cls_004">42</span></div>
<div style="position:absolute;left:84.02px;top:599.47px" class="cls_004"><span class="cls_004">3.11 Improving Model Performance</span></div>
<div style="position:absolute;left:526.54px;top:599.47px" class="cls_004"><span class="cls_004">45</span></div>
<div style="position:absolute;left:96.05px;top:618.43px" class="cls_004"><span class="cls_004">3.11.1 Random Search</span></div>
<div style="position:absolute;left:526.54px;top:618.43px" class="cls_004"><span class="cls_004">45</span></div>
<div style="position:absolute;left:96.05px;top:637.39px" class="cls_004"><span class="cls_004">3.11.2 Grid Search</span></div>
<div style="position:absolute;left:526.54px;top:637.39px" class="cls_004"><span class="cls_004">46</span></div>
<div style="position:absolute;left:96.05px;top:656.62px" class="cls_004"><span class="cls_004">3.11.3 Adaptive Resampling</span></div>
<div style="position:absolute;left:526.54px;top:656.62px" class="cls_004"><span class="cls_004">47</span></div>
<div style="position:absolute;left:84.02px;top:675.58px" class="cls_004"><span class="cls_004">3.12 Finalize Your Machine Learning Model</span></div>
<div style="position:absolute;left:526.54px;top:675.58px" class="cls_004"><span class="cls_004">48</span></div>
<div style="position:absolute;left:72.02px;top:694.78px" class="cls_004"><span class="cls_004">4. Making Web Applications using R and Shiny</span></div>
<div style="position:absolute;left:526.54px;top:694.78px" class="cls_004"><span class="cls_004">49</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:2406px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background04.jpg" width=612 height=792></div>
<div style="position:absolute;left:84.02px;top:84.26px" class="cls_004"><span class="cls_004">4.1.   Introduction</span></div>
<div style="position:absolute;left:526.54px;top:84.26px" class="cls_004"><span class="cls_004">49</span></div>
<div style="position:absolute;left:84.02px;top:103.46px" class="cls_004"><span class="cls_004">4.2.   Requirements</span></div>
<div style="position:absolute;left:526.54px;top:103.46px" class="cls_004"><span class="cls_004">49</span></div>
<div style="position:absolute;left:84.02px;top:122.45px" class="cls_004"><span class="cls_004">4.3.   Shiny Package</span></div>
<div style="position:absolute;left:526.54px;top:122.45px" class="cls_004"><span class="cls_004">50</span></div>
<div style="position:absolute;left:84.02px;top:141.65px" class="cls_004"><span class="cls_004">4.4.   Getting Started</span></div>
<div style="position:absolute;left:526.54px;top:141.65px" class="cls_004"><span class="cls_004">51</span></div>
<div style="position:absolute;left:84.02px;top:160.61px" class="cls_004"><span class="cls_004">4.5.   Publish and Deployment of your Shiny Web App</span></div>
<div style="position:absolute;left:526.54px;top:160.61px" class="cls_004"><span class="cls_004">54</span></div>
<div style="position:absolute;left:84.02px;top:179.81px" class="cls_004"><span class="cls_004">4.6.   External Resources</span></div>
<div style="position:absolute;left:526.54px;top:179.81px" class="cls_004"><span class="cls_004">56</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:3208px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background05.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_005"><span class="cls_005">1. Prerequisites</span></div>
<div style="position:absolute;left:72.02px;top:114.05px" class="cls_007"><span class="cls_007">1.1 Install R</span></div>
<div style="position:absolute;left:72.02px;top:133.01px" class="cls_004"><span class="cls_004">1.</span></div>
<div style="position:absolute;left:96.05px;top:133.01px" class="cls_004"><span class="cls_004">Open an internet browser and go to </span><span class="cls_009">www.r-project.org</span><span class="cls_004">.</span></div>
<div style="position:absolute;left:72.02px;top:148.61px" class="cls_004"><span class="cls_004">2.</span></div>
<div style="position:absolute;left:96.05px;top:148.61px" class="cls_004"><span class="cls_004">Click the “download R” link in the middle of the page under “Getting Started.”</span></div>
<div style="position:absolute;left:72.02px;top:164.69px" class="cls_004"><span class="cls_004">3.</span></div>
<div style="position:absolute;left:96.05px;top:164.69px" class="cls_004"><span class="cls_004">Select a CRAN location (a mirror site) and click the corresponding link.</span></div>
<div style="position:absolute;left:72.02px;top:194.71px" class="cls_004"><span class="cls_004">4.</span></div>
<div style="position:absolute;left:96.05px;top:194.71px" class="cls_004"><span class="cls_004">Click on the “Download R for Windows” link at the top of the page.</span></div>
<div style="position:absolute;left:72.02px;top:224.47px" class="cls_004"><span class="cls_004">5.</span></div>
<div style="position:absolute;left:96.05px;top:224.47px" class="cls_004"><span class="cls_004">Click on the “install R for the first time” link at the top of the page.</span></div>
<div style="position:absolute;left:72.02px;top:240.55px" class="cls_004"><span class="cls_004">6.</span></div>
<div style="position:absolute;left:96.05px;top:240.55px" class="cls_004"><span class="cls_004">Click “Download R for Windows” and save the executable file somewhere on your</span></div>
<div style="position:absolute;left:96.05px;top:254.47px" class="cls_004"><span class="cls_004">computer. Run the .exe file and follow the installation instructions.</span></div>
<div style="position:absolute;left:72.02px;top:284.26px" class="cls_004"><span class="cls_004">7.</span></div>
<div style="position:absolute;left:96.05px;top:284.26px" class="cls_004"><span class="cls_004">Now that R is installed, you need to download and install RStudio.</span></div>
<div style="position:absolute;left:72.02px;top:308.26px" class="cls_007"><span class="cls_007">1.2 Install RStudio</span></div>
<div style="position:absolute;left:72.02px;top:327.46px" class="cls_004"><span class="cls_004">1.</span></div>
<div style="position:absolute;left:96.05px;top:327.46px" class="cls_004"><span class="cls_004">Go to </span><A HREF="https://www.rstudio.com/">www.rstudio.com</A> </span><span class="cls_004"> and click on the “Download RStudio” button.</span></div>
<div style="position:absolute;left:72.02px;top:343.08px" class="cls_004"><span class="cls_004">2.</span></div>
<div style="position:absolute;left:96.05px;top:343.08px" class="cls_004"><span class="cls_004">Click on “Download RStudio Desktop.”</span></div>
<div style="position:absolute;left:72.02px;top:359.16px" class="cls_004"><span class="cls_004">3.</span></div>
<div style="position:absolute;left:96.05px;top:359.16px" class="cls_004"><span class="cls_004">Click on the version recommended for your system, or the latest Windows version, and</span></div>
<div style="position:absolute;left:96.05px;top:373.08px" class="cls_004"><span class="cls_004">save the executable file. Run the .exe file and follow the installation instructions.</span></div>
<div style="position:absolute;left:72.02px;top:397.08px" class="cls_007"><span class="cls_007">1.3 Software information and conventions</span></div>
<div style="position:absolute;left:72.02px;top:423.50px" class="cls_004"><span class="cls_004">The R session information when compiling this book is shown below:</span></div>
<div style="position:absolute;left:72.02px;top:444.86px" class="cls_010"><span class="cls_010">sessionInfo()</span></div>
<div style="position:absolute;left:72.02px;top:467.90px" class="cls_010"><span class="cls_010">## R version 4.0.3 (2020-10-10)</span></div>
<div style="position:absolute;left:72.02px;top:480.86px" class="cls_010"><span class="cls_010">## Platform: x86_64-w64-mingw32/x64 (64-bit)</span></div>
<div style="position:absolute;left:72.02px;top:493.85px" class="cls_010"><span class="cls_010">## Running under: Windows 10 x64 (build 19042)</span></div>
<div style="position:absolute;left:72.02px;top:506.57px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:519.53px" class="cls_010"><span class="cls_010">## Matrix products: default</span></div>
<div style="position:absolute;left:72.02px;top:532.49px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:545.21px" class="cls_010"><span class="cls_010">## locale:</span></div>
<div style="position:absolute;left:72.02px;top:558.17px" class="cls_010"><span class="cls_010">## [1] LC_COLLATE=Korean_Korea.949  LC_CTYPE=Korean_Korea.949</span></div>
<div style="position:absolute;left:72.02px;top:572.11px" class="cls_010"><span class="cls_010">## [3] LC_MONETARY=Korean_Korea.949 LC_NUMERIC=C</span></div>
<div style="position:absolute;left:72.02px;top:584.83px" class="cls_010"><span class="cls_010">## [5] LC_TIME=Korean_Korea.949</span></div>
<div style="position:absolute;left:72.02px;top:596.83px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:609.79px" class="cls_010"><span class="cls_010">## attached base packages:</span></div>
<div style="position:absolute;left:72.02px;top:623.47px" class="cls_010"><span class="cls_010">## [1] stats</span></div>
<div style="position:absolute;left:174.63px;top:623.47px" class="cls_010"><span class="cls_010">graphics  grDevices utils</span></div>
<div style="position:absolute;left:355.86px;top:623.47px" class="cls_010"><span class="cls_010">datasets  methods   base</span></div>
<div style="position:absolute;left:72.02px;top:635.47px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:648.46px" class="cls_010"><span class="cls_010">## loaded via a namespace (and not attached):</span></div>
<div style="position:absolute;left:72.02px;top:662.14px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:662.14px" class="cls_010"><span class="cls_010">[1] compiler_4.0.3  magrittr_1.5</span></div>
<div style="position:absolute;left:313.67px;top:662.14px" class="cls_010"><span class="cls_010">tools_4.0.3</span></div>
<div style="position:absolute;left:410.05px;top:661.18px" class="cls_010"><span class="cls_010">htmltools_0.5.0</span></div>
<div style="position:absolute;left:72.02px;top:675.10px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:675.10px" class="cls_010"><span class="cls_010">[5] yaml_2.2.1</span></div>
<div style="position:absolute;left:216.82px;top:675.10px" class="cls_010"><span class="cls_010">stringi_1.5.3   rmarkdown_2.5   knitr_1.30</span></div>
<div style="position:absolute;left:72.02px;top:688.06px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:688.06px" class="cls_010"><span class="cls_010">[9] stringr_1.4.0</span></div>
<div style="position:absolute;left:216.82px;top:688.06px" class="cls_010"><span class="cls_010">xfun_0.19</span></div>
<div style="position:absolute;left:313.67px;top:688.06px" class="cls_010"><span class="cls_010">digest_0.6.27   rlang_0.4.8</span></div>
<div style="position:absolute;left:72.02px;top:699.82px" class="cls_010"><span class="cls_010">## [13] evaluate_0.14</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:4010px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background06.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.50px" class="cls_004"><span class="cls_004">We do not add prompts (> and +) to R source code in this book, and we comment out the</span></div>
<div style="position:absolute;left:72.02px;top:98.66px" class="cls_004"><span class="cls_004">text output with two hashes ## by default, as you can see from the R session information</span></div>
<div style="position:absolute;left:72.02px;top:112.61px" class="cls_004"><span class="cls_004">above. This is for your convenience when you want to copy and run the code (the text</span></div>
<div style="position:absolute;left:72.02px;top:126.77px" class="cls_004"><span class="cls_004">output will be ignored since it is commented out). Package names are in bold text (e.g.,</span></div>
<div style="position:absolute;left:72.02px;top:140.69px" class="cls_004"><span class="cls_004">rmarkdown), and inline code and filenames are formatted in a typewriter font (e.g.,</span></div>
<div style="position:absolute;left:72.02px;top:154.85px" class="cls_004"><span class="cls_004">knitr::knit(‘foo.Rmd’)). Function names are followed by parentheses (e.g.,</span></div>
<div style="position:absolute;left:72.02px;top:169.01px" class="cls_004"><span class="cls_004">bookdown::render_book()). The double-colon operator :: means accessing an object from a</span></div>
<div style="position:absolute;left:72.02px;top:182.95px" class="cls_004"><span class="cls_004">package.</span></div>
<div style="position:absolute;left:72.02px;top:220.87px" class="cls_005"><span class="cls_005">2. A Study on Determinants of Employment Status of University</span></div>
<div style="position:absolute;left:72.02px;top:240.31px" class="cls_005"><span class="cls_005">Graduates Youth</span></div>
<div style="position:absolute;left:72.02px;top:270.10px" class="cls_007"><span class="cls_007">2.1 Introduction</span></div>
<div style="position:absolute;left:72.02px;top:296.26px" class="cls_004"><span class="cls_004">Using a sample from Graduate Occupational Mobility Survey(GOMS), this study attempts to</span></div>
<div style="position:absolute;left:72.02px;top:310.42px" class="cls_004"><span class="cls_004">ascertain determinants of employment status of university graduates youth in labor</span></div>
<div style="position:absolute;left:72.02px;top:324.34px" class="cls_004"><span class="cls_004">market. In this case, employment status was measured by two aspects, whether employed</span></div>
<div style="position:absolute;left:72.02px;top:338.28px" class="cls_004"><span class="cls_004">or unemployed, and being full-time job at the large corporation or not.</span></div>
<div style="position:absolute;left:72.02px;top:361.56px" class="cls_004"><span class="cls_004">The results reveal that variables such as location of university, major, GPA, the level of</span></div>
<div style="position:absolute;left:72.02px;top:375.72px" class="cls_004"><span class="cls_004">satisfaction with university providing services, whether setting a concrete career goal</span></div>
<div style="position:absolute;left:72.02px;top:389.64px" class="cls_004"><span class="cls_004">before graduating or not, and cost spent in language training abroad have a significant</span></div>
<div style="position:absolute;left:72.02px;top:403.80px" class="cls_004"><span class="cls_004">effect on labor market status (employed/unemployed, and being full-time job in large</span></div>
<div style="position:absolute;left:72.02px;top:417.74px" class="cls_004"><span class="cls_004">firms/part-time job) in common.</span></div>
<div style="position:absolute;left:72.02px;top:441.02px" class="cls_004"><span class="cls_004">Also, the household income level in those days of entering university exert an influence on</span></div>
<div style="position:absolute;left:72.02px;top:454.94px" class="cls_004"><span class="cls_004">probability of being employed. Likewise, those graduates who are male and have</span></div>
<div style="position:absolute;left:72.02px;top:469.10px" class="cls_004"><span class="cls_004">experiences of supplementary private education to be employed are advantageous than</span></div>
<div style="position:absolute;left:72.02px;top:483.02px" class="cls_004"><span class="cls_004">female and those who did not.</span></div>
<div style="position:absolute;left:72.02px;top:507.05px" class="cls_007"><span class="cls_007">2.2 Data Explanation</span></div>
<div style="position:absolute;left:72.02px;top:533.21px" class="cls_004"><span class="cls_004">data filename : employ.csv</span></div>
<div style="position:absolute;left:77.30px;top:558.17px" class="cls_004"><span class="cls_004">variable</span></div>
<div style="position:absolute;left:175.75px;top:558.17px" class="cls_004"><span class="cls_004">description</span></div>
<div style="position:absolute;left:340.70px;top:558.17px" class="cls_004"><span class="cls_004">value</span></div>
<div style="position:absolute;left:77.30px;top:575.95px" class="cls_004"><span class="cls_004">school</span></div>
<div style="position:absolute;left:175.75px;top:575.95px" class="cls_004"><span class="cls_004">type of school</span></div>
<div style="position:absolute;left:340.70px;top:575.95px" class="cls_004"><span class="cls_004">College, University</span></div>
<div style="position:absolute;left:77.30px;top:593.47px" class="cls_004"><span class="cls_004">location</span></div>
<div style="position:absolute;left:175.75px;top:593.47px" class="cls_004"><span class="cls_004">school location</span></div>
<div style="position:absolute;left:340.70px;top:593.47px" class="cls_004"><span class="cls_004">Metro, Non-Metro</span></div>
<div style="position:absolute;left:77.30px;top:611.23px" class="cls_004"><span class="cls_004">gender</span></div>
<div style="position:absolute;left:175.75px;top:611.23px" class="cls_004"><span class="cls_004">gender</span></div>
<div style="position:absolute;left:340.70px;top:611.23px" class="cls_004"><span class="cls_004">Female, Male</span></div>
<div style="position:absolute;left:77.30px;top:628.75px" class="cls_004"><span class="cls_004">gpa</span></div>
<div style="position:absolute;left:175.75px;top:628.75px" class="cls_004"><span class="cls_004">grade point average</span></div>
<div style="position:absolute;left:340.70px;top:628.75px" class="cls_004"><span class="cls_004">0-4.5</span></div>
<div style="position:absolute;left:77.30px;top:646.54px" class="cls_004"><span class="cls_004">double_major</span></div>
<div style="position:absolute;left:175.75px;top:646.54px" class="cls_004"><span class="cls_004">double major</span></div>
<div style="position:absolute;left:340.70px;top:646.54px" class="cls_004"><span class="cls_004">No, Yes</span></div>
<div style="position:absolute;left:77.30px;top:664.30px" class="cls_004"><span class="cls_004">language_course</span></div>
<div style="position:absolute;left:175.75px;top:664.30px" class="cls_004"><span class="cls_004">language training abroad</span></div>
<div style="position:absolute;left:340.70px;top:664.30px" class="cls_004"><span class="cls_004">No, Yes</span></div>
<div style="position:absolute;left:77.30px;top:681.82px" class="cls_004"><span class="cls_004">english_test</span></div>
<div style="position:absolute;left:175.75px;top:681.82px" class="cls_004"><span class="cls_004">take a TOEIC, TOEFL, ǥ exam</span></div>
<div style="position:absolute;left:340.70px;top:681.82px" class="cls_004"><span class="cls_004">No, Yes</span></div>
<div style="position:absolute;left:77.30px;top:699.58px" class="cls_004"><span class="cls_004">work_experience</span></div>
<div style="position:absolute;left:175.75px;top:699.58px" class="cls_004"><span class="cls_004">have a work experience</span></div>
<div style="position:absolute;left:340.70px;top:699.58px" class="cls_004"><span class="cls_004">No, Yes</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:4812px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background07.jpg" width=612 height=792></div>
<div style="position:absolute;left:77.30px;top:86.18px" class="cls_004"><span class="cls_004">job_train</span></div>
<div style="position:absolute;left:175.75px;top:86.18px" class="cls_004"><span class="cls_004">do a vocational course</span></div>
<div style="position:absolute;left:340.70px;top:86.18px" class="cls_004"><span class="cls_004">No, Yes</span></div>
<div style="position:absolute;left:77.30px;top:103.94px" class="cls_004"><span class="cls_004">license</span></div>
<div style="position:absolute;left:175.75px;top:103.94px" class="cls_004"><span class="cls_004">have a qualification certificate</span></div>
<div style="position:absolute;left:340.70px;top:103.94px" class="cls_004"><span class="cls_004">No, Yes</span></div>
<div style="position:absolute;left:77.30px;top:121.73px" class="cls_004"><span class="cls_004">job_preparation</span></div>
<div style="position:absolute;left:175.75px;top:121.73px" class="cls_004"><span class="cls_004">job preparation</span></div>
<div style="position:absolute;left:340.70px;top:121.73px" class="cls_004"><span class="cls_004">0-7</span></div>
<div style="position:absolute;left:77.30px;top:139.25px" class="cls_004"><span class="cls_004">father_edu</span></div>
<div style="position:absolute;left:175.75px;top:139.25px" class="cls_004"><span class="cls_004">father’s education level</span></div>
<div style="position:absolute;left:340.70px;top:139.25px" class="cls_004"><span class="cls_004">High School’,ǥ</span></div>
<div style="position:absolute;left:77.30px;top:157.01px" class="cls_004"><span class="cls_004">mother_edu</span></div>
<div style="position:absolute;left:175.75px;top:157.01px" class="cls_004"><span class="cls_004">mother’s education level</span></div>
<div style="position:absolute;left:340.70px;top:157.01px" class="cls_004"><span class="cls_004">High School’,ǥ</span></div>
<div style="position:absolute;left:77.30px;top:174.53px" class="cls_004"><span class="cls_004">parent_income</span></div>
<div style="position:absolute;left:175.75px;top:174.53px" class="cls_004"><span class="cls_004">parent income</span></div>
<div style="position:absolute;left:340.70px;top:174.53px" class="cls_004"><span class="cls_004">over 500’, ‘under 500’</span></div>
<div style="position:absolute;left:77.30px;top:192.31px" class="cls_004"><span class="cls_004">major</span></div>
<div style="position:absolute;left:175.75px;top:192.31px" class="cls_004"><span class="cls_004">major</span></div>
<div style="position:absolute;left:340.70px;top:192.31px" class="cls_004"><span class="cls_004">Arts and Physical’,ǥ</span></div>
<div style="position:absolute;left:77.30px;top:210.07px" class="cls_004"><span class="cls_004">employ</span></div>
<div style="position:absolute;left:175.75px;top:210.07px" class="cls_004"><span class="cls_004">be employed</span></div>
<div style="position:absolute;left:340.70px;top:210.07px" class="cls_004"><span class="cls_004">no, yes</span></div>
<div style="position:absolute;left:72.02px;top:234.79px" class="cls_004"><span class="cls_004">We do not add prompts to R source code in this manual, and we comment out the text</span></div>
<div style="position:absolute;left:72.02px;top:248.95px" class="cls_004"><span class="cls_004">output by two hashes ## by default. Package names are in bold text (e.g., </span><span class="cls_011">rpart</span><span class="cls_004">), function</span></div>
<div style="position:absolute;left:72.02px;top:262.90px" class="cls_004"><span class="cls_004">names are formatted as code (e.g., </span><span class="cls_010">read.csv()</span><span class="cls_004">).</span></div>
<div style="position:absolute;left:72.02px;top:287.14px" class="cls_007"><span class="cls_007">2.3 Install and load package</span></div>
<div style="position:absolute;left:72.02px;top:313.30px" class="cls_004"><span class="cls_004">Packages are the way that third party R code is distributed. The Comprehensive R Archive</span></div>
<div style="position:absolute;left:72.02px;top:327.46px" class="cls_004"><span class="cls_004">Network (</span><span class="cls_009">CRAN</span><span class="cls_004">) provides hosting and listing of third party R packages that you can</span></div>
<div style="position:absolute;left:72.02px;top:341.40px" class="cls_004"><span class="cls_004">download. You can install a package hosted on CRAN by calling a function. It will then pop-</span></div>
<div style="position:absolute;left:72.02px;top:355.56px" class="cls_004"><span class="cls_004">up a dialog to ask you which mirror you would like to download the package from. For</span></div>
<div style="position:absolute;left:72.02px;top:369.72px" class="cls_004"><span class="cls_004">example, here is how you can install packages which are very useful for machine learning</span></div>
<div style="position:absolute;left:72.02px;top:383.64px" class="cls_004"><span class="cls_004">in R and will be used in later session:</span></div>
<div style="position:absolute;left:72.02px;top:405.24px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"tidyverse"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:418.22px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"rpart"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:431.18px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"rpart.plot"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:443.90px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"caret"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:456.86px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"DMwR"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:469.82px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"pROC"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:482.54px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"randomForest"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:495.53px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"ranger"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:508.49px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"ipred"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:521.21px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"gbm"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:545.45px" class="cls_004"><span class="cls_004">You can load a package in R by calling the </span><span class="cls_010">library()</span><span class="cls_004"> function and passing the package</span></div>
<div style="position:absolute;left:72.02px;top:559.85px" class="cls_004"><span class="cls_004">name as the argument (it’s a confusing function name, I know). For example, you can load</span></div>
<div style="position:absolute;left:72.02px;top:573.79px" class="cls_004"><span class="cls_004">the package as follows:</span></div>
<div style="position:absolute;left:72.02px;top:595.39px" class="cls_010"><span class="cls_010">library(tidyverse)</span></div>
<div style="position:absolute;left:72.02px;top:608.35px" class="cls_010"><span class="cls_010">library(rpart)</span></div>
<div style="position:absolute;left:72.02px;top:621.31px" class="cls_010"><span class="cls_010">library(rpart.plot)</span></div>
<div style="position:absolute;left:72.02px;top:634.03px" class="cls_010"><span class="cls_010">library(caret)</span></div>
<div style="position:absolute;left:72.02px;top:647.02px" class="cls_010"><span class="cls_010">library(DMwR)</span></div>
<div style="position:absolute;left:72.02px;top:659.98px" class="cls_010"><span class="cls_010">library(pROC)</span></div>
<div style="position:absolute;left:72.02px;top:672.70px" class="cls_010"><span class="cls_010">library(randomForest)</span></div>
<div style="position:absolute;left:72.02px;top:685.66px" class="cls_010"><span class="cls_010">library(ranger)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:5614px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background08.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_010"><span class="cls_010">library(ipred)</span></div>
<div style="position:absolute;left:72.02px;top:95.78px" class="cls_010"><span class="cls_010">library(gbm)</span></div>
<div style="position:absolute;left:72.02px;top:120.05px" class="cls_007"><span class="cls_007">2.4 Import Data</span></div>
<div style="position:absolute;left:72.02px;top:146.21px" class="cls_004"><span class="cls_004">We will use the built in </span><span class="cls_010">read.csv()</span><span class="cls_004"> function call, which reads the data in as a data frame,</span></div>
<div style="position:absolute;left:72.02px;top:160.37px" class="cls_004"><span class="cls_004">and assign the data frame to a variable (using </span><span class="cls_010">&lt;-</span><span class="cls_004">) so that it is stored in R’s memory. Then</span></div>
<div style="position:absolute;left:72.02px;top:174.77px" class="cls_004"><span class="cls_004">we will explore some of the basic arguments that can be supplied to the function. The</span></div>
<div style="position:absolute;left:72.02px;top:188.71px" class="cls_004"><span class="cls_004">default for </span><span class="cls_010">read.csv()</span><span class="cls_004"> is to set the </span><span class="cls_010">header</span><span class="cls_004"> argument to TRUE. This means that the first row</span></div>
<div style="position:absolute;left:72.02px;top:202.87px" class="cls_004"><span class="cls_004">of values in the .csv is set as header information (column names). If your data set does not</span></div>
<div style="position:absolute;left:72.02px;top:216.79px" class="cls_004"><span class="cls_004">have a header, set the </span><span class="cls_010">header</span><span class="cls_004"> argument to FALSE. The </span><span class="cls_010">stringsAsFactors</span><span class="cls_004"> argument is</span></div>
<div style="position:absolute;left:72.02px;top:230.95px" class="cls_004"><span class="cls_004">perhaps the most important argument in </span><span class="cls_010">read.csv()</span><span class="cls_004">, particularly if you are working with</span></div>
<div style="position:absolute;left:72.02px;top:245.35px" class="cls_004"><span class="cls_004">categorical data. This is because the default behavior of R is to convert character strings</span></div>
<div style="position:absolute;left:72.02px;top:259.30px" class="cls_004"><span class="cls_004">into factors, which may make it difficult to do such things as replace values.</span></div>
<div style="position:absolute;left:72.02px;top:280.90px" class="cls_010"><span class="cls_010">employ_all </span><span class="cls_013">&lt;-</span><span class="cls_010"> read.csv(</span><span class="cls_012">"employ.csv"</span><span class="cls_010">, </span><span class="cls_014">stringsAsFactors=</span><span class="cls_010">TRUE)</span></div>
<div style="position:absolute;left:72.02px;top:305.38px" class="cls_004"><span class="cls_004">R is always pointed at a directory on your computer. You can find out which directory by</span></div>
<div style="position:absolute;left:72.02px;top:319.30px" class="cls_004"><span class="cls_004">running the </span><span class="cls_010">getwd()</span><span class="cls_004"> (get working directory) function; this function has no arguments. To</span></div>
<div style="position:absolute;left:72.02px;top:333.46px" class="cls_004"><span class="cls_004">change your working directory, use </span><span class="cls_010">setwd()</span><span class="cls_004"> and specify the path to the desired folder.</span></div>
<div style="position:absolute;left:72.02px;top:356.76px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:356.76px" class="cls_010"><span class="cls_010">getwd()</span></div>
<div style="position:absolute;left:72.02px;top:372.60px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:372.60px" class="cls_010"><span class="cls_010">setwd(dir)</span><span class="cls_004"> -dir - Specify a working directory. This may be from the root directory</span></div>
<div style="position:absolute;left:96.05px;top:387.00px" class="cls_004"><span class="cls_004">(starting with / on a Mac), it may include a double-dot (..) to move locally up a folder</span></div>
<div style="position:absolute;left:96.05px;top:400.92px" class="cls_004"><span class="cls_004">from the current directory, and it may include a path from the current directory.</span></div>
<div style="position:absolute;left:72.02px;top:415.34px" class="cls_010"><span class="cls_010">getwd()</span></div>
<div style="position:absolute;left:72.02px;top:438.14px" class="cls_010"><span class="cls_010">## [1] "C:/Users/TGD-040/OneDrive/project"</span></div>
<div style="position:absolute;left:72.02px;top:461.18px" class="cls_010"><span class="cls_010">setwd(</span><span class="cls_012">"c:/project"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:485.42px" class="cls_007"><span class="cls_007">2.5 Exploring and Preparing the Data</span></div>
<div style="position:absolute;left:72.02px;top:511.61px" class="cls_004"><span class="cls_004">The first questions to ask in an investigation of a new dataset should be about how the</span></div>
<div style="position:absolute;left:72.02px;top:525.77px" class="cls_004"><span class="cls_004">dataset is organized. If you are fortunate, your source will provide a data dictionary, a</span></div>
<div style="position:absolute;left:72.02px;top:539.69px" class="cls_004"><span class="cls_004">document that describes the dataset’s features. In our case, the used car data does not</span></div>
<div style="position:absolute;left:72.02px;top:553.61px" class="cls_004"><span class="cls_004">come with this documentation, so we’ll need to create our own. The </span><span class="cls_010">str()</span><span class="cls_004"> function</span></div>
<div style="position:absolute;left:72.02px;top:568.01px" class="cls_004"><span class="cls_004">provides a method for displaying the structure of R objects, such as data frames, vectors, or</span></div>
<div style="position:absolute;left:72.02px;top:581.95px" class="cls_004"><span class="cls_004">lists. It can be used to create the basic outline for our data dictionary:</span></div>
<div style="position:absolute;left:72.02px;top:603.55px" class="cls_010"><span class="cls_010">str(employ_all)</span></div>
<div style="position:absolute;left:72.02px;top:627.55px" class="cls_010"><span class="cls_010">## 'data.frame':</span></div>
<div style="position:absolute;left:192.61px;top:627.55px" class="cls_010"><span class="cls_010">13331 obs. of</span></div>
<div style="position:absolute;left:283.23px;top:626.59px" class="cls_010"><span class="cls_010">16 variables:</span></div>
<div style="position:absolute;left:72.02px;top:640.51px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:640.51px" class="cls_010"><span class="cls_010">$ school</span></div>
<div style="position:absolute;left:198.61px;top:640.51px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "College","University": 1 1 1 1 1 1</span></div>
<div style="position:absolute;left:78.02px;top:652.30px" class="cls_010"><span class="cls_010">1 1 1 1 ...</span></div>
<div style="position:absolute;left:72.02px;top:666.22px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:666.22px" class="cls_010"><span class="cls_010">$ location</span></div>
<div style="position:absolute;left:198.61px;top:666.22px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "Metro","Non-Metro": 1 1 1 1 2 2 2</span></div>
<div style="position:absolute;left:72.02px;top:678.22px" class="cls_010"><span class="cls_010">1 1 1 ...</span></div>
<div style="position:absolute;left:72.02px;top:691.90px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:691.90px" class="cls_010"><span class="cls_010">$ gender</span></div>
<div style="position:absolute;left:198.61px;top:691.90px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "Female","Male": 1 1 1 2 2 1 2 2 1</span></div>
<div style="position:absolute;left:72.02px;top:703.90px" class="cls_010"><span class="cls_010">1 ...</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:6416px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background09.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.02px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:84.02px" class="cls_010"><span class="cls_010">$ gpa</span></div>
<div style="position:absolute;left:198.61px;top:84.02px" class="cls_010"><span class="cls_010">: num</span></div>
<div style="position:absolute;left:241.30px;top:83.06px" class="cls_010"><span class="cls_010">3.5 2 2.8 3.8 4.2 4 4 2.9 2.9 4.4 ...</span></div>
<div style="position:absolute;left:72.02px;top:96.98px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:96.98px" class="cls_010"><span class="cls_010">$ double_major</span></div>
<div style="position:absolute;left:198.61px;top:96.02px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "No","Yes": 1 1 1 1 1 1 1 1 1 1 ...</span></div>
<div style="position:absolute;left:72.02px;top:109.73px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:108.77px" class="cls_010"><span class="cls_010">$ language_course: Factor w/ 2 levels "No","Yes": 1 1 1 1 2 1 1 1 1 1 ...</span></div>
<div style="position:absolute;left:72.02px;top:122.69px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:122.69px" class="cls_010"><span class="cls_010">$ english_test</span></div>
<div style="position:absolute;left:198.61px;top:121.73px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "No","Yes": 1 1 1 1 1 1 1 2 1 2 ...</span></div>
<div style="position:absolute;left:72.02px;top:135.65px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:134.69px" class="cls_010"><span class="cls_010">$ work_experience: Factor w/ 2 levels "No","Yes": 2 1 2 2 1 1 2 1 2 2 ...</span></div>
<div style="position:absolute;left:72.02px;top:148.37px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:148.37px" class="cls_010"><span class="cls_010">$ job_train</span></div>
<div style="position:absolute;left:198.61px;top:147.41px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "No","Yes": 2 1 1 1 1 1 1 1 1 1 ...</span></div>
<div style="position:absolute;left:72.02px;top:161.33px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:161.33px" class="cls_010"><span class="cls_010">$ license</span></div>
<div style="position:absolute;left:198.61px;top:160.37px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "No","Yes": 2 2 1 2 1 1 2 1 1 1 ...</span></div>
<div style="position:absolute;left:72.02px;top:174.29px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.02px;top:174.29px" class="cls_010"><span class="cls_010">$ job_preparation: int</span></div>
<div style="position:absolute;left:241.09px;top:173.33px" class="cls_010"><span class="cls_010">3 3 2 1 0 3 1 1 3 3 ...</span></div>
<div style="position:absolute;left:72.02px;top:187.03px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:187.03px" class="cls_010"><span class="cls_010">$ father_edu</span></div>
<div style="position:absolute;left:198.61px;top:187.03px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "High School",..: 2 1 1 2 1 2 2 1 1</span></div>
<div style="position:absolute;left:78.02px;top:199.03px" class="cls_010"><span class="cls_010">1 ...</span></div>
<div style="position:absolute;left:72.02px;top:212.95px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:212.95px" class="cls_010"><span class="cls_010">$ mother_edu</span></div>
<div style="position:absolute;left:198.61px;top:212.95px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "High School",..: 2 2 1 2 2 2 1 1 1</span></div>
<div style="position:absolute;left:78.02px;top:224.71px" class="cls_010"><span class="cls_010">1 ...</span></div>
<div style="position:absolute;left:72.02px;top:238.63px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:238.63px" class="cls_010"><span class="cls_010">$ parent_income</span></div>
<div style="position:absolute;left:198.61px;top:238.63px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "over 500","under 500": 1 2 1 1 2 1</span></div>
<div style="position:absolute;left:78.02px;top:250.63px" class="cls_010"><span class="cls_010">2 2 2 2 ...</span></div>
<div style="position:absolute;left:72.02px;top:264.34px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:264.34px" class="cls_010"><span class="cls_010">$ major</span></div>
<div style="position:absolute;left:198.61px;top:264.34px" class="cls_010"><span class="cls_010">: Factor w/ 7 levels "Arts and Physical",..: 4 4 4 4 4 4</span></div>
<div style="position:absolute;left:78.02px;top:276.34px" class="cls_010"><span class="cls_010">4 4 4 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:290.02px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:290.02px" class="cls_010"><span class="cls_010">$ employ</span></div>
<div style="position:absolute;left:198.61px;top:289.06px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "no","yes": 2 1 2 2 2 2 2 2 1 2 ...</span></div>
<div style="position:absolute;left:72.02px;top:313.54px" class="cls_004"><span class="cls_004">For such a simple command, we learn a wealth of information about the dataset. The</span></div>
<div style="position:absolute;left:72.02px;top:327.46px" class="cls_004"><span class="cls_004">statement </span><span class="cls_010">13331 obs</span><span class="cls_004"> informs us that the data includes 13,331 observations, which is just</span></div>
<div style="position:absolute;left:72.02px;top:341.88px" class="cls_004"><span class="cls_004">another way of saying that the dataset contains 13,331 records or examples. The number of</span></div>
<div style="position:absolute;left:72.02px;top:355.80px" class="cls_004"><span class="cls_004">observations is often simply abbreviated as n. The </span><span class="cls_010">16 variables</span><span class="cls_004"> statement refers to the</span></div>
<div style="position:absolute;left:72.02px;top:369.96px" class="cls_004"><span class="cls_004">sixteen features that were recorded in the data. These features are listed by name on</span></div>
<div style="position:absolute;left:72.02px;top:383.88px" class="cls_004"><span class="cls_004">separate lines. Looking at the line for the feature called </span><span class="cls_010">location</span><span class="cls_004">, we note some additional</span></div>
<div style="position:absolute;left:72.02px;top:398.04px" class="cls_004"><span class="cls_004">details:</span></div>
<div style="position:absolute;left:72.02px;top:419.66px" class="cls_010"><span class="cls_010">location : Factor w/ 2 levels "Metro","Non-Metro": 1 1 1 1 2 2 2</span></div>
<div style="position:absolute;left:72.02px;top:443.18px" class="cls_004"><span class="cls_004">After the variable’s name, the Factor label tells us that the feature is factor type. In this</span></div>
<div style="position:absolute;left:72.02px;top:457.34px" class="cls_004"><span class="cls_004">dataset, fourteen of the variables are factor while one is noted as num, int which refers to</span></div>
<div style="position:absolute;left:72.02px;top:471.26px" class="cls_004"><span class="cls_004">the numeric type and integer type. In R, we can get summary statistics for a dataset by</span></div>
<div style="position:absolute;left:72.02px;top:485.18px" class="cls_004"><span class="cls_004">using the </span><span class="cls_010">summary()</span><span class="cls_004"> function. To get the summary statistics for our employ dataset, we</span></div>
<div style="position:absolute;left:72.02px;top:499.37px" class="cls_004"><span class="cls_004">pass the name of the dataset to the </span><span class="cls_010">summary()</span><span class="cls_004"> function.</span></div>
<div style="position:absolute;left:72.02px;top:521.21px" class="cls_010"><span class="cls_010">summary(employ_all)</span></div>
<div style="position:absolute;left:72.02px;top:545.21px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:138.20px;top:545.21px" class="cls_010"><span class="cls_010">school</span></div>
<div style="position:absolute;left:241.30px;top:545.21px" class="cls_010"><span class="cls_010">location</span></div>
<div style="position:absolute;left:331.92px;top:545.21px" class="cls_010"><span class="cls_010">gender</span></div>
<div style="position:absolute;left:428.53px;top:545.21px" class="cls_010"><span class="cls_010">gpa</span></div>
<div style="position:absolute;left:494.93px;top:545.21px" class="cls_010"><span class="cls_010">double_</span></div>
<div style="position:absolute;left:72.02px;top:557.21px" class="cls_010"><span class="cls_010">major</span></div>
<div style="position:absolute;left:72.02px;top:570.91px" class="cls_010"><span class="cls_010">##  College</span></div>
<div style="position:absolute;left:156.41px;top:570.91px" class="cls_010"><span class="cls_010">: 2677   Metro</span></div>
<div style="position:absolute;left:265.01px;top:570.91px" class="cls_010"><span class="cls_010">:5991   Female:6083   Min.</span></div>
<div style="position:absolute;left:440.25px;top:570.91px" class="cls_010"><span class="cls_010">:1.000   No :112</span></div>
<div style="position:absolute;left:72.02px;top:583.87px" class="cls_010"><span class="cls_010">01</span></div>
<div style="position:absolute;left:72.02px;top:596.83px" class="cls_010"><span class="cls_010">##  University:10654   Non-Metro:7340   Male</span></div>
<div style="position:absolute;left:349.89px;top:596.83px" class="cls_010"><span class="cls_010">:7248</span></div>
<div style="position:absolute;left:398.31px;top:596.83px" class="cls_010"><span class="cls_010">1st Qu.:3.300   Yes: 21</span></div>
<div style="position:absolute;left:72.02px;top:609.55px" class="cls_010"><span class="cls_010">30</span></div>
<div style="position:absolute;left:72.02px;top:622.51px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:398.57px;top:622.51px" class="cls_010"><span class="cls_010">Median :3.700</span></div>
<div style="position:absolute;left:72.02px;top:649.42px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:398.06px;top:649.42px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:440.25px;top:649.42px" class="cls_010"><span class="cls_010">:3.602</span></div>
<div style="position:absolute;left:72.02px;top:676.30px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:398.06px;top:676.30px" class="cls_010"><span class="cls_010">3rd Qu.:3.900</span></div>
<div style="position:absolute;left:72.02px;top:703.42px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:398.57px;top:703.42px" class="cls_010"><span class="cls_010">Max.</span></div>
<div style="position:absolute;left:440.76px;top:703.42px" class="cls_010"><span class="cls_010">:4.500</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:7218px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background10.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:98.18px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:398.06px;top:98.18px" class="cls_010"><span class="cls_010">NA's</span></div>
<div style="position:absolute;left:440.25px;top:98.18px" class="cls_010"><span class="cls_010">:21</span></div>
<div style="position:absolute;left:72.02px;top:124.13px" class="cls_010"><span class="cls_010">##  language_course english_test work_experience job_train  license</span></div>
<div style="position:absolute;left:72.02px;top:138.05px" class="cls_010"><span class="cls_010">##  No :11825</span></div>
<div style="position:absolute;left:192.61px;top:138.05px" class="cls_010"><span class="cls_010">No :8342</span></div>
<div style="position:absolute;left:271.24px;top:138.05px" class="cls_010"><span class="cls_010">No :4591</span></div>
<div style="position:absolute;left:367.85px;top:137.09px" class="cls_010"><span class="cls_010">No :9622   No :5650</span></div>
<div style="position:absolute;left:72.02px;top:150.77px" class="cls_010"><span class="cls_010">##  Yes: 1506</span></div>
<div style="position:absolute;left:192.61px;top:150.77px" class="cls_010"><span class="cls_010">Yes:4989</span></div>
<div style="position:absolute;left:271.24px;top:150.77px" class="cls_010"><span class="cls_010">Yes:8740</span></div>
<div style="position:absolute;left:367.85px;top:149.81px" class="cls_010"><span class="cls_010">Yes:3709   Yes:7681</span></div>
<div style="position:absolute;left:72.02px;top:163.73px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:176.69px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:189.43px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:202.39px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:215.35px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:228.07px" class="cls_010"><span class="cls_010">##  job_preparation</span></div>
<div style="position:absolute;left:228.81px;top:228.07px" class="cls_010"><span class="cls_010">father_edu</span></div>
<div style="position:absolute;left:343.64px;top:228.07px" class="cls_010"><span class="cls_010">mother_edu</span></div>
<div style="position:absolute;left:434.26px;top:227.11px" class="cls_010"><span class="cls_010">parent_income</span></div>
<div style="position:absolute;left:72.02px;top:241.03px" class="cls_010"><span class="cls_010">##  Min.</span></div>
<div style="position:absolute;left:138.20px;top:240.07px" class="cls_010"><span class="cls_010">:0.000   High School:7704   High School:9666   over 500 :4135</span></div>
<div style="position:absolute;left:72.02px;top:253.99px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:253.03px" class="cls_010"><span class="cls_010">1st Qu.:1.000   University :5627   University :3665   under 500:9196</span></div>
<div style="position:absolute;left:72.02px;top:266.74px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:266.74px" class="cls_010"><span class="cls_010">Median :2.000</span></div>
<div style="position:absolute;left:72.02px;top:279.70px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:279.70px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:138.20px;top:279.70px" class="cls_010"><span class="cls_010">:2.534</span></div>
<div style="position:absolute;left:72.02px;top:292.66px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:292.66px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:72.02px;top:305.38px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:305.38px" class="cls_010"><span class="cls_010">Max.</span></div>
<div style="position:absolute;left:138.20px;top:305.38px" class="cls_010"><span class="cls_010">:8.000</span></div>
<div style="position:absolute;left:72.02px;top:318.34px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:331.30px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:180.62px;top:331.30px" class="cls_010"><span class="cls_010">major</span></div>
<div style="position:absolute;left:247.03px;top:331.30px" class="cls_010"><span class="cls_010">employ</span></div>
<div style="position:absolute;left:72.02px;top:344.04px" class="cls_010"><span class="cls_010">##  Arts and Physical:1427</span></div>
<div style="position:absolute;left:247.03px;top:343.08px" class="cls_010"><span class="cls_010">no : 1440</span></div>
<div style="position:absolute;left:72.02px;top:357.00px" class="cls_010"><span class="cls_010">##  Education</span></div>
<div style="position:absolute;left:198.61px;top:356.04px" class="cls_010"><span class="cls_010">: 717   yes:11891</span></div>
<div style="position:absolute;left:72.02px;top:369.96px" class="cls_010"><span class="cls_010">##  Engineering</span></div>
<div style="position:absolute;left:198.61px;top:369.96px" class="cls_010"><span class="cls_010">:4038</span></div>
<div style="position:absolute;left:72.02px;top:382.68px" class="cls_010"><span class="cls_010">##  Humanity</span></div>
<div style="position:absolute;left:198.61px;top:382.68px" class="cls_010"><span class="cls_010">:1553</span></div>
<div style="position:absolute;left:72.02px;top:395.64px" class="cls_010"><span class="cls_010">##  Medical</span></div>
<div style="position:absolute;left:198.61px;top:395.64px" class="cls_010"><span class="cls_010">: 995</span></div>
<div style="position:absolute;left:72.02px;top:408.60px" class="cls_010"><span class="cls_010">##  Nature</span></div>
<div style="position:absolute;left:198.61px;top:408.60px" class="cls_010"><span class="cls_010">:1829</span></div>
<div style="position:absolute;left:72.02px;top:421.34px" class="cls_010"><span class="cls_010">##  Social</span></div>
<div style="position:absolute;left:198.61px;top:420.38px" class="cls_010"><span class="cls_010">:2772</span></div>
<div style="position:absolute;left:72.02px;top:444.86px" class="cls_004"><span class="cls_004">Sometimes you need to explicitly convert integer to factor. To do this, you use the functions</span></div>
<div style="position:absolute;left:72.02px;top:458.78px" class="cls_004"><span class="cls_004">factor().</span></div>
<div style="position:absolute;left:72.02px;top:480.38px" class="cls_010"><span class="cls_010">employ_all$job_preparation </span><span class="cls_013">&lt;-</span><span class="cls_010"> factor(employ_all$job_preparation)</span></div>
<div style="position:absolute;left:72.02px;top:504.89px" class="cls_004"><span class="cls_004">The tidyverse provides us with a powerful and flexible package for visualizing data called</span></div>
<div style="position:absolute;left:72.02px;top:518.81px" class="cls_004"><span class="cls_004">ggplot2. The functions provided by ggplot2 follow a principle and consistent syntax known</span></div>
<div style="position:absolute;left:72.02px;top:532.97px" class="cls_004"><span class="cls_004">as the grammar of graphics. For readers who are interested in an in-depth explanation of</span></div>
<div style="position:absolute;left:72.02px;top:546.89px" class="cls_004"><span class="cls_004">ggplot2 and the grammar of graphics, we refer you to the books ggplot2 by Hadley</span></div>
<div style="position:absolute;left:72.02px;top:560.81px" class="cls_004"><span class="cls_004">Wickham and The Grammar of Graphics by Leland Wilkinson.</span></div>
<div style="position:absolute;left:72.02px;top:582.67px" class="cls_010"><span class="cls_010">employ_all %>%</span></div>
<div style="position:absolute;left:84.02px;top:595.63px" class="cls_010"><span class="cls_010">ggplot(aes(employ)) +</span></div>
<div style="position:absolute;left:84.02px;top:608.35px" class="cls_010"><span class="cls_010">geom_bar(</span><span class="cls_014">color=</span><span class="cls_012">"white"</span><span class="cls_010">)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:8020px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background11.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:310.42px" class="cls_010"><span class="cls_010">employ_all %>%</span></div>
<div style="position:absolute;left:84.02px;top:323.38px" class="cls_010"><span class="cls_010">ggplot(aes(gpa)) +</span></div>
<div style="position:absolute;left:84.02px;top:336.10px" class="cls_010"><span class="cls_010">geom_histogram(</span><span class="cls_014">color=</span><span class="cls_012">"white"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:358.92px" class="cls_010"><span class="cls_010">## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></div>
<div style="position:absolute;left:72.02px;top:381.72px" class="cls_010"><span class="cls_010">## Warning: Removed 21 rows containing non-finite values (stat_bin).</span></div>
<div style="position:absolute;left:72.02px;top:632.11px" class="cls_010"><span class="cls_010">employ_all %>%</span></div>
<div style="position:absolute;left:84.02px;top:645.07px" class="cls_010"><span class="cls_010">ggplot(aes(gpa)) +</span></div>
<div style="position:absolute;left:84.02px;top:657.82px" class="cls_010"><span class="cls_010">geom_boxplot(</span><span class="cls_014">color=</span><span class="cls_012">"blue"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:680.62px" class="cls_010"><span class="cls_010">## Warning: Removed 21 rows containing non-finite values (stat_boxplot).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:8822px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background12.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:312.58px" class="cls_007"><span class="cls_007">2.6 Dealing with the missing data</span></div>
<div style="position:absolute;left:72.02px;top:339.00px" class="cls_004"><span class="cls_004">For continuous features, the most commonly used approach for dealing with missing</span></div>
<div style="position:absolute;left:72.02px;top:352.92px" class="cls_004"><span class="cls_004">values is the mean or median imputation approach. As the name suggests, the approach</span></div>
<div style="position:absolute;left:72.02px;top:367.08px" class="cls_004"><span class="cls_004">involves the use of the mean or median of the observed values as a substitute for the</span></div>
<div style="position:absolute;left:72.02px;top:381.00px" class="cls_004"><span class="cls_004">missing value.</span></div>
<div style="position:absolute;left:72.02px;top:402.84px" class="cls_010"><span class="cls_010">employ_all$gpa </span><span class="cls_013">&lt;-</span><span class="cls_010"> ifelse(is.na(employ_all$gpa),</span></div>
<div style="position:absolute;left:223.06px;top:415.58px" class="cls_010"><span class="cls_010">mean(employ_all$gpa, </span><span class="cls_014">na.rm=</span><span class="cls_010">TRUE),</span></div>
<div style="position:absolute;left:223.06px;top:428.30px" class="cls_010"><span class="cls_010">employ_all$gpa)</span></div>
<div style="position:absolute;left:72.02px;top:452.78px" class="cls_007"><span class="cls_007">2.7 Splitting the data (train set & test set)</span></div>
<div style="position:absolute;left:72.02px;top:478.70px" class="cls_004"><span class="cls_004">The </span><span class="cls_010">createDataPartition()</span><span class="cls_004"> function in </span><span class="cls_011">caret</span><span class="cls_004"> package creates stratified random samples</span></div>
<div style="position:absolute;left:72.02px;top:492.89px" class="cls_004"><span class="cls_004">from the original data and takes three main arguments. The first argument (</span><span class="cls_010">y</span><span class="cls_004">) specifies the</span></div>
<div style="position:absolute;left:72.02px;top:507.05px" class="cls_004"><span class="cls_004">class or dependent variable, the second argument (</span><span class="cls_010">p</span><span class="cls_004">) specifies the proportion of examples</span></div>
<div style="position:absolute;left:72.02px;top:521.45px" class="cls_004"><span class="cls_004">that should be assigned to the training set, and the third argument (list) specifies the</span></div>
<div style="position:absolute;left:72.02px;top:535.37px" class="cls_004"><span class="cls_004">format of the results that are returned. This argument can be either </span><span class="cls_010">TRUE</span><span class="cls_004"> or </span><span class="cls_010">FALSE</span><span class="cls_004">. If it is</span></div>
<div style="position:absolute;left:72.02px;top:549.53px" class="cls_010"><span class="cls_010">TRUE</span><span class="cls_004">, then the results of the function are returned as a list (single row), but if it is </span><span class="cls_010">FALSE</span><span class="cls_004">,</span></div>
<div style="position:absolute;left:72.02px;top:563.69px" class="cls_004"><span class="cls_004">then the results are returned as a matrix (several rows). Note that we use the </span><span class="cls_010">set.seed()</span></div>
<div style="position:absolute;left:72.02px;top:578.11px" class="cls_004"><span class="cls_004">function here again. By setting the seed value, we ensure that we get the same data</span></div>
<div style="position:absolute;left:72.02px;top:592.03px" class="cls_004"><span class="cls_004">partitions every time we run the code.</span></div>
<div style="position:absolute;left:72.02px;top:613.87px" class="cls_015"><span class="cls_015"># Create a vector of indices which is an 80% random sample</span></div>
<div style="position:absolute;left:72.02px;top:626.59px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:639.55px" class="cls_010"><span class="cls_010">index </span><span class="cls_013">&lt;-</span><span class="cls_010"> createDataPartition(employ_all$employ, </span><span class="cls_014">p =</span><span class="cls_010"> </span><span class="cls_016">0.8</span><span class="cls_010">, </span><span class="cls_014">list =</span><span class="cls_010"> FALSE)</span></div>
<div style="position:absolute;left:72.02px;top:666.46px" class="cls_010"><span class="cls_010">employ_train </span><span class="cls_013">&lt;-</span><span class="cls_010"> employ_all[index, ]</span></div>
<div style="position:absolute;left:72.02px;top:679.18px" class="cls_010"><span class="cls_010">prop.table(table(employ_train$employ))</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:9624px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background13.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:96.98px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:132.20px;top:96.98px" class="cls_010"><span class="cls_010">no</span></div>
<div style="position:absolute;left:186.62px;top:96.02px" class="cls_010"><span class="cls_010">yes</span></div>
<div style="position:absolute;left:72.02px;top:108.77px" class="cls_010"><span class="cls_010">## 0.1080169 0.8919831</span></div>
<div style="position:absolute;left:72.02px;top:131.81px" class="cls_010"><span class="cls_010">employ_test </span><span class="cls_013">&lt;-</span><span class="cls_010"> employ_all[-index, ]</span></div>
<div style="position:absolute;left:72.02px;top:144.53px" class="cls_010"><span class="cls_010">prop.table(table(employ_test$employ))</span></div>
<div style="position:absolute;left:72.02px;top:167.57px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:181.25px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:126.21px;top:181.25px" class="cls_010"><span class="cls_010">no</span></div>
<div style="position:absolute;left:174.63px;top:180.29px" class="cls_010"><span class="cls_010">yes</span></div>
<div style="position:absolute;left:72.02px;top:193.03px" class="cls_010"><span class="cls_010">## 0.108027 0.891973</span></div>
<div style="position:absolute;left:72.02px;top:217.51px" class="cls_007"><span class="cls_007">2.8 Dealing with Class Imbalance</span></div>
<div style="position:absolute;left:72.02px;top:243.67px" class="cls_004"><span class="cls_004">Class imbalance is a common problem when working with real-world data. It degrades the</span></div>
<div style="position:absolute;left:72.02px;top:257.83px" class="cls_004"><span class="cls_004">performance of a machine learning model because it biases the model toward the majority</span></div>
<div style="position:absolute;left:72.02px;top:271.78px" class="cls_004"><span class="cls_004">class at the expense of the minority class. Before we build a model, we need to address this</span></div>
<div style="position:absolute;left:72.02px;top:285.94px" class="cls_004"><span class="cls_004">problem. There are several approaches to solving class imbalance problems; one of them is</span></div>
<div style="position:absolute;left:72.02px;top:299.86px" class="cls_004"><span class="cls_004">by using a synthetic minority oversampling technique (SMOTE).</span></div>
<div style="position:absolute;left:72.02px;top:323.14px" class="cls_004"><span class="cls_004">This technique works by creating new synthetic samples from the minority class to resolve</span></div>
<div style="position:absolute;left:72.02px;top:337.08px" class="cls_004"><span class="cls_004">the imbalance. In R, the </span><span class="cls_011">DMwR</span><span class="cls_004"> package provides us with a function called </span><span class="cls_010">SMOTE()</span><span class="cls_004">, which</span></div>
<div style="position:absolute;left:72.02px;top:351.24px" class="cls_004"><span class="cls_004">we can use to balance our training data. The </span><span class="cls_010">SMOTE()</span><span class="cls_004"> function accepts arguments that</span></div>
<div style="position:absolute;left:72.02px;top:365.40px" class="cls_004"><span class="cls_004">describe the formula for the prediction problem, the data frame containing the original</span></div>
<div style="position:absolute;left:72.02px;top:379.56px" class="cls_004"><span class="cls_004">imbalanced data, a specification of how many extra cases from the minority class are to be</span></div>
<div style="position:absolute;left:72.02px;top:393.48px" class="cls_004"><span class="cls_004">generated (</span><span class="cls_010">perc.over</span><span class="cls_004">), and a specification for how many extra cases from the majority</span></div>
<div style="position:absolute;left:72.02px;top:407.64px" class="cls_004"><span class="cls_004">class should be selected for each case generated from the minority class (</span><span class="cls_010">perc.under</span><span class="cls_004">). The</span></div>
<div style="position:absolute;left:72.02px;top:421.82px" class="cls_004"><span class="cls_004">output of the function is a data frame of the balanced data.</span></div>
<div style="position:absolute;left:72.02px;top:443.66px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:456.38px" class="cls_010"><span class="cls_010">employ_train </span><span class="cls_013">&lt;-</span><span class="cls_010"> SMOTE(employ ~ ., data.frame(employ_train),</span></div>
<div style="position:absolute;left:204.79px;top:469.10px" class="cls_014"><span class="cls_014">perc.over =</span><span class="cls_010"> </span><span class="cls_016">100</span><span class="cls_010">, </span><span class="cls_014">perc.under =</span><span class="cls_010"> </span><span class="cls_016">200</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:493.61px" class="cls_007"><span class="cls_007">2.9 Resampling methods to estimate model accuracy</span></div>
<div style="position:absolute;left:72.02px;top:519.77px" class="cls_004"><span class="cls_004">When you are building a predictive model, you need to evaluate the capability of the model</span></div>
<div style="position:absolute;left:72.02px;top:533.93px" class="cls_004"><span class="cls_004">on unseen data. This is typically done by estimating accuracy using data that was not used</span></div>
<div style="position:absolute;left:72.02px;top:547.85px" class="cls_004"><span class="cls_004">to train the model. The caret package in R provides a number of methods to estimate the</span></div>
<div style="position:absolute;left:72.02px;top:562.01px" class="cls_004"><span class="cls_004">accuracy of a machine learning algorithm. In this section you will discover 5 approaches for</span></div>
<div style="position:absolute;left:72.02px;top:575.95px" class="cls_004"><span class="cls_004">estimating model performance on unseen data.</span></div>
<div style="position:absolute;left:72.02px;top:600.19px" class="cls_017"><span class="cls_017">2.2.1 Estimating model accuracy</span></div>
<div style="position:absolute;left:72.02px;top:623.71px" class="cls_004"><span class="cls_004">When working on a project you often only have a limited set of data and you need to choose</span></div>
<div style="position:absolute;left:72.02px;top:637.87px" class="cls_004"><span class="cls_004">carefully how you use it. Predictive models required data on which to train. You also need a</span></div>
<div style="position:absolute;left:72.02px;top:652.06px" class="cls_004"><span class="cls_004">dataset that the model has not seen during training on which it can make predictions. The</span></div>
<div style="position:absolute;left:72.02px;top:665.98px" class="cls_004"><span class="cls_004">accuracy of the model predictions on data unseen during training can be used as an</span></div>
<div style="position:absolute;left:72.02px;top:679.90px" class="cls_004"><span class="cls_004">estimate for the accuracy of the model on unseen data in general.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:10426px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background14.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.50px" class="cls_004"><span class="cls_004">You cannot estimate the accuracy of the model on the data used to train it. An ideal model</span></div>
<div style="position:absolute;left:72.02px;top:98.66px" class="cls_004"><span class="cls_004">could just remember all of the training instances and make perfect predictions. You must</span></div>
<div style="position:absolute;left:72.02px;top:112.61px" class="cls_004"><span class="cls_004">hold data aside primarily for the purposes of model evaluation.</span></div>
<div style="position:absolute;left:72.02px;top:135.65px" class="cls_004"><span class="cls_004">There are methods that you can use if you have a lot of data and do not need to be careful</span></div>
<div style="position:absolute;left:72.02px;top:149.81px" class="cls_004"><span class="cls_004">about how it is spent during training. More commonly your dataset has a fixed size and you</span></div>
<div style="position:absolute;left:72.02px;top:163.97px" class="cls_004"><span class="cls_004">need to use statistical techniques that make good use of a limited size dataset. These</span></div>
<div style="position:absolute;left:72.02px;top:177.89px" class="cls_004"><span class="cls_004">statistical methods are often called resampling methods as they take multiple samples or</span></div>
<div style="position:absolute;left:72.02px;top:192.07px" class="cls_004"><span class="cls_004">make multiple splits of your dataset into portions that you can use for model training and</span></div>
<div style="position:absolute;left:72.02px;top:205.99px" class="cls_004"><span class="cls_004">model testing. In the following sections you are going to discover how to use five different</span></div>
<div style="position:absolute;left:72.02px;top:219.91px" class="cls_004"><span class="cls_004">resampling methods that you can use to evaluate the accuracy of your data in R.</span></div>
<div style="position:absolute;left:72.02px;top:244.39px" class="cls_017"><span class="cls_017">2.9.2 k-fold cross validation</span></div>
<div style="position:absolute;left:72.02px;top:267.94px" class="cls_004"><span class="cls_004">Of all the approaches to cross-validation, the most commonly used is k-fold cross-</span></div>
<div style="position:absolute;left:72.02px;top:281.86px" class="cls_004"><span class="cls_004">validation. In this approach, after the test data has been sequestered, the remaining data is</span></div>
<div style="position:absolute;left:72.02px;top:296.02px" class="cls_004"><span class="cls_004">divided into k completely separate random partitions of approximately equal size. These</span></div>
<div style="position:absolute;left:72.02px;top:310.18px" class="cls_004"><span class="cls_004">partitions are known as folds. The folds represent the data that will be used to validate the</span></div>
<div style="position:absolute;left:72.02px;top:324.10px" class="cls_004"><span class="cls_004">model during each of the k iterations of the repeated holdout. Although k can be set to any</span></div>
<div style="position:absolute;left:72.02px;top:338.04px" class="cls_004"><span class="cls_004">value, in practice, k is often set to either 5 or 10.</span></div>
<div style="position:absolute;left:72.02px;top:359.88px" class="cls_010"><span class="cls_010">ctrl_cv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"cv"</span><span class="cls_010">, </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:372.84px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:385.56px" class="cls_010"><span class="cls_010">model_rpart_cv </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(employ ~ .,</span></div>
<div style="position:absolute;left:235.06px;top:398.52px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:235.06px;top:411.48px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:424.22px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:436.94px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_cv)</span></div>
<div style="position:absolute;left:72.02px;top:461.66px" class="cls_017"><span class="cls_017">2.9.3 repeated k-fold cross validation</span></div>
<div style="position:absolute;left:72.02px;top:485.18px" class="cls_004"><span class="cls_004">Repeated k-fold is the most preferred cross-validation technique for both classification and</span></div>
<div style="position:absolute;left:72.02px;top:499.37px" class="cls_004"><span class="cls_004">regression machine learning models. Shuffling and random sampling of the data set</span></div>
<div style="position:absolute;left:72.02px;top:513.29px" class="cls_004"><span class="cls_004">multiple times is the core procedure of repeated k-fold algorithm and it results in making a</span></div>
<div style="position:absolute;left:72.02px;top:527.45px" class="cls_004"><span class="cls_004">robust model as it covers the maximum training and testing operations. The working of this</span></div>
<div style="position:absolute;left:72.02px;top:541.37px" class="cls_004"><span class="cls_004">cross-validation technique to evaluate the accuracy of a machine learning model depends</span></div>
<div style="position:absolute;left:72.02px;top:555.53px" class="cls_004"><span class="cls_004">upon 2 parameters. The first parameter is k which is an integer value and it states that the</span></div>
<div style="position:absolute;left:72.02px;top:569.71px" class="cls_004"><span class="cls_004">given dataset will be split into K folds(or subsets). Among the k folds, the model is trained</span></div>
<div style="position:absolute;left:72.02px;top:583.63px" class="cls_004"><span class="cls_004">on the k-1 subsets and the remaining subset will be used to evaluate the model’s</span></div>
<div style="position:absolute;left:72.02px;top:597.79px" class="cls_004"><span class="cls_004">performance. These steps will be repeated up to a certain number of times which will be</span></div>
<div style="position:absolute;left:72.02px;top:611.95px" class="cls_004"><span class="cls_004">decided by the second parameter of this algorithm and thus it got its name as Repeated k-</span></div>
<div style="position:absolute;left:72.02px;top:625.87px" class="cls_004"><span class="cls_004">fold i.e., the k-fold cross-validation algorithm is repeated a certain number of times.</span></div>
<div style="position:absolute;left:72.02px;top:647.50px" class="cls_010"><span class="cls_010">ctrl_repeatedcv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"repeatedcv"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:265.30px;top:660.46px" class="cls_014"><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">10</span><span class="cls_010">, </span><span class="cls_014">repeats =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:673.42px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:686.14px" class="cls_010"><span class="cls_010">model_rpart_repeatedcv </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(employ ~ .,</span></div>
<div style="position:absolute;left:217.06px;top:699.10px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:11228px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background15.jpg" width=612 height=792></div>
<div style="position:absolute;left:217.06px;top:83.06px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:217.06px;top:96.02px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:217.06px;top:108.77px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_repeatedcv)</span></div>
<div style="position:absolute;left:72.02px;top:133.25px" class="cls_017"><span class="cls_017">2.9.4 leave one out cross validation</span></div>
<div style="position:absolute;left:72.02px;top:156.77px" class="cls_004"><span class="cls_004">Another common approach to cross-validation is the leave-one-out cross-validation</span></div>
<div style="position:absolute;left:72.02px;top:170.93px" class="cls_004"><span class="cls_004">method (LOOCV). The approach is essentially k-fold cross-validation with k set to n (the</span></div>
<div style="position:absolute;left:72.02px;top:184.87px" class="cls_004"><span class="cls_004">number of instances in the dataset). In the LOOCV approach, during the first iteration, the</span></div>
<div style="position:absolute;left:72.02px;top:199.03px" class="cls_004"><span class="cls_004">first instance is held out for validation while the rest of the data is used to train the model.</span></div>
<div style="position:absolute;left:72.02px;top:213.19px" class="cls_004"><span class="cls_004">Then the performance of the model is evaluated against the single instance that was held</span></div>
<div style="position:absolute;left:72.02px;top:227.11px" class="cls_004"><span class="cls_004">out. This process is repeated n-1 additional times until all the instances in the dataset have</span></div>
<div style="position:absolute;left:72.02px;top:241.27px" class="cls_004"><span class="cls_004">been used once for validation. After the last iteration, we end up with n estimates of the</span></div>
<div style="position:absolute;left:72.02px;top:255.43px" class="cls_004"><span class="cls_004">model’s performance from each of the iterations. The average of these estimates is used as</span></div>
<div style="position:absolute;left:72.02px;top:269.38px" class="cls_004"><span class="cls_004">the LOOCV estimate of model performance.</span></div>
<div style="position:absolute;left:72.02px;top:290.98px" class="cls_010"><span class="cls_010">ctrl_loocv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"LOOCV"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:303.94px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:316.90px" class="cls_010"><span class="cls_010">model_rpart_loocv </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(employ ~ .,</span></div>
<div style="position:absolute;left:235.06px;top:329.62px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:235.06px;top:342.60px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:355.56px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:368.28px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_loocv)</span></div>
<div style="position:absolute;left:72.02px;top:392.76px" class="cls_017"><span class="cls_017">2.9.5 leave group out cross validation</span></div>
<div style="position:absolute;left:72.02px;top:416.30px" class="cls_004"><span class="cls_004">This approach is similar to k-fold cross-validation but with one notable difference. In this</span></div>
<div style="position:absolute;left:72.02px;top:430.46px" class="cls_004"><span class="cls_004">approach, instead of creating a set number of folds (validation sets) at the beginning of the</span></div>
<div style="position:absolute;left:72.02px;top:444.38px" class="cls_004"><span class="cls_004">process, as we do in k-fold cross-validation, the random sample that makes up the</span></div>
<div style="position:absolute;left:72.02px;top:458.54px" class="cls_004"><span class="cls_004">validation set is created during each iteration During the first iteration, a random sampling</span></div>
<div style="position:absolute;left:72.02px;top:472.70px" class="cls_004"><span class="cls_004">without replacement approach is used to create the validation set. This dataset is held out</span></div>
<div style="position:absolute;left:72.02px;top:486.62px" class="cls_004"><span class="cls_004">for validation, and the remainder of the data is used to train the model. In the second</span></div>
<div style="position:absolute;left:72.02px;top:500.81px" class="cls_004"><span class="cls_004">iteration, a new independent validation set is randomly selected. Because of the random</span></div>
<div style="position:absolute;left:72.02px;top:514.73px" class="cls_004"><span class="cls_004">nature of the sampling approach, it is possible and likely that some of the instances selected</span></div>
<div style="position:absolute;left:72.02px;top:528.89px" class="cls_004"><span class="cls_004">as part of this new validation set were also selected as part of the validation set in the</span></div>
<div style="position:absolute;left:72.02px;top:542.81px" class="cls_004"><span class="cls_004">previous iteration.</span></div>
<div style="position:absolute;left:72.02px;top:564.65px" class="cls_010"><span class="cls_010">ctrl_lgocv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"LGOCV"</span><span class="cls_010">, </span><span class="cls_014">p =</span><span class="cls_010"> .</span><span class="cls_016">1</span><span class="cls_010">, </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">10</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:577.63px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:590.35px" class="cls_010"><span class="cls_010">model_rpart_lgocv </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(employ ~ .,</span></div>
<div style="position:absolute;left:235.06px;top:603.31px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:235.06px;top:616.27px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:628.99px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:641.71px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_lgocv)</span></div>
<div style="position:absolute;left:72.02px;top:666.46px" class="cls_017"><span class="cls_017">2.9.6 bootstrap</span></div>
<div style="position:absolute;left:72.02px;top:689.98px" class="cls_004"><span class="cls_004">The basic idea behind bootstrap sampling is to create a training dataset from the original</span></div>
<div style="position:absolute;left:72.02px;top:703.90px" class="cls_004"><span class="cls_004">data using a random sampling with replacement approach. A version of this technique,</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:12030px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background16.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.50px" class="cls_004"><span class="cls_004">known as the 0.632 bootstrap, involves random sampling a dataset with n instances, n</span></div>
<div style="position:absolute;left:72.02px;top:98.66px" class="cls_004"><span class="cls_004">different times with replacement, to create another dataset also with n instances. This new</span></div>
<div style="position:absolute;left:72.02px;top:112.61px" class="cls_004"><span class="cls_004">dataset is used for training, while the instances from the original data, which were not</span></div>
<div style="position:absolute;left:72.02px;top:126.53px" class="cls_004"><span class="cls_004">selected as part of the training data, are used for validation.</span></div>
<div style="position:absolute;left:72.02px;top:148.37px" class="cls_010"><span class="cls_010">ctrl_boot </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"boot632"</span><span class="cls_010">, </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:161.33px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:174.05px" class="cls_010"><span class="cls_010">model_rpart_boot </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(employ ~ .,</span></div>
<div style="position:absolute;left:235.06px;top:187.03px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:235.06px;top:199.99px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:212.71px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:225.43px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_boot)</span></div>
<div style="position:absolute;left:72.02px;top:249.91px" class="cls_007"><span class="cls_007">2.10 Spot-Check Machine Learning Algorithms</span></div>
<div style="position:absolute;left:72.02px;top:276.10px" class="cls_004"><span class="cls_004">What algorithm should you use on your dataset? This is the most common question in</span></div>
<div style="position:absolute;left:72.02px;top:290.26px" class="cls_004"><span class="cls_004">applied machine learning. It’s a question that can only be answered by trial and error, or</span></div>
<div style="position:absolute;left:72.02px;top:304.18px" class="cls_004"><span class="cls_004">what I call: spot-checking algorithms. In this session you will discover how to spot-check</span></div>
<div style="position:absolute;left:72.02px;top:318.10px" class="cls_004"><span class="cls_004">algorithms on a dataset using R.</span></div>
<div style="position:absolute;left:72.02px;top:342.36px" class="cls_017"><span class="cls_017">2.10.1 CART Algorithm</span></div>
<div style="position:absolute;left:72.02px;top:366.12px" class="cls_004"><span class="cls_004">The CART algorithm is implemented in R as part of the rpart package. This package</span></div>
<div style="position:absolute;left:72.02px;top:380.04px" class="cls_004"><span class="cls_004">provides a similarly named function </span><span class="cls_010">rpart()</span><span class="cls_004">, which provides an implementation of CART</span></div>
<div style="position:absolute;left:72.02px;top:394.20px" class="cls_004"><span class="cls_004">(Classification And Regression Trees) for classification and regression. This function takes</span></div>
<div style="position:absolute;left:72.02px;top:408.12px" class="cls_004"><span class="cls_004">three primary arguments. The first is the prediction formula, which we specify as </span><span class="cls_010">employ ~</span></div>
<div style="position:absolute;left:72.02px;top:422.30px" class="cls_010"><span class="cls_010">.</span><span class="cls_004"> to mean that our model should use all the other variables in the dataset as predictors for</span></div>
<div style="position:absolute;left:72.02px;top:436.46px" class="cls_004"><span class="cls_004">the </span><span class="cls_010">employ</span><span class="cls_004"> variable. The second argument is the method, which we specify as </span><span class="cls_010">class</span><span class="cls_004">. This</span></div>
<div style="position:absolute;left:72.02px;top:450.86px" class="cls_004"><span class="cls_004">means that we are building a classification tree. The final argument is the training dataset</span></div>
<div style="position:absolute;left:72.02px;top:464.78px" class="cls_004"><span class="cls_004">that will be used to build the model.</span></div>
<div style="position:absolute;left:72.02px;top:486.62px" class="cls_015"><span class="cls_015"># Building a CART model</span></div>
<div style="position:absolute;left:72.02px;top:499.37px" class="cls_010"><span class="cls_010">model_rpart </span><span class="cls_013">&lt;-</span><span class="cls_010"> rpart(employ ~ .,</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"class"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:198.79px;top:512.33px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:198.79px;top:525.29px" class="cls_014"><span class="cls_014">control =</span><span class="cls_010"> rpart.control(</span><span class="cls_014">maxdepth =</span><span class="cls_010"> </span><span class="cls_016">7</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:332.06px;top:538.01px" class="cls_014"><span class="cls_014">cp =</span><span class="cls_010"> </span><span class="cls_016">0.005</span><span class="cls_010">))</span></div>
<div style="position:absolute;left:72.02px;top:562.49px" class="cls_004"><span class="cls_004">Now that we’ve trained our decision tree model, let’s visualize it. To do so, we use the</span></div>
<div style="position:absolute;left:72.02px;top:576.43px" class="cls_010"><span class="cls_010">rpart.plot()</span><span class="cls_004"> function from the similarly named rpart.plot package.</span></div>
<div style="position:absolute;left:72.02px;top:598.27px" class="cls_015"><span class="cls_015"># Plot the model</span></div>
<div style="position:absolute;left:72.02px;top:610.99px" class="cls_010"><span class="cls_010">rpart.plot(</span><span class="cls_014">x =</span><span class="cls_010"> model_rpart, </span><span class="cls_014">yesno =</span><span class="cls_010"> </span><span class="cls_016">2</span><span class="cls_010">, </span><span class="cls_014">type =</span><span class="cls_010"> </span><span class="cls_016">0</span><span class="cls_010">, </span><span class="cls_014">extra =</span><span class="cls_010"> </span><span class="cls_016">0</span><span class="cls_010">)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:12832px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background17.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:385.56px" class="cls_017"><span class="cls_017">2.10.2 Bagging Algorithm</span></div>
<div style="position:absolute;left:72.02px;top:409.32px" class="cls_004"><span class="cls_004">One of the most common ensemble learning approaches is known as bagging, which stands</span></div>
<div style="position:absolute;left:72.02px;top:423.26px" class="cls_004"><span class="cls_004">for bootstrap aggregating. The name comes from the fact that bagging ensembles use a</span></div>
<div style="position:absolute;left:72.02px;top:437.42px" class="cls_004"><span class="cls_004">bootstrap sampling approach for the allocation function, which is used to generate the data</span></div>
<div style="position:absolute;left:72.02px;top:451.58px" class="cls_004"><span class="cls_004">assigned to each model in the ensemble. Bagging ensembles are typically made up of</span></div>
<div style="position:absolute;left:72.02px;top:465.50px" class="cls_004"><span class="cls_004">homogenous learners, which are trained independently and in parallel.</span></div>
<div style="position:absolute;left:72.02px;top:488.54px" class="cls_004"><span class="cls_004">Let’s start by training a bagged tree model. You’ll be using the </span><span class="cls_010">bagging()</span><span class="cls_004"> function from the</span></div>
<div style="position:absolute;left:72.02px;top:502.73px" class="cls_010"><span class="cls_010">ipred</span><span class="cls_004"> package. The number of bagged trees can be specified using the nbagg parameter,</span></div>
<div style="position:absolute;left:72.02px;top:516.89px" class="cls_004"><span class="cls_004">but here we will use the default (25).</span></div>
<div style="position:absolute;left:72.02px;top:539.93px" class="cls_004"><span class="cls_004">If we want to estimate the model’s accuracy using the “out-of-bag” (OOB) samples, we can</span></div>
<div style="position:absolute;left:72.02px;top:553.85px" class="cls_004"><span class="cls_004">set the the </span><span class="cls_010">coob</span><span class="cls_004"> parameter to TRUE. The OOB samples are the training obsevations that</span></div>
<div style="position:absolute;left:72.02px;top:568.25px" class="cls_004"><span class="cls_004">were not selected into the bootstrapped sample (used in training). Since these observations</span></div>
<div style="position:absolute;left:72.02px;top:582.43px" class="cls_004"><span class="cls_004">were not used in training, we can use them instead to evaluate the accuracy of the model</span></div>
<div style="position:absolute;left:72.02px;top:596.35px" class="cls_004"><span class="cls_004">(done automatically inside the </span><span class="cls_010">bagging()</span><span class="cls_004"> function).</span></div>
<div style="position:absolute;left:72.02px;top:619.15px" class="cls_015"><span class="cls_015"># Bagging is a randomized model, so let's set a seed (123) for reproducibilit</span></div>
<div style="position:absolute;left:72.02px;top:631.15px" class="cls_015"><span class="cls_015">y</span></div>
<div style="position:absolute;left:72.02px;top:643.87px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">123</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:656.86px" class="cls_015"><span class="cls_015"># Building a bagged model</span></div>
<div style="position:absolute;left:72.02px;top:669.82px" class="cls_010"><span class="cls_010">model_bagging </span><span class="cls_013">&lt;-</span><span class="cls_010"> bagging(</span><span class="cls_014">formula =</span><span class="cls_010"> employ ~ .,</span></div>
<div style="position:absolute;left:223.06px;top:682.54px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:223.06px;top:695.26px" class="cls_014"><span class="cls_014">coob =</span><span class="cls_010"> TRUE)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:13634px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background18.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.50px" class="cls_017"><span class="cls_017">2.10.3 randomforest Algorithm</span></div>
<div style="position:absolute;left:72.02px;top:108.05px" class="cls_004"><span class="cls_004">One of the most popular bagging ensemble methods is the random forests or decision tree</span></div>
<div style="position:absolute;left:72.02px;top:122.21px" class="cls_004"><span class="cls_004">forests ensemble technique. It gets its name from the fact that the ensemble consists of a</span></div>
<div style="position:absolute;left:72.02px;top:136.37px" class="cls_004"><span class="cls_004">large number of decision tree learners (which are collectively called a forest) and that its</span></div>
<div style="position:absolute;left:72.02px;top:150.29px" class="cls_004"><span class="cls_004">allocation function combines both bootstrap sampling and random feature selection to</span></div>
<div style="position:absolute;left:72.02px;top:164.45px" class="cls_004"><span class="cls_004">generate the data assigned to each learner in the ensemble. By using only a random subset</span></div>
<div style="position:absolute;left:72.02px;top:178.61px" class="cls_004"><span class="cls_004">of the full feature set, random forests are able to handle very wide datasets (datasets with a</span></div>
<div style="position:absolute;left:72.02px;top:192.55px" class="cls_004"><span class="cls_004">large number of features). To illustrate the random forests ensemble technique in R, we use</span></div>
<div style="position:absolute;left:72.02px;top:206.47px" class="cls_004"><span class="cls_004">the </span><span class="cls_010">rf</span><span class="cls_004"> method in caret, which depends on the aptly named randomForest package. Using</span></div>
<div style="position:absolute;left:72.02px;top:220.63px" class="cls_004"><span class="cls_004">the </span><span class="cls_010">modelLookup()</span><span class="cls_004"> command for the </span><span class="cls_010">rf</span><span class="cls_004"> method reveals that it has only one tunable</span></div>
<div style="position:absolute;left:72.02px;top:234.79px" class="cls_004"><span class="cls_004">parameter: </span><span class="cls_010">mtry</span><span class="cls_004">. This is the number of randomly selected features to consider at each split</span></div>
<div style="position:absolute;left:72.02px;top:248.95px" class="cls_004"><span class="cls_004">(more on this shortly).</span></div>
<div style="position:absolute;left:72.02px;top:270.58px" class="cls_010"><span class="cls_010">modelLookup(</span><span class="cls_012">"rf"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:294.58px" class="cls_010"><span class="cls_010">##   model parameter</span></div>
<div style="position:absolute;left:343.64px;top:293.62px" class="cls_010"><span class="cls_010">label forReg forClass probModel</span></div>
<div style="position:absolute;left:72.02px;top:307.30px" class="cls_010"><span class="cls_010">## 1</span></div>
<div style="position:absolute;left:120.21px;top:307.30px" class="cls_010"><span class="cls_010">rf</span></div>
<div style="position:absolute;left:168.55px;top:307.30px" class="cls_010"><span class="cls_010">mtry #Randomly Selected Predictors   TRUE</span></div>
<div style="position:absolute;left:446.39px;top:307.30px" class="cls_010"><span class="cls_010">TRUE</span></div>
<div style="position:absolute;left:506.80px;top:306.34px" class="cls_010"><span class="cls_010">TRUE</span></div>
<div style="position:absolute;left:72.02px;top:330.82px" class="cls_004"><span class="cls_004">Based on the documentation provided by the randomForest package, the default value for</span></div>
<div style="position:absolute;left:72.02px;top:345.00px" class="cls_004"><span class="cls_004">mtry is the square root of the number of features in the dataset when working on a</span></div>
<div style="position:absolute;left:72.02px;top:358.92px" class="cls_004"><span class="cls_004">classification problem.</span></div>
<div style="position:absolute;left:72.02px;top:380.76px" class="cls_015"><span class="cls_015"># Building a Random Forest model</span></div>
<div style="position:absolute;left:72.02px;top:394.44px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">123</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:162.55px;top:393.48px" class="cls_015"><span class="cls_015"># for reproducibility</span></div>
<div style="position:absolute;left:72.02px;top:406.44px" class="cls_010"><span class="cls_010">model_rf </span><span class="cls_013">&lt;-</span><span class="cls_010"> randomForest(</span><span class="cls_014">formula =</span><span class="cls_010"> employ ~ .,</span></div>
<div style="position:absolute;left:223.06px;top:419.18px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train)</span></div>
<div style="position:absolute;left:72.02px;top:443.66px" class="cls_017"><span class="cls_017">2.10.4 gbm Algorithm</span></div>
<div style="position:absolute;left:72.02px;top:467.18px" class="cls_004"><span class="cls_004">Boosting is a method of converting weak learners into strong learners. In boosting, each</span></div>
<div style="position:absolute;left:72.02px;top:481.34px" class="cls_004"><span class="cls_004">new tree is a fit on a modified version of the original data set. The gradient boosting</span></div>
<div style="position:absolute;left:72.02px;top:495.53px" class="cls_004"><span class="cls_004">algorithm (gbm) can be most easily explained by first introducing the AdaBoost</span></div>
<div style="position:absolute;left:72.02px;top:509.45px" class="cls_004"><span class="cls_004">Algorithm.The AdaBoost Algorithm begins by training a decision tree in which each</span></div>
<div style="position:absolute;left:72.02px;top:523.61px" class="cls_004"><span class="cls_004">observation is assigned an equal weight. After evaluating the first tree, we increase the</span></div>
<div style="position:absolute;left:72.02px;top:537.77px" class="cls_004"><span class="cls_004">weights of those observations that are difficult to classify and lower the weights for those</span></div>
<div style="position:absolute;left:72.02px;top:551.69px" class="cls_004"><span class="cls_004">that are easy to classify. The second tree is therefore grown on this weighted data. Here, the</span></div>
<div style="position:absolute;left:72.02px;top:565.85px" class="cls_004"><span class="cls_004">idea is to improve upon the predictions of the first tree. Our new model is therefore Tree 1</span></div>
<div style="position:absolute;left:72.02px;top:580.03px" class="cls_004"><span class="cls_004">+ Tree 2. We then compute the classification error from this new 2-tree ensemble model</span></div>
<div style="position:absolute;left:72.02px;top:593.95px" class="cls_004"><span class="cls_004">and grow a third tree to predict the revised residuals. We repeat this process for a specified</span></div>
<div style="position:absolute;left:72.02px;top:608.11px" class="cls_004"><span class="cls_004">number of iterations. Subsequent trees help us to classify observations that are not well</span></div>
<div style="position:absolute;left:72.02px;top:622.03px" class="cls_004"><span class="cls_004">classified by the previous trees. Predictions of the final ensemble model is therefore the</span></div>
<div style="position:absolute;left:72.02px;top:635.95px" class="cls_004"><span class="cls_004">weighted sum of the predictions made by the previous tree models. In order to train a </span><span class="cls_010">gbm</span></div>
<div style="position:absolute;left:72.02px;top:650.38px" class="cls_004"><span class="cls_004">model in R, you will first have to install and call the gbm library. The gbm function requires</span></div>
<div style="position:absolute;left:72.02px;top:664.54px" class="cls_004"><span class="cls_004">you to specify certain arguments. You will begin by specifying the formula. This will include</span></div>
<div style="position:absolute;left:72.02px;top:678.46px" class="cls_004"><span class="cls_004">your response and predictor variables. Next, you will specify the distribution of your</span></div>
<div style="position:absolute;left:72.02px;top:692.62px" class="cls_004"><span class="cls_004">response variable. If nothing is specified, then gbm will try to guess. Some commonly used</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:14436px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background19.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_004"><span class="cls_004">distributions include- “</span><span class="cls_010">bernoulli</span><span class="cls_004">” (logistic regression for 0-1 outcome), “</span><span class="cls_010">gaussian</span><span class="cls_004">”</span></div>
<div style="position:absolute;left:72.02px;top:98.42px" class="cls_004"><span class="cls_004">(squared errors), “</span><span class="cls_010">tdist</span><span class="cls_004">”(t-distribution loss), and “</span><span class="cls_010">poisson</span><span class="cls_004">” (count outcomes). Finally, we</span></div>
<div style="position:absolute;left:72.02px;top:112.85px" class="cls_004"><span class="cls_004">will specify the data and the n.trees argument (after all gbm is an ensemble of trees!) By</span></div>
<div style="position:absolute;left:72.02px;top:127.01px" class="cls_004"><span class="cls_004">default, the gbm model will assume 100 trees, which can provide is a good estimate of our</span></div>
<div style="position:absolute;left:72.02px;top:140.93px" class="cls_004"><span class="cls_004">gbm’s performance.</span></div>
<div style="position:absolute;left:72.02px;top:162.53px" class="cls_015"><span class="cls_015"># Building a 10000-tree GBM model</span></div>
<div style="position:absolute;left:72.02px;top:175.49px" class="cls_015"><span class="cls_015"># Convert "yes" to 1, "no" to 0</span></div>
<div style="position:absolute;left:72.02px;top:188.47px" class="cls_010"><span class="cls_010">gbm_train </span><span class="cls_013">&lt;-</span><span class="cls_010"> employ_train</span></div>
<div style="position:absolute;left:72.02px;top:201.19px" class="cls_010"><span class="cls_010">gbm_train$employ </span><span class="cls_013">&lt;-</span><span class="cls_010"> ifelse(gbm_train$employ == </span><span class="cls_012">"no"</span><span class="cls_010">, </span><span class="cls_016">1</span><span class="cls_010">, </span><span class="cls_016">0</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:228.31px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">123</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:241.03px" class="cls_010"><span class="cls_010">model_gbm </span><span class="cls_013">&lt;-</span><span class="cls_010"> gbm(</span><span class="cls_014">formula =</span><span class="cls_010"> employ ~ .,</span></div>
<div style="position:absolute;left:174.79px;top:253.99px" class="cls_014"><span class="cls_014">distribution =</span><span class="cls_010"> </span><span class="cls_012">"bernoulli"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:174.79px;top:266.98px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> gbm_train,</span></div>
<div style="position:absolute;left:174.79px;top:279.70px" class="cls_014"><span class="cls_014">n.trees =</span><span class="cls_010"> </span><span class="cls_016">10000</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:304.18px" class="cls_017"><span class="cls_017">2.10.5 logistic model</span></div>
<div style="position:absolute;left:72.02px;top:327.70px" class="cls_004"><span class="cls_004">you used the </span><span class="cls_010">glm()</span><span class="cls_004"> function to build a logistic regression model. As with many of R’s</span></div>
<div style="position:absolute;left:72.02px;top:341.88px" class="cls_004"><span class="cls_004">machine learning methods, you can apply the </span><span class="cls_010">predict()</span><span class="cls_004"> function to the model object to</span></div>
<div style="position:absolute;left:72.02px;top:356.04px" class="cls_004"><span class="cls_004">forecast future behavior. By default, </span><span class="cls_010">predict()</span><span class="cls_004"> outputs predictions in terms of log odds</span></div>
<div style="position:absolute;left:72.02px;top:370.20px" class="cls_004"><span class="cls_004">unless </span><span class="cls_010">type = "response"</span><span class="cls_004"> is specified. This converts the log odds to probabilities.</span></div>
<div style="position:absolute;left:72.02px;top:392.04px" class="cls_010"><span class="cls_010">model_logistic </span><span class="cls_013">&lt;-</span><span class="cls_010"> glm(employ ~. ,</span><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:204.79px;top:404.76px" class="cls_014"><span class="cls_014">family=</span><span class="cls_012">"binomial"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:429.02px" class="cls_007"><span class="cls_007">2.11 Model Evaluation Metrics</span></div>
<div style="position:absolute;left:72.02px;top:455.18px" class="cls_004"><span class="cls_004">What metrics can you use to evaluate your machine learning algorithms? In this lesson you</span></div>
<div style="position:absolute;left:72.02px;top:469.34px" class="cls_004"><span class="cls_004">will discover how you can evaluate your machine learning algorithms in R using a number</span></div>
<div style="position:absolute;left:72.02px;top:483.26px" class="cls_004"><span class="cls_004">of standard evaluation metrics. After completing this lesson you will know:</span></div>
<div style="position:absolute;left:72.02px;top:506.33px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:506.33px" class="cls_004"><span class="cls_004">How to use Accuracy and Kappa to evaluate model skill on classification problems.</span></div>
<div style="position:absolute;left:72.02px;top:522.41px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:522.41px" class="cls_004"><span class="cls_004">How to use Area Under ROC Curve, sensitivity and specificity to evaluate model skill</span></div>
<div style="position:absolute;left:96.05px;top:536.33px" class="cls_004"><span class="cls_004">on binary classification problems.</span></div>
<div style="position:absolute;left:72.02px;top:560.57px" class="cls_017"><span class="cls_017">2.11.1 Accuracy and Kappa</span></div>
<div style="position:absolute;left:72.02px;top:584.11px" class="cls_004"><span class="cls_004">Accuracy and Kappa are the default metrics used to evaluate algorithms on binary and</span></div>
<div style="position:absolute;left:72.02px;top:598.27px" class="cls_004"><span class="cls_004">multiclass classification datasets in caret. Accuracy is the percentage of correctly classified</span></div>
<div style="position:absolute;left:72.02px;top:612.43px" class="cls_004"><span class="cls_004">instances out of all instances. It is more useful on a binary classification than multi-class</span></div>
<div style="position:absolute;left:72.02px;top:626.35px" class="cls_004"><span class="cls_004">classification problem because it can be less clear exactly how the accuracy breaks down</span></div>
<div style="position:absolute;left:72.02px;top:640.51px" class="cls_004"><span class="cls_004">across those classes. Kappa or Cohen’s Kappa is like classification accuracy, except that it is</span></div>
<div style="position:absolute;left:72.02px;top:654.46px" class="cls_004"><span class="cls_004">normalized at the baseline of random chance on your dataset. It is a more useful measure</span></div>
<div style="position:absolute;left:72.02px;top:668.62px" class="cls_004"><span class="cls_004">to use on problems that have an imbalance in the classes (e.g. a 70% to 30% split for</span></div>
<div style="position:absolute;left:72.02px;top:682.78px" class="cls_004"><span class="cls_004">classes 0 and 1 and you can achieve 70% accuracy by predicting all instances are for class</span></div>
<div style="position:absolute;left:72.02px;top:696.70px" class="cls_004"><span class="cls_004">0).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:15238px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background20.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_015"><span class="cls_015"># Accuracy and Kappa</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">ctrl_cv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"cv"</span><span class="cls_010">, </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:108.77px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:121.73px" class="cls_010"><span class="cls_010">model_glm_cv_accuracy </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(employ ~ .,</span></div>
<div style="position:absolute;left:217.06px;top:134.69px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:217.06px;top:147.41px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:217.06px;top:160.37px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"glm"</span><span class="cls_010">, </span><span class="cls_014">family =</span><span class="cls_010"> </span><span class="cls_012">"binomial"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:217.06px;top:173.09px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_cv)</span></div>
<div style="position:absolute;left:72.02px;top:197.59px" class="cls_017"><span class="cls_017">2.11.2 Area Under ROC Curve</span></div>
<div style="position:absolute;left:72.02px;top:221.11px" class="cls_004"><span class="cls_004">ROC metrics are only suitable for binary classification problems (e.g. two classes). To</span></div>
<div style="position:absolute;left:72.02px;top:235.27px" class="cls_004"><span class="cls_004">calculate ROC information, you must change the summaryFunction in your trainControl to</span></div>
<div style="position:absolute;left:72.02px;top:249.43px" class="cls_004"><span class="cls_004">be twoClassSummary. This will calculate the Area Under ROC Curve (AUROC) also called</span></div>
<div style="position:absolute;left:72.02px;top:263.38px" class="cls_004"><span class="cls_004">just Area Under curve (AUC), sensitivity and specificity. ROC is actually the area under the</span></div>
<div style="position:absolute;left:72.02px;top:277.54px" class="cls_004"><span class="cls_004">ROC curve or AUC. The AUC represents a models ability to discriminate between positive</span></div>
<div style="position:absolute;left:72.02px;top:291.70px" class="cls_004"><span class="cls_004">and negative classes. An area of 1.0 represents a model that predicts perfectly. An area of</span></div>
<div style="position:absolute;left:72.02px;top:305.62px" class="cls_004"><span class="cls_004">0.5 represents a model as good as random.</span></div>
<div style="position:absolute;left:72.02px;top:328.66px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:328.66px" class="cls_004"><span class="cls_004">Sensitivity is the true positive rate also called the recall. It is the number of instances</span></div>
<div style="position:absolute;left:96.05px;top:342.60px" class="cls_004"><span class="cls_004">from the positive (first) class that actually predicted correctly.</span></div>
<div style="position:absolute;left:72.02px;top:358.68px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:358.68px" class="cls_004"><span class="cls_004">Specificity is also called the true negative rate. Is the number of instances from the</span></div>
<div style="position:absolute;left:96.05px;top:372.60px" class="cls_004"><span class="cls_004">negative class (second class) that were actually predicted correctly.</span></div>
<div style="position:absolute;left:72.02px;top:395.88px" class="cls_004"><span class="cls_004">ROC can be broken down into sensitivity and specificity. A binary classification problem is</span></div>
<div style="position:absolute;left:72.02px;top:409.80px" class="cls_004"><span class="cls_004">really a trade-off between sensitivity and specificity.</span></div>
<div style="position:absolute;left:72.02px;top:431.66px" class="cls_015"><span class="cls_015"># Area Under ROC Curve</span></div>
<div style="position:absolute;left:72.02px;top:458.54px" class="cls_010"><span class="cls_010">ctrl_cv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"cv"</span><span class="cls_010">, </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">, </span><span class="cls_014">classProbs =</span><span class="cls_010"> TRUE,</span></div>
<div style="position:absolute;left:217.06px;top:471.50px" class="cls_014"><span class="cls_014">summaryFunction =</span><span class="cls_010"> twoClassSummary)</span></div>
<div style="position:absolute;left:72.02px;top:484.22px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:497.21px" class="cls_010"><span class="cls_010">model_glm_cv_roc </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(employ ~ .,</span></div>
<div style="position:absolute;left:204.79px;top:510.17px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:204.79px;top:522.89px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:204.79px;top:535.85px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"glm"</span><span class="cls_010">, </span><span class="cls_014">family =</span><span class="cls_010"> </span><span class="cls_012">"binomial"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:204.79px;top:548.57px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_cv)</span></div>
<div style="position:absolute;left:72.02px;top:572.83px" class="cls_007"><span class="cls_007">2.12 The Performance of Machine Learning Algorithms</span></div>
<div style="position:absolute;left:72.02px;top:598.99px" class="cls_004"><span class="cls_004">How do you compare the estimated accuracy of different machine learning algorithms</span></div>
<div style="position:absolute;left:72.02px;top:613.15px" class="cls_004"><span class="cls_004">effectively? In this lesson you will discover techniques that you can use to compare</span></div>
<div style="position:absolute;left:72.02px;top:627.31px" class="cls_004"><span class="cls_004">machine learning algorithms in R. it’s time to compare their out-of-sample predictions and</span></div>
<div style="position:absolute;left:72.02px;top:641.23px" class="cls_004"><span class="cls_004">choose which one is the best model for your dataset. You can compare models in caret</span></div>
<div style="position:absolute;left:72.02px;top:655.18px" class="cls_004"><span class="cls_004">using the </span><span class="cls_010">resamples()</span><span class="cls_004"> function, provided they have the same training data and use the</span></div>
<div style="position:absolute;left:72.02px;top:669.34px" class="cls_004"><span class="cls_004">same </span><span class="cls_010">trainControl</span><span class="cls_004"> object with preset cross-validation folds. </span><span class="cls_010">resamples()</span><span class="cls_004"> takes as input a</span></div>
<div style="position:absolute;left:72.02px;top:683.74px" class="cls_004"><span class="cls_004">list of models and can be used to compare dozens of models at once (though in this case</span></div>
<div style="position:absolute;left:72.02px;top:697.66px" class="cls_004"><span class="cls_004">you are only comparing five models).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:16040px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background21.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_015"><span class="cls_015"># Create custom indices: myFolds</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:108.77px" class="cls_010"><span class="cls_010">myFolds </span><span class="cls_013">&lt;-</span><span class="cls_010"> createFolds(employ_train$employ, </span><span class="cls_014">k =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:135.89px" class="cls_015"><span class="cls_015"># Create reusable trainControl object: myControl</span></div>
<div style="position:absolute;left:72.02px;top:148.61px" class="cls_010"><span class="cls_010">myControl </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span></div>
<div style="position:absolute;left:84.02px;top:161.57px" class="cls_014"><span class="cls_014">summaryFunction =</span><span class="cls_010"> twoClassSummary,</span></div>
<div style="position:absolute;left:84.02px;top:174.53px" class="cls_014"><span class="cls_014">classProbs =</span><span class="cls_010"> TRUE, </span><span class="cls_015"># IMPORTANT!</span></div>
<div style="position:absolute;left:84.02px;top:187.27px" class="cls_014"><span class="cls_014">verboseIter =</span><span class="cls_010"> FALSE,</span></div>
<div style="position:absolute;left:84.02px;top:200.23px" class="cls_014"><span class="cls_014">savePredictions =</span><span class="cls_010"> TRUE,</span></div>
<div style="position:absolute;left:84.02px;top:213.19px" class="cls_014"><span class="cls_014">index =</span><span class="cls_010"> myFolds</span></div>
<div style="position:absolute;left:72.02px;top:225.91px" class="cls_010"><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:253.03px" class="cls_010"><span class="cls_010">model_caret_rpart </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(</span></div>
<div style="position:absolute;left:84.02px;top:265.78px" class="cls_010"><span class="cls_010">employ ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:278.74px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:84.02px;top:291.70px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:304.42px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:317.38px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> myControl)</span></div>
<div style="position:absolute;left:72.02px;top:344.28px" class="cls_010"><span class="cls_010">model_caret_bagging </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(</span></div>
<div style="position:absolute;left:84.02px;top:357.24px" class="cls_010"><span class="cls_010">employ ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:370.20px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:84.02px;top:382.92px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:395.88px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"treebag"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:408.84px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> myControl)</span></div>
<div style="position:absolute;left:72.02px;top:435.74px" class="cls_010"><span class="cls_010">model_caret_ranger </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(</span></div>
<div style="position:absolute;left:84.02px;top:448.70px" class="cls_010"><span class="cls_010">employ ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:461.42px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:84.02px;top:474.38px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:487.34px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"ranger"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:500.09px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> myControl)</span></div>
<div style="position:absolute;left:72.02px;top:526.97px" class="cls_010"><span class="cls_010">model_caret_logistic </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(</span></div>
<div style="position:absolute;left:84.02px;top:539.93px" class="cls_010"><span class="cls_010">employ ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:552.89px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:84.02px;top:565.61px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:578.59px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"glm"</span><span class="cls_010">, </span><span class="cls_014">family =</span><span class="cls_010"> </span><span class="cls_012">"binomial"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:591.55px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> myControl)</span></div>
<div style="position:absolute;left:72.02px;top:618.43px" class="cls_010"><span class="cls_010">model_caret_gbm </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(</span></div>
<div style="position:absolute;left:84.02px;top:631.39px" class="cls_010"><span class="cls_010">employ ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:644.11px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:84.02px;top:657.10px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:670.06px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"gbm"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:682.78px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> myControl)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:16842px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background22.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_015"><span class="cls_015"># Create model_list</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">model_list </span><span class="cls_013">&lt;-</span><span class="cls_010"> list(</span><span class="cls_014">rpart =</span><span class="cls_010"> model_caret_rpart,</span></div>
<div style="position:absolute;left:186.79px;top:108.77px" class="cls_014"><span class="cls_014">rf =</span><span class="cls_010"> model_caret_ranger,</span></div>
<div style="position:absolute;left:186.79px;top:121.73px" class="cls_014"><span class="cls_014">logistic =</span><span class="cls_010"> model_caret_logistic,</span></div>
<div style="position:absolute;left:186.79px;top:134.69px" class="cls_014"><span class="cls_014">bagging =</span><span class="cls_010"> model_caret_bagging,</span></div>
<div style="position:absolute;left:186.79px;top:147.41px" class="cls_014"><span class="cls_014">gbm =</span><span class="cls_010"> model_caret_gbm)</span></div>
<div style="position:absolute;left:72.02px;top:171.89px" class="cls_011"><span class="cls_011">caret</span><span class="cls_004"> provides a variety of methods to use for comparing models. All of these methods are</span></div>
<div style="position:absolute;left:72.02px;top:185.83px" class="cls_004"><span class="cls_004">based on the </span><span class="cls_010">resamples()</span><span class="cls_004"> function. The box-and-whisker plot allows you to compare the</span></div>
<div style="position:absolute;left:72.02px;top:199.99px" class="cls_004"><span class="cls_004">distribution of predictive accuracy (in this case AUC) for the two or more models.</span></div>
<div style="position:absolute;left:72.02px;top:223.03px" class="cls_004"><span class="cls_004">In general, you want the model with the higher median AUC, as well as a smaller range</span></div>
<div style="position:absolute;left:72.02px;top:236.95px" class="cls_004"><span class="cls_004">between min and max AUC.</span></div>
<div style="position:absolute;left:72.02px;top:260.26px" class="cls_004"><span class="cls_004">You can make this plot using the </span><span class="cls_010">bwplot()</span><span class="cls_004"> function, which makes a box and whisker plot of</span></div>
<div style="position:absolute;left:72.02px;top:274.42px" class="cls_004"><span class="cls_004">the model’s out of sample scores. Box and whisker plots show the median of each</span></div>
<div style="position:absolute;left:72.02px;top:288.58px" class="cls_004"><span class="cls_004">distribution as a line and the interquartile range of each distribution as a box around the</span></div>
<div style="position:absolute;left:72.02px;top:302.50px" class="cls_004"><span class="cls_004">median line. You can pass the metric = “ROC” argument to the </span><span class="cls_010">bwplot()</span><span class="cls_004"> function to show a</span></div>
<div style="position:absolute;left:72.02px;top:316.66px" class="cls_004"><span class="cls_004">plot of the model’s out-of-sample ROC scores and choose the model with the highest</span></div>
<div style="position:absolute;left:72.02px;top:330.58px" class="cls_004"><span class="cls_004">median ROC.</span></div>
<div style="position:absolute;left:72.02px;top:352.44px" class="cls_015"><span class="cls_015"># Pass model_list to resamples(): resamples</span></div>
<div style="position:absolute;left:72.02px;top:365.40px" class="cls_010"><span class="cls_010">resamps </span><span class="cls_013">&lt;-</span><span class="cls_010"> resamples(model_list)</span></div>
<div style="position:absolute;left:72.02px;top:392.28px" class="cls_015"><span class="cls_015"># Summarize the results</span></div>
<div style="position:absolute;left:72.02px;top:405.00px" class="cls_010"><span class="cls_010">summary(resamps)</span></div>
<div style="position:absolute;left:72.02px;top:428.06px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:441.02px" class="cls_010"><span class="cls_010">## Call:</span></div>
<div style="position:absolute;left:72.02px;top:453.74px" class="cls_010"><span class="cls_010">## summary.resamples(object = resamps)</span></div>
<div style="position:absolute;left:72.02px;top:466.70px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:479.66px" class="cls_010"><span class="cls_010">## Models: rpart, rf, logistic, bagging, gbm</span></div>
<div style="position:absolute;left:72.02px;top:492.41px" class="cls_010"><span class="cls_010">## Number of resamples: 5</span></div>
<div style="position:absolute;left:72.02px;top:505.37px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:518.33px" class="cls_010"><span class="cls_010">## ROC</span></div>
<div style="position:absolute;left:72.02px;top:532.01px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:174.63px;top:532.01px" class="cls_010"><span class="cls_010">Min.</span></div>
<div style="position:absolute;left:216.82px;top:532.01px" class="cls_010"><span class="cls_010">1st Qu.</span></div>
<div style="position:absolute;left:283.23px;top:532.01px" class="cls_010"><span class="cls_010">Median</span></div>
<div style="position:absolute;left:355.86px;top:532.01px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:398.06px;top:532.01px" class="cls_010"><span class="cls_010">3rd Qu.</span></div>
<div style="position:absolute;left:476.45px;top:531.05px" class="cls_010"><span class="cls_010">Max. NA's</span></div>
<div style="position:absolute;left:72.02px;top:544.97px" class="cls_010"><span class="cls_010">## rpart</span></div>
<div style="position:absolute;left:144.42px;top:544.97px" class="cls_010"><span class="cls_010">0.5604992 0.6078309 0.6146635 0.6043555 0.6191619 0.6196219</span></div>
<div style="position:absolute;left:524.87px;top:544.01px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:557.93px" class="cls_010"><span class="cls_010">## rf</span></div>
<div style="position:absolute;left:144.42px;top:557.93px" class="cls_010"><span class="cls_010">0.6719003 0.6720966 0.6800829 0.6804170 0.6812313 0.6967741</span></div>
<div style="position:absolute;left:525.39px;top:556.97px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:570.67px" class="cls_010"><span class="cls_010">## logistic 0.6315494 0.6428938 0.6453851 0.6451043 0.6516840 0.6540091</span></div>
<div style="position:absolute;left:524.87px;top:569.71px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:583.63px" class="cls_010"><span class="cls_010">## bagging</span></div>
<div style="position:absolute;left:144.42px;top:583.63px" class="cls_010"><span class="cls_010">0.6559887 0.6606517 0.6657322 0.6673172 0.6664473 0.6877659</span></div>
<div style="position:absolute;left:524.87px;top:582.67px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:596.59px" class="cls_010"><span class="cls_010">## gbm</span></div>
<div style="position:absolute;left:144.42px;top:596.59px" class="cls_010"><span class="cls_010">0.7041982 0.7089350 0.7121882 0.7109240 0.7130095 0.7162891</span></div>
<div style="position:absolute;left:524.87px;top:595.63px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:608.35px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:621.31px" class="cls_010"><span class="cls_010">## Sens</span></div>
<div style="position:absolute;left:72.02px;top:635.23px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:174.63px;top:635.23px" class="cls_010"><span class="cls_010">Min.</span></div>
<div style="position:absolute;left:216.82px;top:635.23px" class="cls_010"><span class="cls_010">1st Qu.</span></div>
<div style="position:absolute;left:283.23px;top:635.23px" class="cls_010"><span class="cls_010">Median</span></div>
<div style="position:absolute;left:355.86px;top:635.23px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:398.06px;top:635.23px" class="cls_010"><span class="cls_010">3rd Qu.</span></div>
<div style="position:absolute;left:476.45px;top:634.27px" class="cls_010"><span class="cls_010">Max. NA's</span></div>
<div style="position:absolute;left:72.02px;top:647.98px" class="cls_010"><span class="cls_010">## rpart</span></div>
<div style="position:absolute;left:144.42px;top:647.98px" class="cls_010"><span class="cls_010">0.4074878 0.4831887 0.4948454 0.5499204 0.6630494 0.7010309</span></div>
<div style="position:absolute;left:524.87px;top:647.02px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:660.94px" class="cls_010"><span class="cls_010">## rf</span></div>
<div style="position:absolute;left:144.42px;top:660.94px" class="cls_010"><span class="cls_010">0.5838307 0.6073753 0.6180141 0.6179482 0.6283234 0.6521975</span></div>
<div style="position:absolute;left:524.87px;top:659.98px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:673.90px" class="cls_010"><span class="cls_010">## logistic 0.5355399 0.5849159 0.6001085 0.5865863 0.6055345 0.6068330</span></div>
<div style="position:absolute;left:525.02px;top:672.94px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:686.62px" class="cls_010"><span class="cls_010">## bagging</span></div>
<div style="position:absolute;left:144.42px;top:686.62px" class="cls_010"><span class="cls_010">0.5556158 0.5789474 0.6117137 0.6029721 0.6245252 0.6440586</span></div>
<div style="position:absolute;left:524.87px;top:685.66px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:699.58px" class="cls_010"><span class="cls_010">## gbm</span></div>
<div style="position:absolute;left:144.42px;top:699.58px" class="cls_010"><span class="cls_010">0.5952252 0.6245252 0.6250678 0.6273867 0.6317787 0.6603364</span></div>
<div style="position:absolute;left:524.87px;top:698.62px" class="cls_010"><span class="cls_010">0</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:17644px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background23.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">## Spec</span></div>
<div style="position:absolute;left:72.02px;top:109.73px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:174.63px;top:109.73px" class="cls_010"><span class="cls_010">Min.</span></div>
<div style="position:absolute;left:216.82px;top:109.73px" class="cls_010"><span class="cls_010">1st Qu.</span></div>
<div style="position:absolute;left:283.49px;top:109.73px" class="cls_010"><span class="cls_010">Median</span></div>
<div style="position:absolute;left:356.13px;top:109.73px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:398.32px;top:109.73px" class="cls_010"><span class="cls_010">3rd Qu.</span></div>
<div style="position:absolute;left:476.72px;top:108.77px" class="cls_010"><span class="cls_010">Max. NA's</span></div>
<div style="position:absolute;left:72.02px;top:122.69px" class="cls_010"><span class="cls_010">## rpart</span></div>
<div style="position:absolute;left:144.42px;top:122.69px" class="cls_010"><span class="cls_010">0.4199674 0.5287419 0.6988606 0.6283745 0.7075421 0.7867607</span></div>
<div style="position:absolute;left:524.87px;top:121.73px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:135.65px" class="cls_010"><span class="cls_010">## rf</span></div>
<div style="position:absolute;left:144.42px;top:135.65px" class="cls_010"><span class="cls_010">0.6160521 0.6250678 0.6342919 0.6394340 0.6500271 0.6717309</span></div>
<div style="position:absolute;left:524.87px;top:134.69px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:148.37px" class="cls_010"><span class="cls_010">## logistic 0.6011937 0.6122560 0.6185567 0.6216373 0.6310364 0.6451438</span></div>
<div style="position:absolute;left:525.38px;top:147.41px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:161.33px" class="cls_010"><span class="cls_010">## bagging</span></div>
<div style="position:absolute;left:144.42px;top:161.33px" class="cls_010"><span class="cls_010">0.6209328 0.6256104 0.6266956 0.6363949 0.6299512 0.6787846</span></div>
<div style="position:absolute;left:524.87px;top:160.37px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:174.05px" class="cls_010"><span class="cls_010">## gbm</span></div>
<div style="position:absolute;left:144.42px;top:174.05px" class="cls_010"><span class="cls_010">0.6538253 0.6722735 0.6820402 0.6859803 0.6919740 0.7297884</span></div>
<div style="position:absolute;left:524.87px;top:173.09px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:196.15px" class="cls_015"><span class="cls_015"># Create bwplot</span></div>
<div style="position:absolute;left:72.02px;top:208.87px" class="cls_010"><span class="cls_010">bwplot(resamps, </span><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:534.17px" class="cls_007"><span class="cls_007">2.13 Improving Model Performance</span></div>
<div style="position:absolute;left:72.02px;top:560.57px" class="cls_004"><span class="cls_004">It is difficult to find a good machine learning algorithm for your problem. But once you do,</span></div>
<div style="position:absolute;left:72.02px;top:574.51px" class="cls_004"><span class="cls_004">how do you get the best performance out of it. In this session you will discover three ways</span></div>
<div style="position:absolute;left:72.02px;top:588.67px" class="cls_004"><span class="cls_004">that you can tune the parameters of a machine learning algorithm in R. Most machine</span></div>
<div style="position:absolute;left:72.02px;top:602.83px" class="cls_004"><span class="cls_004">learning techniques have one or more parameters that need to be set before the learning</span></div>
<div style="position:absolute;left:72.02px;top:616.75px" class="cls_004"><span class="cls_004">process begins. These parameters are commonly known as hyperparameters.</span></div>
<div style="position:absolute;left:72.02px;top:640.99px" class="cls_017"><span class="cls_017">2.13.1 Random Search</span></div>
<div style="position:absolute;left:72.02px;top:664.54px" class="cls_004"><span class="cls_004">One search strategy that we can use is to try random values within a range. This can be</span></div>
<div style="position:absolute;left:72.02px;top:678.70px" class="cls_004"><span class="cls_004">good if we are unsure of what the value might be and we want to overcome any biases we</span></div>
<div style="position:absolute;left:72.02px;top:692.62px" class="cls_004"><span class="cls_004">may have for setting the parameter. To use random search, another option is available in</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:18446px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background24.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_010"><span class="cls_010">trainControl</span><span class="cls_004"> called </span><span class="cls_010">search</span><span class="cls_004">. Possible values of this argument are </span><span class="cls_010">"grid"</span><span class="cls_004"> and </span><span class="cls_010">"random"</span><span class="cls_004">.</span></div>
<div style="position:absolute;left:72.02px;top:98.66px" class="cls_004"><span class="cls_004">The built-in models contained in caret contain code to generate random tuning parameter</span></div>
<div style="position:absolute;left:72.02px;top:112.85px" class="cls_004"><span class="cls_004">combinations. The total number of unique combinations is specified by the tuneLength</span></div>
<div style="position:absolute;left:72.02px;top:126.77px" class="cls_004"><span class="cls_004">option to train.</span></div>
<div style="position:absolute;left:72.02px;top:148.37px" class="cls_015"><span class="cls_015"># random search</span></div>
<div style="position:absolute;left:72.02px;top:175.49px" class="cls_010"><span class="cls_010">ctrl_random </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"repeatedcv"</span><span class="cls_010"> , </span><span class="cls_014">number=</span><span class="cls_016">5</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:241.30px;top:188.23px" class="cls_014"><span class="cls_014">repeats =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:201.19px" class="cls_014"><span class="cls_014">search =</span><span class="cls_010"> </span><span class="cls_012">"random"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:214.15px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:226.87px" class="cls_010"><span class="cls_010">gbm_random </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(employ ~ ., </span><span class="cls_014">data=</span><span class="cls_010">employ_train, </span><span class="cls_014">method=</span><span class="cls_012">"gbm"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:180.79px;top:239.83px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:180.79px;top:252.79px" class="cls_014"><span class="cls_014">tuneLength =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">, </span><span class="cls_014">verbose =</span><span class="cls_010"> FALSE,</span></div>
<div style="position:absolute;left:180.79px;top:265.54px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_random)</span></div>
<div style="position:absolute;left:72.02px;top:290.02px" class="cls_017"><span class="cls_017">2.13.2 Grid Search</span></div>
<div style="position:absolute;left:72.02px;top:313.54px" class="cls_004"><span class="cls_004">Another search you can use is to define a grid of algorithm parameters to try. Each axis of</span></div>
<div style="position:absolute;left:72.02px;top:327.70px" class="cls_004"><span class="cls_004">the grid is an algorithm parameter, and points in the grid are specific combinations of</span></div>
<div style="position:absolute;left:72.02px;top:341.64px" class="cls_004"><span class="cls_004">parameters. Because we are only tuning one parameter, the grid search is a linear search</span></div>
<div style="position:absolute;left:72.02px;top:355.56px" class="cls_004"><span class="cls_004">through a vector of candidate values.</span></div>
<div style="position:absolute;left:72.02px;top:377.40px" class="cls_015"><span class="cls_015"># grid search</span></div>
<div style="position:absolute;left:72.02px;top:390.36px" class="cls_010"><span class="cls_010">ctrl_grid </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"repeatedcv"</span><span class="cls_010"> , </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:229.06px;top:403.32px" class="cls_014"><span class="cls_014">repeats =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:229.06px;top:416.06px" class="cls_014"><span class="cls_014">search =</span><span class="cls_010"> </span><span class="cls_012">"grid"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:429.02px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:441.98px" class="cls_010"><span class="cls_010">tune_grid </span><span class="cls_013">&lt;-</span><span class="cls_010"> expand.grid(</span><span class="cls_014">n.trees =</span><span class="cls_010"> c(</span><span class="cls_016">100</span><span class="cls_010">, </span><span class="cls_016">200</span><span class="cls_010">, </span><span class="cls_016">250</span><span class="cls_010">),</span></div>
<div style="position:absolute;left:217.06px;top:454.70px" class="cls_014"><span class="cls_014">interaction.depth =</span><span class="cls_010"> c(</span><span class="cls_016">1</span><span class="cls_010">, </span><span class="cls_016">4</span><span class="cls_010">, </span><span class="cls_016">6</span><span class="cls_010">),</span></div>
<div style="position:absolute;left:217.06px;top:467.66px" class="cls_014"><span class="cls_014">shrinkage =</span><span class="cls_010"> </span><span class="cls_016">0.1</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:217.06px;top:480.62px" class="cls_014"><span class="cls_014">n.minobsinnode =</span><span class="cls_010"> </span><span class="cls_016">10</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:493.37px" class="cls_010"><span class="cls_010">gbm_grid </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(employ ~ ., </span><span class="cls_014">data =</span><span class="cls_010"> employ_train, </span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"gbm"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:180.79px;top:506.33px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">, </span><span class="cls_014">tuneGrid =</span><span class="cls_010"> tune_grid,</span></div>
<div style="position:absolute;left:180.79px;top:519.29px" class="cls_014"><span class="cls_014">verbose =</span><span class="cls_010"> FALSE,</span></div>
<div style="position:absolute;left:180.79px;top:532.01px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_grid)</span></div>
<div style="position:absolute;left:72.02px;top:556.49px" class="cls_017"><span class="cls_017">2.13.3 Adaptive Resampling</span></div>
<div style="position:absolute;left:72.02px;top:580.03px" class="cls_004"><span class="cls_004">Models can benefit significantly from tuning but the optimal values are rarely known</span></div>
<div style="position:absolute;left:72.02px;top:594.19px" class="cls_004"><span class="cls_004">beforehand. train can be used to define a grid of possible points and resampling can be</span></div>
<div style="position:absolute;left:72.02px;top:608.11px" class="cls_004"><span class="cls_004">used to generate good estimates of performance for each tuning parameter combination.</span></div>
<div style="position:absolute;left:72.02px;top:622.27px" class="cls_004"><span class="cls_004">However, in the nominal resampling process, all the tuning parameter combinations are</span></div>
<div style="position:absolute;left:72.02px;top:636.19px" class="cls_004"><span class="cls_004">computed for all the resamples before a choice is made about which parameters are good</span></div>
<div style="position:absolute;left:72.02px;top:650.38px" class="cls_004"><span class="cls_004">and which are poor. caret contains the ability to adaptively resample the tuning parameter</span></div>
<div style="position:absolute;left:72.02px;top:664.54px" class="cls_004"><span class="cls_004">grid in a way that concentrates on values that are the in the neighborhood of the optimal</span></div>
<div style="position:absolute;left:72.02px;top:678.46px" class="cls_004"><span class="cls_004">settings. To use the adaptive procedure, the trainControl option needs some additional</span></div>
<div style="position:absolute;left:72.02px;top:692.62px" class="cls_004"><span class="cls_004">arguments: - min is the minimum number of resamples that will be used for each tuning</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:19248px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background25.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.50px" class="cls_004"><span class="cls_004">parameter. The default value is 5 and increasing it will decrease the speed-up generated by</span></div>
<div style="position:absolute;left:72.02px;top:98.66px" class="cls_004"><span class="cls_004">adaptive resampling but should also increase the likelihood of finding a good model. - alpha</span></div>
<div style="position:absolute;left:72.02px;top:112.61px" class="cls_004"><span class="cls_004">is a confidence level that is used to remove parameter settings. To date, this value has not</span></div>
<div style="position:absolute;left:72.02px;top:126.53px" class="cls_004"><span class="cls_004">shown much of an effect. - method is either “</span><span class="cls_010">gls</span><span class="cls_004">” for a linear model or “</span><span class="cls_010">BT</span><span class="cls_004">” for a Bradley-</span></div>
<div style="position:absolute;left:72.02px;top:140.93px" class="cls_004"><span class="cls_004">Terry model. The latter may be more useful when you expect the model to do very well</span></div>
<div style="position:absolute;left:72.02px;top:154.85px" class="cls_004"><span class="cls_004">(e.g. an area under the ROC curve near 1) or when there are a large number of tuning</span></div>
<div style="position:absolute;left:72.02px;top:169.01px" class="cls_004"><span class="cls_004">parameter settings. - complete is a logical value that specifies whether train should</span></div>
<div style="position:absolute;left:72.02px;top:183.19px" class="cls_004"><span class="cls_004">generate the full resampling set if it finds an optimal solution before the end of resampling.</span></div>
<div style="position:absolute;left:72.02px;top:197.11px" class="cls_004"><span class="cls_004">If you want to know the optimal parameter settings and don’t care much for the estimated</span></div>
<div style="position:absolute;left:72.02px;top:211.03px" class="cls_004"><span class="cls_004">performance value, a value of FALSE would be appropriate here</span></div>
<div style="position:absolute;left:72.02px;top:232.87px" class="cls_015"><span class="cls_015"># adaptive resampling</span></div>
<div style="position:absolute;left:72.02px;top:245.83px" class="cls_010"><span class="cls_010">fitControl </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"adaptive_cv"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:258.55px" class="cls_014"><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">, </span><span class="cls_014">repeats =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:271.54px" class="cls_014"><span class="cls_014">adaptive =</span><span class="cls_010"> list(</span><span class="cls_014">min =</span><span class="cls_010"> </span><span class="cls_016">2</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:332.06px;top:284.50px" class="cls_014"><span class="cls_014">alpha =</span><span class="cls_010"> </span><span class="cls_016">0.05</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:332.06px;top:297.22px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"gls"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:332.06px;top:310.18px" class="cls_014"><span class="cls_014">complete =</span><span class="cls_010"> TRUE),</span></div>
<div style="position:absolute;left:235.06px;top:323.14px" class="cls_014"><span class="cls_014">search =</span><span class="cls_010"> </span><span class="cls_012">"random"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:350.04px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:363.00px" class="cls_010"><span class="cls_010">gbm_adaptive </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(employ ~ ., </span><span class="cls_014">data =</span><span class="cls_010"> employ_train,</span></div>
<div style="position:absolute;left:204.79px;top:375.72px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"gbm"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:180.79px;top:388.68px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> fitControl,</span></div>
<div style="position:absolute;left:180.79px;top:401.64px" class="cls_014"><span class="cls_014">verbose =</span><span class="cls_010"> FALSE,</span></div>
<div style="position:absolute;left:180.79px;top:414.38px" class="cls_014"><span class="cls_014">tuneLength =</span><span class="cls_010"> </span><span class="cls_016">7</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:438.38px" class="cls_010"><span class="cls_010">## --------------------------------------------------------------------------</span></div>
<div style="position:absolute;left:72.02px;top:450.14px" class="cls_010"><span class="cls_010">----</span></div>
<div style="position:absolute;left:72.02px;top:473.18px" class="cls_010"><span class="cls_010">## You have loaded plyr after dplyr - this is likely to cause problems.</span></div>
<div style="position:absolute;left:72.02px;top:486.86px" class="cls_010"><span class="cls_010">## If you need functions from both plyr and dplyr, please load plyr first, th</span></div>
<div style="position:absolute;left:72.02px;top:498.89px" class="cls_010"><span class="cls_010">en dplyr:</span></div>
<div style="position:absolute;left:72.02px;top:511.61px" class="cls_010"><span class="cls_010">## library(plyr); library(dplyr)</span></div>
<div style="position:absolute;left:72.02px;top:535.61px" class="cls_010"><span class="cls_010">## --------------------------------------------------------------------------</span></div>
<div style="position:absolute;left:72.02px;top:547.37px" class="cls_010"><span class="cls_010">----</span></div>
<div style="position:absolute;left:72.02px;top:570.43px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:583.15px" class="cls_010"><span class="cls_010">## Attaching package: 'plyr'</span></div>
<div style="position:absolute;left:72.02px;top:606.19px" class="cls_010"><span class="cls_010">## The following object is masked from 'package:DMwR':</span></div>
<div style="position:absolute;left:72.02px;top:619.15px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:632.83px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:114.22px;top:631.87px" class="cls_010"><span class="cls_010">join</span></div>
<div style="position:absolute;left:72.02px;top:654.94px" class="cls_010"><span class="cls_010">## The following objects are masked from 'package:dplyr':</span></div>
<div style="position:absolute;left:72.02px;top:667.66px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:681.58px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:114.22px;top:680.62px" class="cls_010"><span class="cls_010">arrange, count, desc, failwith, id, mutate, rename, summarise,</span></div>
<div style="position:absolute;left:72.02px;top:694.30px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:114.22px;top:693.34px" class="cls_010"><span class="cls_010">summarize</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:20050px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background26.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_010"><span class="cls_010">## The following object is masked from 'package:purrr':</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:109.73px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:114.22px;top:108.77px" class="cls_010"><span class="cls_010">compact</span></div>
<div style="position:absolute;left:72.02px;top:131.57px" class="cls_010"><span class="cls_010">gbm_adaptive</span></div>
<div style="position:absolute;left:72.02px;top:154.61px" class="cls_010"><span class="cls_010">## Stochastic Gradient Boosting</span></div>
<div style="position:absolute;left:72.02px;top:167.57px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:180.29px" class="cls_010"><span class="cls_010">## 4608 samples</span></div>
<div style="position:absolute;left:72.02px;top:194.23px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:193.27px" class="cls_010"><span class="cls_010">15 predictor</span></div>
<div style="position:absolute;left:72.02px;top:207.19px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:206.23px" class="cls_010"><span class="cls_010">2 classes: 'no', 'yes'</span></div>
<div style="position:absolute;left:72.02px;top:218.95px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:231.91px" class="cls_010"><span class="cls_010">## No pre-processing</span></div>
<div style="position:absolute;left:72.02px;top:244.87px" class="cls_010"><span class="cls_010">## Resampling: Adaptively Cross-Validated (3 fold, repeated 3 times)</span></div>
<div style="position:absolute;left:72.02px;top:257.59px" class="cls_010"><span class="cls_010">## Summary of sample sizes: 3072, 3072, 3072, 3072, 3072, 3072, ...</span></div>
<div style="position:absolute;left:72.02px;top:270.58px" class="cls_010"><span class="cls_010">## Resampling results across tuning parameters:</span></div>
<div style="position:absolute;left:72.02px;top:283.54px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:297.22px" class="cls_010"><span class="cls_010">##   shrinkage   interaction.depth  n.minobsinnode  n.trees  Accuracy   Kappa</span></div>
<div style="position:absolute;left:72.02px;top:324.34px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:324.34px" class="cls_010"><span class="cls_010">0.02495755</span></div>
<div style="position:absolute;left:180.62px;top:324.34px" class="cls_010"><span class="cls_010">6</span></div>
<div style="position:absolute;left:295.22px;top:324.34px" class="cls_010"><span class="cls_010">8</span></div>
<div style="position:absolute;left:386.07px;top:324.34px" class="cls_010"><span class="cls_010">3330</span></div>
<div style="position:absolute;left:440.25px;top:324.34px" class="cls_010"><span class="cls_010">0.7039931</span></div>
<div style="position:absolute;left:506.66px;top:324.34px" class="cls_010"><span class="cls_010">0.407</span></div>
<div style="position:absolute;left:72.02px;top:336.10px" class="cls_010"><span class="cls_010">9861</span></div>
<div style="position:absolute;left:72.02px;top:350.04px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:350.04px" class="cls_010"><span class="cls_010">0.09626856</span></div>
<div style="position:absolute;left:174.63px;top:350.04px" class="cls_010"><span class="cls_010">10</span></div>
<div style="position:absolute;left:295.22px;top:350.04px" class="cls_010"><span class="cls_010">7</span></div>
<div style="position:absolute;left:386.07px;top:350.04px" class="cls_010"><span class="cls_010">1163</span></div>
<div style="position:absolute;left:440.25px;top:350.04px" class="cls_010"><span class="cls_010">0.6972656</span></div>
<div style="position:absolute;left:506.66px;top:350.04px" class="cls_010"><span class="cls_010">0.394</span></div>
<div style="position:absolute;left:72.02px;top:362.04px" class="cls_010"><span class="cls_010">5312</span></div>
<div style="position:absolute;left:72.02px;top:375.72px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:375.72px" class="cls_010"><span class="cls_010">0.11284695</span></div>
<div style="position:absolute;left:180.71px;top:375.72px" class="cls_010"><span class="cls_010">4</span></div>
<div style="position:absolute;left:295.31px;top:375.72px" class="cls_010"><span class="cls_010">8</span></div>
<div style="position:absolute;left:386.15px;top:375.72px" class="cls_010"><span class="cls_010">3117</span></div>
<div style="position:absolute;left:440.34px;top:375.72px" class="cls_010"><span class="cls_010">0.6976997</span></div>
<div style="position:absolute;left:506.74px;top:375.72px" class="cls_010"><span class="cls_010">0.395</span></div>
<div style="position:absolute;left:72.02px;top:387.72px" class="cls_010"><span class="cls_010">3993</span></div>
<div style="position:absolute;left:72.02px;top:401.64px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:401.64px" class="cls_010"><span class="cls_010">0.14010332</span></div>
<div style="position:absolute;left:180.62px;top:401.64px" class="cls_010"><span class="cls_010">2</span></div>
<div style="position:absolute;left:289.22px;top:401.64px" class="cls_010"><span class="cls_010">25</span></div>
<div style="position:absolute;left:386.07px;top:401.64px" class="cls_010"><span class="cls_010">4304</span></div>
<div style="position:absolute;left:440.25px;top:401.64px" class="cls_010"><span class="cls_010">0.6982422</span></div>
<div style="position:absolute;left:506.66px;top:401.64px" class="cls_010"><span class="cls_010">0.396</span></div>
<div style="position:absolute;left:72.02px;top:413.40px" class="cls_010"><span class="cls_010">4844</span></div>
<div style="position:absolute;left:72.02px;top:427.34px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:427.34px" class="cls_010"><span class="cls_010">0.16082565</span></div>
<div style="position:absolute;left:180.62px;top:427.34px" class="cls_010"><span class="cls_010">6</span></div>
<div style="position:absolute;left:295.22px;top:427.34px" class="cls_010"><span class="cls_010">8</span></div>
<div style="position:absolute;left:386.07px;top:427.34px" class="cls_010"><span class="cls_010">3046</span></div>
<div style="position:absolute;left:440.25px;top:427.34px" class="cls_010"><span class="cls_010">0.6855469</span></div>
<div style="position:absolute;left:506.66px;top:427.34px" class="cls_010"><span class="cls_010">0.371</span></div>
<div style="position:absolute;left:72.02px;top:439.34px" class="cls_010"><span class="cls_010">0938</span></div>
<div style="position:absolute;left:72.02px;top:453.02px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:453.02px" class="cls_010"><span class="cls_010">0.18231333</span></div>
<div style="position:absolute;left:180.62px;top:453.02px" class="cls_010"><span class="cls_010">6</span></div>
<div style="position:absolute;left:289.56px;top:453.02px" class="cls_010"><span class="cls_010">24</span></div>
<div style="position:absolute;left:398.39px;top:453.02px" class="cls_010"><span class="cls_010">48</span></div>
<div style="position:absolute;left:440.59px;top:453.02px" class="cls_010"><span class="cls_010">0.6842448</span></div>
<div style="position:absolute;left:506.99px;top:453.02px" class="cls_010"><span class="cls_010">0.368</span></div>
<div style="position:absolute;left:72.02px;top:465.02px" class="cls_010"><span class="cls_010">4896</span></div>
<div style="position:absolute;left:72.02px;top:478.94px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:478.94px" class="cls_010"><span class="cls_010">0.19065086</span></div>
<div style="position:absolute;left:180.62px;top:478.94px" class="cls_010"><span class="cls_010">7</span></div>
<div style="position:absolute;left:289.22px;top:478.94px" class="cls_010"><span class="cls_010">12</span></div>
<div style="position:absolute;left:386.07px;top:478.94px" class="cls_010"><span class="cls_010">3201</span></div>
<div style="position:absolute;left:440.25px;top:478.94px" class="cls_010"><span class="cls_010">0.6861979</span></div>
<div style="position:absolute;left:506.66px;top:478.94px" class="cls_010"><span class="cls_010">0.372</span></div>
<div style="position:absolute;left:72.02px;top:490.70px" class="cls_010"><span class="cls_010">3958</span></div>
<div style="position:absolute;left:72.02px;top:503.69px" class="cls_010"><span class="cls_010">##   Resamples</span></div>
<div style="position:absolute;left:72.02px;top:517.61px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:517.61px" class="cls_010"><span class="cls_010">9</span></div>
<div style="position:absolute;left:72.02px;top:530.33px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:530.33px" class="cls_010"><span class="cls_010">3</span></div>
<div style="position:absolute;left:72.02px;top:543.29px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:543.29px" class="cls_010"><span class="cls_010">3</span></div>
<div style="position:absolute;left:72.02px;top:556.25px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:556.25px" class="cls_010"><span class="cls_010">6</span></div>
<div style="position:absolute;left:72.02px;top:568.97px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:568.97px" class="cls_010"><span class="cls_010">2</span></div>
<div style="position:absolute;left:72.02px;top:581.95px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:581.95px" class="cls_010"><span class="cls_010">2</span></div>
<div style="position:absolute;left:72.02px;top:594.91px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.02px;top:594.91px" class="cls_010"><span class="cls_010">2</span></div>
<div style="position:absolute;left:72.02px;top:606.67px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:619.63px" class="cls_010"><span class="cls_010">## Accuracy was used to select the optimal model using the largest value.</span></div>
<div style="position:absolute;left:72.02px;top:633.55px" class="cls_010"><span class="cls_010">## The final values used for the model were n.trees = 3330, interaction.depth</span></div>
<div style="position:absolute;left:78.02px;top:645.31px" class="cls_010"><span class="cls_010">=</span></div>
<div style="position:absolute;left:72.02px;top:659.02px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:658.06px" class="cls_010"><span class="cls_010">6, shrinkage = 0.02495755 and n.minobsinnode = 8.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:20852px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background27.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_007"><span class="cls_007">2.14 Finalize Your Machine Learning Model</span></div>
<div style="position:absolute;left:72.02px;top:110.69px" class="cls_004"><span class="cls_004">Once you have an accurate model on your test harness you are nearly done. But not yet.</span></div>
<div style="position:absolute;left:72.02px;top:124.61px" class="cls_004"><span class="cls_004">There are still a number of tasks to do to finalize your model. The whole idea of creating an</span></div>
<div style="position:absolute;left:72.02px;top:138.77px" class="cls_004"><span class="cls_004">accurate model for your dataset was to make predictions on unseen data. There are three</span></div>
<div style="position:absolute;left:72.02px;top:152.69px" class="cls_004"><span class="cls_004">tasks you may be concerned with:</span></div>
<div style="position:absolute;left:72.02px;top:175.73px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:175.73px" class="cls_004"><span class="cls_004">Making new predictions on unseen data.</span></div>
<div style="position:absolute;left:72.02px;top:191.59px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:191.59px" class="cls_004"><span class="cls_004">Creating a standalone model using all training data.</span></div>
<div style="position:absolute;left:72.02px;top:207.43px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:207.43px" class="cls_004"><span class="cls_004">Saving your model to file for later loading and making predictions on new data.</span></div>
<div style="position:absolute;left:72.02px;top:222.07px" class="cls_015"><span class="cls_015"># Finalize Your Machine Learning Model</span></div>
<div style="position:absolute;left:72.02px;top:248.95px" class="cls_010"><span class="cls_010">finalModel </span><span class="cls_013">&lt;-</span><span class="cls_010"> gbm(employ ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:261.94px" class="cls_014"><span class="cls_014">distribution =</span><span class="cls_010"> </span><span class="cls_012">"bernoulli"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:274.90px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> gbm_train,</span></div>
<div style="position:absolute;left:84.02px;top:287.62px" class="cls_014"><span class="cls_014">n.trees =</span><span class="cls_010"> </span><span class="cls_016">3330</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:300.58px" class="cls_014"><span class="cls_014">interaction.depth =</span><span class="cls_010"> </span><span class="cls_016">6</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:313.54px" class="cls_014"><span class="cls_014">n.minobsinnode =</span><span class="cls_010"> </span><span class="cls_016">8</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:326.26px" class="cls_014"><span class="cls_014">shrinkage =</span><span class="cls_010"> </span><span class="cls_016">0.02495755</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:339.24px" class="cls_014"><span class="cls_014">verbose =</span><span class="cls_010"> FALSE,</span></div>
<div style="position:absolute;left:84.02px;top:352.20px" class="cls_010"><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:364.92px" class="cls_010"><span class="cls_010">final_predictions </span><span class="cls_013">&lt;-</span><span class="cls_010"> predict(finalModel, employ_test,</span></div>
<div style="position:absolute;left:247.30px;top:377.64px" class="cls_014"><span class="cls_014">type =</span><span class="cls_010"> </span><span class="cls_012">"response"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:400.68px" class="cls_010"><span class="cls_010">## Using 3330 trees...</span></div>
<div style="position:absolute;left:72.02px;top:423.74px" class="cls_010"><span class="cls_010">final_class </span><span class="cls_013">&lt;-</span><span class="cls_010"> factor(ifelse(final_predictions >= </span><span class="cls_016">0.5</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:247.30px;top:436.46px" class="cls_012"><span class="cls_012">"no"</span><span class="cls_010">,</span><span class="cls_012">"yes"</span><span class="cls_010">),</span></div>
<div style="position:absolute;left:211.06px;top:449.42px" class="cls_014"><span class="cls_014">levels=</span><span class="cls_010">levels(employ_test[[</span><span class="cls_012">"employ"</span><span class="cls_010">]]))</span></div>
<div style="position:absolute;left:72.02px;top:462.14px" class="cls_010"><span class="cls_010">confusionMatrix(final_class, employ_test$employ, </span><span class="cls_014">positive=</span><span class="cls_010"> </span><span class="cls_012">"no"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:485.18px" class="cls_010"><span class="cls_010">## Confusion Matrix and Statistics</span></div>
<div style="position:absolute;left:72.02px;top:498.17px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:511.85px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:150.42px;top:510.89px" class="cls_010"><span class="cls_010">Reference</span></div>
<div style="position:absolute;left:72.02px;top:523.85px" class="cls_010"><span class="cls_010">## Prediction   no  yes</span></div>
<div style="position:absolute;left:72.02px;top:537.77px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:132.20px;top:537.77px" class="cls_010"><span class="cls_010">no</span></div>
<div style="position:absolute;left:162.41px;top:537.77px" class="cls_010"><span class="cls_010">107</span></div>
<div style="position:absolute;left:192.61px;top:536.81px" class="cls_010"><span class="cls_010">609</span></div>
<div style="position:absolute;left:72.02px;top:550.49px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:132.20px;top:550.49px" class="cls_010"><span class="cls_010">yes</span></div>
<div style="position:absolute;left:162.41px;top:549.53px" class="cls_010"><span class="cls_010">181 1769</span></div>
<div style="position:absolute;left:72.02px;top:563.45px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:576.43px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:180.62px;top:576.43px" class="cls_010"><span class="cls_010">Accuracy : 0.7037</span></div>
<div style="position:absolute;left:72.02px;top:589.15px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:192.61px;top:588.19px" class="cls_010"><span class="cls_010">95% CI : (0.6859, 0.721)</span></div>
<div style="position:absolute;left:72.02px;top:602.11px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:114.22px;top:602.11px" class="cls_010"><span class="cls_010">No Information Rate : 0.892</span></div>
<div style="position:absolute;left:72.02px;top:615.07px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:114.22px;top:615.07px" class="cls_010"><span class="cls_010">P-Value [Acc > NIR] : 1</span></div>
<div style="position:absolute;left:72.02px;top:627.79px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:640.75px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:198.61px;top:640.75px" class="cls_010"><span class="cls_010">Kappa : 0.0698</span></div>
<div style="position:absolute;left:72.02px;top:653.74px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:666.46px" class="cls_010"><span class="cls_010">##  Mcnemar's Test P-Value : &lt;2e-16</span></div>
<div style="position:absolute;left:72.02px;top:679.42px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:692.38px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:162.41px;top:692.38px" class="cls_010"><span class="cls_010">Sensitivity : 0.37153</span></div>
<div style="position:absolute;left:72.02px;top:705.10px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:162.41px;top:705.10px" class="cls_010"><span class="cls_010">Specificity : 0.74390</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:21654px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background28.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.02px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:144.42px;top:84.02px" class="cls_010"><span class="cls_010">Pos Pred Value : 0.14944</span></div>
<div style="position:absolute;left:72.02px;top:96.98px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:144.42px;top:96.98px" class="cls_010"><span class="cls_010">Neg Pred Value : 0.90718</span></div>
<div style="position:absolute;left:72.02px;top:109.73px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:168.40px;top:109.73px" class="cls_010"><span class="cls_010">Prevalence : 0.10803</span></div>
<div style="position:absolute;left:72.02px;top:122.69px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:144.42px;top:122.69px" class="cls_010"><span class="cls_010">Detection Rate : 0.04014</span></div>
<div style="position:absolute;left:72.02px;top:135.65px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:135.65px" class="cls_010"><span class="cls_010">Detection Prevalence : 0.26857</span></div>
<div style="position:absolute;left:72.02px;top:148.37px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:126.21px;top:148.37px" class="cls_010"><span class="cls_010">Balanced Accuracy : 0.55772</span></div>
<div style="position:absolute;left:72.02px;top:161.33px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:174.29px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:132.20px;top:174.29px" class="cls_010"><span class="cls_010">'Positive' Class : no</span></div>
<div style="position:absolute;left:72.02px;top:186.07px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:224.23px" class="cls_005"><span class="cls_005">3 A Study on Job Satisfaction and Turnover Behavior</span></div>
<div style="position:absolute;left:72.02px;top:253.99px" class="cls_007"><span class="cls_007">3.1 Introduction</span></div>
<div style="position:absolute;left:72.02px;top:280.18px" class="cls_004"><span class="cls_004">Job satisfaction impacts on the turnover intention of employee, which affects the turnover</span></div>
<div style="position:absolute;left:72.02px;top:294.10px" class="cls_004"><span class="cls_004">behavior. This analysis concerns with the impact of job satisfaction on the turnover</span></div>
<div style="position:absolute;left:72.02px;top:308.26px" class="cls_004"><span class="cls_004">behavior. Since turnover intention is highly correlated with job satisfaction, salary,</span></div>
<div style="position:absolute;left:72.02px;top:322.42px" class="cls_004"><span class="cls_004">employment status and etc, we should pay careful attention for modeling of those variables</span></div>
<div style="position:absolute;left:72.02px;top:336.34px" class="cls_004"><span class="cls_004">as independent variables and turnover behavior as a dependent variable in the empirical</span></div>
<div style="position:absolute;left:72.02px;top:350.28px" class="cls_004"><span class="cls_004">study for the impact of factors on turnover behavior.</span></div>
<div style="position:absolute;left:72.02px;top:374.28px" class="cls_007"><span class="cls_007">3.2 Data Explanation</span></div>
<div style="position:absolute;left:72.02px;top:400.68px" class="cls_004"><span class="cls_004">data filename : satisfy.csv</span></div>
<div style="position:absolute;left:77.30px;top:425.42px" class="cls_004"><span class="cls_004">variable</span></div>
<div style="position:absolute;left:179.35px;top:425.42px" class="cls_004"><span class="cls_004">description</span></div>
<div style="position:absolute;left:440.09px;top:425.42px" class="cls_004"><span class="cls_004">value</span></div>
<div style="position:absolute;left:77.30px;top:443.18px" class="cls_004"><span class="cls_004">turnover</span></div>
<div style="position:absolute;left:179.35px;top:443.18px" class="cls_004"><span class="cls_004">Whether you are preparing for job change</span></div>
<div style="position:absolute;left:440.09px;top:443.18px" class="cls_004"><span class="cls_004">Yes, No</span></div>
<div style="position:absolute;left:77.30px;top:460.94px" class="cls_004"><span class="cls_004">work_status</span></div>
<div style="position:absolute;left:179.35px;top:460.94px" class="cls_004"><span class="cls_004">Employment status</span></div>
<div style="position:absolute;left:440.09px;top:460.94px" class="cls_004"><span class="cls_004">Regular,</span></div>
<div style="position:absolute;left:440.09px;top:474.86px" class="cls_004"><span class="cls_004">Temporary, Daily</span></div>
<div style="position:absolute;left:77.30px;top:492.65px" class="cls_004"><span class="cls_004">work_hour_type    Working Hour Form</span></div>
<div style="position:absolute;left:440.09px;top:492.65px" class="cls_004"><span class="cls_004">Full Time, Part</span></div>
<div style="position:absolute;left:440.09px;top:506.57px" class="cls_004"><span class="cls_004">Time</span></div>
<div style="position:absolute;left:77.30px;top:524.33px" class="cls_004"><span class="cls_004">overtime</span></div>
<div style="position:absolute;left:179.35px;top:524.33px" class="cls_004"><span class="cls_004">Overtime working per week</span></div>
<div style="position:absolute;left:440.09px;top:524.33px" class="cls_004"><span class="cls_004">numeric</span></div>
<div style="position:absolute;left:77.30px;top:542.09px" class="cls_004"><span class="cls_004">satisfaction_1</span></div>
<div style="position:absolute;left:179.35px;top:542.09px" class="cls_004"><span class="cls_004">Wages or income</span></div>
<div style="position:absolute;left:440.09px;top:542.09px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:559.61px" class="cls_004"><span class="cls_004">satisfaction_2</span></div>
<div style="position:absolute;left:179.35px;top:559.61px" class="cls_004"><span class="cls_004">Employment stability</span></div>
<div style="position:absolute;left:440.09px;top:559.61px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:577.39px" class="cls_004"><span class="cls_004">satisfaction_3</span></div>
<div style="position:absolute;left:179.35px;top:577.39px" class="cls_004"><span class="cls_004">Contents of work (job content)</span></div>
<div style="position:absolute;left:440.09px;top:577.39px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:595.15px" class="cls_004"><span class="cls_004">satisfaction_4</span></div>
<div style="position:absolute;left:179.35px;top:595.15px" class="cls_004"><span class="cls_004">Working environment (facilities, safety, hygiene,</span></div>
<div style="position:absolute;left:440.09px;top:595.15px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:179.35px;top:609.07px" class="cls_004"><span class="cls_004">etc.)</span></div>
<div style="position:absolute;left:77.30px;top:626.83px" class="cls_004"><span class="cls_004">satisfaction_5</span></div>
<div style="position:absolute;left:179.35px;top:626.83px" class="cls_004"><span class="cls_004">Working hours (working hours, number of</span></div>
<div style="position:absolute;left:440.09px;top:626.83px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:179.35px;top:640.75px" class="cls_004"><span class="cls_004">working days)</span></div>
<div style="position:absolute;left:77.30px;top:658.54px" class="cls_004"><span class="cls_004">satisfaction_6</span></div>
<div style="position:absolute;left:179.35px;top:658.54px" class="cls_004"><span class="cls_004">Personal development potential</span></div>
<div style="position:absolute;left:440.09px;top:658.54px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:676.30px" class="cls_004"><span class="cls_004">satisfaction_7</span></div>
<div style="position:absolute;left:179.35px;top:676.30px" class="cls_004"><span class="cls_004">Relationships</span></div>
<div style="position:absolute;left:440.09px;top:676.30px" class="cls_004"><span class="cls_004">1~5</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:22456px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background29.jpg" width=612 height=792></div>
<div style="position:absolute;left:77.30px;top:86.18px" class="cls_004"><span class="cls_004">satisfaction_8</span></div>
<div style="position:absolute;left:179.35px;top:86.18px" class="cls_004"><span class="cls_004">Welfare benefits system (social insurance and</span></div>
<div style="position:absolute;left:440.09px;top:86.18px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:179.35px;top:100.10px" class="cls_004"><span class="cls_004">additional benefits)</span></div>
<div style="position:absolute;left:77.30px;top:118.13px" class="cls_004"><span class="cls_004">satisfaction_9</span></div>
<div style="position:absolute;left:179.35px;top:118.13px" class="cls_004"><span class="cls_004">Personnel system (promotion system)</span></div>
<div style="position:absolute;left:440.09px;top:118.13px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:135.65px" class="cls_004"><span class="cls_004">satisfaction_10</span></div>
<div style="position:absolute;left:179.35px;top:135.65px" class="cls_004"><span class="cls_004">Social reputation for what you are doing</span></div>
<div style="position:absolute;left:440.09px;top:135.65px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:153.41px" class="cls_004"><span class="cls_004">satisfaction_11</span></div>
<div style="position:absolute;left:179.35px;top:153.41px" class="cls_004"><span class="cls_004">Autonomy and authority in what you are doing</span></div>
<div style="position:absolute;left:440.09px;top:153.41px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:170.93px" class="cls_004"><span class="cls_004">satisfaction_12</span></div>
<div style="position:absolute;left:179.35px;top:170.93px" class="cls_004"><span class="cls_004">Social reputation for work</span></div>
<div style="position:absolute;left:440.09px;top:170.93px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:188.71px" class="cls_004"><span class="cls_004">satisfaction_13</span></div>
<div style="position:absolute;left:179.35px;top:188.71px" class="cls_004"><span class="cls_004">The match between what you do and your</span></div>
<div style="position:absolute;left:440.09px;top:188.71px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:179.35px;top:202.63px" class="cls_004"><span class="cls_004">aptitude and interest</span></div>
<div style="position:absolute;left:77.30px;top:220.39px" class="cls_004"><span class="cls_004">satisfaction_14</span></div>
<div style="position:absolute;left:179.35px;top:220.39px" class="cls_004"><span class="cls_004">Job-related education or training</span></div>
<div style="position:absolute;left:440.09px;top:220.39px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:238.15px" class="cls_004"><span class="cls_004">satisfaction_job</span></div>
<div style="position:absolute;left:179.35px;top:238.15px" class="cls_004"><span class="cls_004">Overall satisfaction with the current job (job)</span></div>
<div style="position:absolute;left:440.09px;top:238.15px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:255.91px" class="cls_004"><span class="cls_004">satisfaction_task</span></div>
<div style="position:absolute;left:179.35px;top:255.91px" class="cls_004"><span class="cls_004">Overall satisfaction with the main job (task)</span></div>
<div style="position:absolute;left:440.09px;top:255.91px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:273.46px" class="cls_004"><span class="cls_004">match_1</span></div>
<div style="position:absolute;left:179.35px;top:273.46px" class="cls_004"><span class="cls_004">Education level-level of match at work level</span></div>
<div style="position:absolute;left:440.09px;top:273.46px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:77.30px;top:291.22px" class="cls_004"><span class="cls_004">match_2</span></div>
<div style="position:absolute;left:179.35px;top:291.22px" class="cls_004"><span class="cls_004">Work skill (skill) level-the degree to which one’s</span></div>
<div style="position:absolute;left:440.09px;top:291.22px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:179.35px;top:305.14px" class="cls_004"><span class="cls_004">skill (skill) level matches</span></div>
<div style="position:absolute;left:77.30px;top:322.90px" class="cls_004"><span class="cls_004">match_3</span></div>
<div style="position:absolute;left:179.35px;top:322.90px" class="cls_004"><span class="cls_004">Contents of work-Degree of coincidence with</span></div>
<div style="position:absolute;left:440.09px;top:322.90px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:179.35px;top:336.84px" class="cls_004"><span class="cls_004">your major (major) at the time of admission</span></div>
<div style="position:absolute;left:77.30px;top:354.60px" class="cls_004"><span class="cls_004">major_knowledge   Degree of help in work of knowledge in college</span></div>
<div style="position:absolute;left:440.09px;top:354.60px" class="cls_004"><span class="cls_004">1~5</span></div>
<div style="position:absolute;left:179.35px;top:368.52px" class="cls_004"><span class="cls_004">major</span></div>
<div style="position:absolute;left:72.02px;top:393.72px" class="cls_004"><span class="cls_004">We do not add prompts to R source code in this manual, and we comment out the text</span></div>
<div style="position:absolute;left:72.02px;top:407.64px" class="cls_004"><span class="cls_004">output by two hashes ## by default. Package names are in bold text (e.g., </span><span class="cls_011">rpart</span><span class="cls_004">), function</span></div>
<div style="position:absolute;left:72.02px;top:421.58px" class="cls_004"><span class="cls_004">names are formatted as code (e.g., </span><span class="cls_010">read.csv()</span><span class="cls_004">).</span></div>
<div style="position:absolute;left:72.02px;top:445.82px" class="cls_007"><span class="cls_007">3.3 Import Data</span></div>
<div style="position:absolute;left:72.02px;top:471.98px" class="cls_004"><span class="cls_004">We will use the built in </span><span class="cls_010">read.csv()</span><span class="cls_004"> function call, which reads the data in as a data frame,</span></div>
<div style="position:absolute;left:72.02px;top:486.14px" class="cls_004"><span class="cls_004">and assign the data frame to a variable (using </span><span class="cls_010">&lt;-</span><span class="cls_004">) so that it is stored in R’s memory. Then</span></div>
<div style="position:absolute;left:72.02px;top:500.33px" class="cls_004"><span class="cls_004">we will explore some of the basic arguments that can be supplied to the function. The</span></div>
<div style="position:absolute;left:72.02px;top:514.25px" class="cls_004"><span class="cls_004">default for </span><span class="cls_010">read.csv()</span><span class="cls_004"> is to set the </span><span class="cls_010">header</span><span class="cls_004"> argument to TRUE. This means that the first row</span></div>
<div style="position:absolute;left:72.02px;top:528.65px" class="cls_004"><span class="cls_004">of values in the .csv is set as header information (column names). If your data set does not</span></div>
<div style="position:absolute;left:72.02px;top:542.57px" class="cls_004"><span class="cls_004">have a header, set the </span><span class="cls_010">header</span><span class="cls_004"> argument to FALSE. The </span><span class="cls_010">stringsAsFactors</span><span class="cls_004"> argument is</span></div>
<div style="position:absolute;left:72.02px;top:556.73px" class="cls_004"><span class="cls_004">perhaps the most important argument in </span><span class="cls_010">read.csv()</span><span class="cls_004">, particularly if you are working with</span></div>
<div style="position:absolute;left:72.02px;top:571.15px" class="cls_004"><span class="cls_004">categorical data. This is because the default behavior of R is to convert character strings</span></div>
<div style="position:absolute;left:72.02px;top:585.07px" class="cls_004"><span class="cls_004">into factors, which may make it difficult to do such things as replace values.</span></div>
<div style="position:absolute;left:72.02px;top:607.63px" class="cls_010"><span class="cls_010">satisfy_all </span><span class="cls_013">&lt;-</span><span class="cls_010"> read.csv(</span><span class="cls_014">file=</span><span class="cls_012">"satisfy.csv"</span><span class="cls_010">,</span><span class="cls_014">header=</span><span class="cls_010">TRUE,</span><span class="cls_014">stringsAsFactors =</span><span class="cls_010"> TRU</span></div>
<div style="position:absolute;left:72.02px;top:619.39px" class="cls_010"><span class="cls_010">E)</span></div>
<div style="position:absolute;left:72.02px;top:643.87px" class="cls_004"><span class="cls_004">R is always pointed at a directory on your computer. You can find out which directory by</span></div>
<div style="position:absolute;left:72.02px;top:657.82px" class="cls_004"><span class="cls_004">running the </span><span class="cls_010">getwd()</span><span class="cls_004"> (get working directory) function; this function has no arguments. To</span></div>
<div style="position:absolute;left:72.02px;top:671.98px" class="cls_004"><span class="cls_004">change your working directory, use </span><span class="cls_010">setwd()</span><span class="cls_004"> and specify the path to the desired folder.</span></div>
<div style="position:absolute;left:72.02px;top:695.26px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:695.26px" class="cls_010"><span class="cls_010">getwd()</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:23258px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background30.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:84.26px" class="cls_010"><span class="cls_010">setwd(dir)</span><span class="cls_004"> -dir - Specify a working directory. This may be from the root directory</span></div>
<div style="position:absolute;left:96.05px;top:98.66px" class="cls_004"><span class="cls_004">(starting with / on a Mac), it may include a double-dot (..) to move locally up a folder</span></div>
<div style="position:absolute;left:96.05px;top:112.61px" class="cls_004"><span class="cls_004">from the current directory, and it may include a path from the current directory.</span></div>
<div style="position:absolute;left:72.02px;top:127.01px" class="cls_010"><span class="cls_010">getwd()</span></div>
<div style="position:absolute;left:72.02px;top:149.81px" class="cls_010"><span class="cls_010">## [1] "C:/Users/TGD-040/OneDrive/project"</span></div>
<div style="position:absolute;left:72.02px;top:172.85px" class="cls_010"><span class="cls_010">setwd(</span><span class="cls_012">"c:/project"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:197.11px" class="cls_007"><span class="cls_007">3.4 Exploring and Preparing the Data</span></div>
<div style="position:absolute;left:72.02px;top:223.27px" class="cls_004"><span class="cls_004">The first questions to ask in an investigation of a new dataset should be about how the</span></div>
<div style="position:absolute;left:72.02px;top:237.43px" class="cls_004"><span class="cls_004">dataset is organized. If you are fortunate, your source will provide a data dictionary, a</span></div>
<div style="position:absolute;left:72.02px;top:251.59px" class="cls_004"><span class="cls_004">document that describes the dataset’s features. In our case, the used car data does not</span></div>
<div style="position:absolute;left:72.02px;top:265.54px" class="cls_004"><span class="cls_004">come with this documentation, so we’ll need to create our own. The </span><span class="cls_010">str()</span><span class="cls_004"> function</span></div>
<div style="position:absolute;left:72.02px;top:279.70px" class="cls_004"><span class="cls_004">provides a method for displaying the structure of R objects, such as data frames, vectors, or</span></div>
<div style="position:absolute;left:72.02px;top:293.62px" class="cls_004"><span class="cls_004">lists. It can be used to create the basic outline for our data dictionary:</span></div>
<div style="position:absolute;left:72.02px;top:315.22px" class="cls_010"><span class="cls_010">str(satisfy_all)</span></div>
<div style="position:absolute;left:72.02px;top:339.24px" class="cls_010"><span class="cls_010">## 'data.frame':</span></div>
<div style="position:absolute;left:192.76px;top:339.24px" class="cls_010"><span class="cls_010">10839 obs. of</span></div>
<div style="position:absolute;left:283.37px;top:338.28px" class="cls_010"><span class="cls_010">24 variables:</span></div>
<div style="position:absolute;left:72.02px;top:352.20px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:352.20px" class="cls_010"><span class="cls_010">$ turnover</span></div>
<div style="position:absolute;left:210.83px;top:352.20px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "No","Yes": 1 1 1 1 1 1 2 2 2 2 .</span></div>
<div style="position:absolute;left:72.02px;top:377.88px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:377.88px" class="cls_010"><span class="cls_010">$ work_status</span></div>
<div style="position:absolute;left:210.83px;top:377.88px" class="cls_010"><span class="cls_010">: Factor w/ 3 levels "Daily","Regular",..: 3 2 2 2 2 2</span></div>
<div style="position:absolute;left:78.02px;top:389.88px" class="cls_010"><span class="cls_010">1 2 2 3 ...</span></div>
<div style="position:absolute;left:72.02px;top:403.80px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:403.80px" class="cls_010"><span class="cls_010">$ work_hour_type</span></div>
<div style="position:absolute;left:210.83px;top:403.80px" class="cls_010"><span class="cls_010">: Factor w/ 2 levels "Full Time","Part Time": 1 1 1 1</span></div>
<div style="position:absolute;left:72.02px;top:415.58px" class="cls_010"><span class="cls_010">1 1 2 1 1 1 ...</span></div>
<div style="position:absolute;left:72.02px;top:429.50px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:429.50px" class="cls_010"><span class="cls_010">$ overtime</span></div>
<div style="position:absolute;left:210.83px;top:429.50px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:428.54px" class="cls_010"><span class="cls_010">0 5 5 2 0 0 4 10 0 2 ...</span></div>
<div style="position:absolute;left:72.02px;top:442.46px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:442.46px" class="cls_010"><span class="cls_010">$ satisfaction_1</span></div>
<div style="position:absolute;left:210.83px;top:442.46px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:441.50px" class="cls_010"><span class="cls_010">1 2 3 4 3 3 4 3 3 2 ...</span></div>
<div style="position:absolute;left:72.02px;top:455.18px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:455.18px" class="cls_010"><span class="cls_010">$ satisfaction_2</span></div>
<div style="position:absolute;left:210.83px;top:455.18px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:454.22px" class="cls_010"><span class="cls_010">4 4 4 4 3 4 3 3 5 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:468.14px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:468.14px" class="cls_010"><span class="cls_010">$ satisfaction_3</span></div>
<div style="position:absolute;left:210.83px;top:468.14px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:467.18px" class="cls_010"><span class="cls_010">5 5 4 4 3 4 3 4 3 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:481.10px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:481.10px" class="cls_010"><span class="cls_010">$ satisfaction_4</span></div>
<div style="position:absolute;left:210.83px;top:481.10px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:480.14px" class="cls_010"><span class="cls_010">5 4 3 2 4 4 3 3 4 5 ...</span></div>
<div style="position:absolute;left:72.02px;top:493.85px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:493.85px" class="cls_010"><span class="cls_010">$ satisfaction_5</span></div>
<div style="position:absolute;left:210.83px;top:493.85px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:492.89px" class="cls_010"><span class="cls_010">3 4 3 4 3 5 3 3 5 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:506.81px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:506.81px" class="cls_010"><span class="cls_010">$ satisfaction_6</span></div>
<div style="position:absolute;left:210.83px;top:506.81px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:505.85px" class="cls_010"><span class="cls_010">5 3 3 4 4 4 2 4 3 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:519.77px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:519.77px" class="cls_010"><span class="cls_010">$ satisfaction_7</span></div>
<div style="position:absolute;left:210.83px;top:519.77px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:518.81px" class="cls_010"><span class="cls_010">2 4 4 4 3 4 2 3 5 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:532.49px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:532.49px" class="cls_010"><span class="cls_010">$ satisfaction_8</span></div>
<div style="position:absolute;left:210.83px;top:532.49px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:531.53px" class="cls_010"><span class="cls_010">1 4 3 3 3 4 3 3 4 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:545.45px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:545.45px" class="cls_010"><span class="cls_010">$ satisfaction_9</span></div>
<div style="position:absolute;left:210.83px;top:545.45px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:544.49px" class="cls_010"><span class="cls_010">1 3 4 3 3 3 2 3 4 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:558.41px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:558.41px" class="cls_010"><span class="cls_010">$ satisfaction_10</span></div>
<div style="position:absolute;left:210.83px;top:558.41px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:557.45px" class="cls_010"><span class="cls_010">3 4 3 4 3 4 2 4 4 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:571.15px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:571.15px" class="cls_010"><span class="cls_010">$ satisfaction_11</span></div>
<div style="position:absolute;left:210.83px;top:571.15px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:570.19px" class="cls_010"><span class="cls_010">5 4 3 4 3 4 2 3 5 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:584.11px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:584.11px" class="cls_010"><span class="cls_010">$ satisfaction_12</span></div>
<div style="position:absolute;left:210.83px;top:584.11px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:583.15px" class="cls_010"><span class="cls_010">3 3 3 4 3 3 3 3 4 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:597.07px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:597.07px" class="cls_010"><span class="cls_010">$ satisfaction_13</span></div>
<div style="position:absolute;left:210.83px;top:597.07px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.27px;top:596.11px" class="cls_010"><span class="cls_010">4 5 4 4 3 4 3 4 2 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:609.79px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:609.79px" class="cls_010"><span class="cls_010">$ satisfaction_14</span></div>
<div style="position:absolute;left:210.83px;top:609.79px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:608.83px" class="cls_010"><span class="cls_010">2 3 3 4 3 3 3 3 4 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:622.75px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:622.75px" class="cls_010"><span class="cls_010">$ satisfaction_job : int</span></div>
<div style="position:absolute;left:253.02px;top:621.79px" class="cls_010"><span class="cls_010">3 4 3 4 3 4 3 3 3 5 ...</span></div>
<div style="position:absolute;left:72.02px;top:635.71px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:635.71px" class="cls_010"><span class="cls_010">$ satisfaction_task: int</span></div>
<div style="position:absolute;left:253.02px;top:634.75px" class="cls_010"><span class="cls_010">4 5 4 4 3 4 3 3 3 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:648.46px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:648.46px" class="cls_010"><span class="cls_010">$ match_1</span></div>
<div style="position:absolute;left:210.83px;top:648.46px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:647.50px" class="cls_010"><span class="cls_010">2 2 3 2 3 2 3 3 2 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:661.42px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:661.42px" class="cls_010"><span class="cls_010">$ match_2</span></div>
<div style="position:absolute;left:210.92px;top:661.42px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.11px;top:660.46px" class="cls_010"><span class="cls_010">1 4 3 2 3 2 3 4 2 4 ...</span></div>
<div style="position:absolute;left:72.02px;top:674.38px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:674.38px" class="cls_010"><span class="cls_010">$ match_3</span></div>
<div style="position:absolute;left:210.83px;top:674.38px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:673.42px" class="cls_010"><span class="cls_010">1 3 2 1 3 5 1 4 1 5 ...</span></div>
<div style="position:absolute;left:72.02px;top:687.10px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:687.10px" class="cls_010"><span class="cls_010">$ major_knowledge</span></div>
<div style="position:absolute;left:210.83px;top:687.10px" class="cls_010"><span class="cls_010">: int</span></div>
<div style="position:absolute;left:253.02px;top:686.14px" class="cls_010"><span class="cls_010">1 4 2 2 3 4 2 4 1 5 ...</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:24060px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background31.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.50px" class="cls_004"><span class="cls_004">For such a simple command, we learn a wealth of information about the dataset. The</span></div>
<div style="position:absolute;left:72.02px;top:98.42px" class="cls_004"><span class="cls_004">statement </span><span class="cls_010">10839 obs</span><span class="cls_004"> informs us that the data includes 10,839 observations, which is just</span></div>
<div style="position:absolute;left:72.02px;top:112.85px" class="cls_004"><span class="cls_004">another way of saying that the dataset contains 10,839 records or examples. The number of</span></div>
<div style="position:absolute;left:72.02px;top:126.77px" class="cls_004"><span class="cls_004">observations is often simply abbreviated as n. The </span><span class="cls_010">24 variables</span><span class="cls_004"> statement refers to the</span></div>
<div style="position:absolute;left:72.02px;top:140.93px" class="cls_004"><span class="cls_004">sixteen features that were recorded in the data. These features are listed by name on</span></div>
<div style="position:absolute;left:72.02px;top:154.85px" class="cls_004"><span class="cls_004">separate lines. Looking at the line for the feature called </span><span class="cls_010">work_status</span><span class="cls_004">, we note some</span></div>
<div style="position:absolute;left:72.02px;top:169.01px" class="cls_004"><span class="cls_004">additional details:</span></div>
<div style="position:absolute;left:72.02px;top:191.59px" class="cls_010"><span class="cls_010">work_status</span></div>
<div style="position:absolute;left:174.63px;top:190.63px" class="cls_010"><span class="cls_010">: Factor w/ 3 levels "Daily","Regular",..: 3 2 2 2 2</span></div>
<div style="position:absolute;left:72.02px;top:214.15px" class="cls_004"><span class="cls_004">After the variable’s name, the Factor label tells us that the feature is factor type. In this</span></div>
<div style="position:absolute;left:72.02px;top:228.31px" class="cls_004"><span class="cls_004">dataset, 3 of the variables are factor while others are noted as int which refers to the</span></div>
<div style="position:absolute;left:72.02px;top:242.23px" class="cls_004"><span class="cls_004">integer type. In R, we can get summary statistics for a dataset by using the </span><span class="cls_010">summary()</span></div>
<div style="position:absolute;left:72.02px;top:256.39px" class="cls_004"><span class="cls_004">function. To get the summary statistics for our satisfy dataset, we pass the name of the</span></div>
<div style="position:absolute;left:72.02px;top:270.34px" class="cls_004"><span class="cls_004">dataset to the </span><span class="cls_010">summary()</span><span class="cls_004"> function.</span></div>
<div style="position:absolute;left:72.02px;top:292.18px" class="cls_010"><span class="cls_010">summary(satisfy_all)</span></div>
<div style="position:absolute;left:72.02px;top:316.18px" class="cls_010"><span class="cls_010">##  turnover</span></div>
<div style="position:absolute;left:180.62px;top:316.18px" class="cls_010"><span class="cls_010">work_status</span></div>
<div style="position:absolute;left:277.24px;top:316.18px" class="cls_010"><span class="cls_010">work_hour_type</span></div>
<div style="position:absolute;left:386.07px;top:316.18px" class="cls_010"><span class="cls_010">overtime</span></div>
<div style="position:absolute;left:470.46px;top:316.18px" class="cls_010"><span class="cls_010">satisfactio</span></div>
<div style="position:absolute;left:72.02px;top:328.18px" class="cls_010"><span class="cls_010">n_1</span></div>
<div style="position:absolute;left:72.02px;top:341.88px" class="cls_010"><span class="cls_010">##  No :8010   Daily</span></div>
<div style="position:absolute;left:217.06px;top:341.88px" class="cls_010"><span class="cls_010">: 166   Full Time:9803   Min.</span></div>
<div style="position:absolute;left:410.28px;top:341.88px" class="cls_010"><span class="cls_010">: 0.000   Min.</span></div>
<div style="position:absolute;left:513.12px;top:341.88px" class="cls_010"><span class="cls_010">:1.0</span></div>
<div style="position:absolute;left:72.02px;top:353.88px" class="cls_010"><span class="cls_010">00</span></div>
<div style="position:absolute;left:72.02px;top:367.80px" class="cls_010"><span class="cls_010">##  Yes:2829   Regular</span></div>
<div style="position:absolute;left:216.82px;top:367.80px" class="cls_010"><span class="cls_010">:8789   Part Time:1036</span></div>
<div style="position:absolute;left:367.85px;top:367.80px" class="cls_010"><span class="cls_010">1st Qu.: 0.000</span></div>
<div style="position:absolute;left:470.46px;top:367.80px" class="cls_010"><span class="cls_010">1st Qu.:3.0</span></div>
<div style="position:absolute;left:72.02px;top:379.56px" class="cls_010"><span class="cls_010">00</span></div>
<div style="position:absolute;left:72.02px;top:393.48px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:162.41px;top:393.48px" class="cls_010"><span class="cls_010">Temporary:1884</span></div>
<div style="position:absolute;left:367.85px;top:393.48px" class="cls_010"><span class="cls_010">Median : 0.000   Median :3.0</span></div>
<div style="position:absolute;left:72.02px;top:405.48px" class="cls_010"><span class="cls_010">00</span></div>
<div style="position:absolute;left:72.02px;top:419.18px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:368.30px;top:419.18px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:410.49px;top:419.18px" class="cls_010"><span class="cls_010">: 3.739   Mean</span></div>
<div style="position:absolute;left:513.33px;top:419.18px" class="cls_010"><span class="cls_010">:3.2</span></div>
<div style="position:absolute;left:72.02px;top:431.18px" class="cls_010"><span class="cls_010">31</span></div>
<div style="position:absolute;left:72.02px;top:445.10px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:367.85px;top:445.10px" class="cls_010"><span class="cls_010">3rd Qu.: 5.000</span></div>
<div style="position:absolute;left:470.46px;top:445.10px" class="cls_010"><span class="cls_010">3rd Qu.:4.0</span></div>
<div style="position:absolute;left:72.02px;top:456.86px" class="cls_010"><span class="cls_010">00</span></div>
<div style="position:absolute;left:72.02px;top:470.78px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:367.85px;top:470.78px" class="cls_010"><span class="cls_010">Max.</span></div>
<div style="position:absolute;left:410.05px;top:470.78px" class="cls_010"><span class="cls_010">:60.000   Max.</span></div>
<div style="position:absolute;left:512.88px;top:470.78px" class="cls_010"><span class="cls_010">:5.0</span></div>
<div style="position:absolute;left:72.02px;top:482.78px" class="cls_010"><span class="cls_010">00</span></div>
<div style="position:absolute;left:72.02px;top:496.49px" class="cls_010"><span class="cls_010">##  satisfaction_2  satisfaction_3 satisfaction_4 satisfaction_5  satisfactio</span></div>
<div style="position:absolute;left:72.02px;top:508.49px" class="cls_010"><span class="cls_010">n_6</span></div>
<div style="position:absolute;left:72.02px;top:522.41px" class="cls_010"><span class="cls_010">##  Min.</span></div>
<div style="position:absolute;left:138.20px;top:522.41px" class="cls_010"><span class="cls_010">:1.000   Min.</span></div>
<div style="position:absolute;left:234.81px;top:522.41px" class="cls_010"><span class="cls_010">:1.00   Min.</span></div>
<div style="position:absolute;left:325.66px;top:522.41px" class="cls_010"><span class="cls_010">:1.00   Min.</span></div>
<div style="position:absolute;left:416.27px;top:522.41px" class="cls_010"><span class="cls_010">:1.000   Min.</span></div>
<div style="position:absolute;left:512.88px;top:522.41px" class="cls_010"><span class="cls_010">:1.0</span></div>
<div style="position:absolute;left:72.02px;top:534.17px" class="cls_010"><span class="cls_010">00</span></div>
<div style="position:absolute;left:72.02px;top:548.09px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:548.09px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:192.61px;top:548.09px" class="cls_010"><span class="cls_010">1st Qu.:3.00</span></div>
<div style="position:absolute;left:283.23px;top:548.09px" class="cls_010"><span class="cls_010">1st Qu.:3.00</span></div>
<div style="position:absolute;left:373.85px;top:548.09px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:470.46px;top:548.09px" class="cls_010"><span class="cls_010">1st Qu.:3.0</span></div>
<div style="position:absolute;left:72.02px;top:561.05px" class="cls_010"><span class="cls_010">00</span></div>
<div style="position:absolute;left:72.02px;top:573.79px" class="cls_010"><span class="cls_010">##  Median :4.000   Median :4.00   Median :4.00   Median :4.000   Median :4.0</span></div>
<div style="position:absolute;left:72.02px;top:585.79px" class="cls_010"><span class="cls_010">00</span></div>
<div style="position:absolute;left:72.02px;top:599.71px" class="cls_010"><span class="cls_010">##  Mean</span></div>
<div style="position:absolute;left:138.20px;top:599.71px" class="cls_010"><span class="cls_010">:3.739   Mean</span></div>
<div style="position:absolute;left:234.81px;top:599.71px" class="cls_010"><span class="cls_010">:3.72   Mean</span></div>
<div style="position:absolute;left:325.66px;top:599.71px" class="cls_010"><span class="cls_010">:3.82   Mean</span></div>
<div style="position:absolute;left:416.27px;top:599.71px" class="cls_010"><span class="cls_010">:3.653   Mean</span></div>
<div style="position:absolute;left:512.88px;top:599.71px" class="cls_010"><span class="cls_010">:3.5</span></div>
<div style="position:absolute;left:72.02px;top:611.47px" class="cls_010"><span class="cls_010">03</span></div>
<div style="position:absolute;left:72.02px;top:625.39px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:625.39px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:192.61px;top:625.39px" class="cls_010"><span class="cls_010">3rd Qu.:4.00</span></div>
<div style="position:absolute;left:283.23px;top:625.39px" class="cls_010"><span class="cls_010">3rd Qu.:4.00</span></div>
<div style="position:absolute;left:373.85px;top:625.39px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:470.46px;top:625.39px" class="cls_010"><span class="cls_010">3rd Qu.:4.0</span></div>
<div style="position:absolute;left:72.02px;top:638.35px" class="cls_010"><span class="cls_010">00</span></div>
<div style="position:absolute;left:72.02px;top:651.10px" class="cls_010"><span class="cls_010">##  Max.</span></div>
<div style="position:absolute;left:138.20px;top:651.10px" class="cls_010"><span class="cls_010">:5.000   Max.</span></div>
<div style="position:absolute;left:234.81px;top:651.10px" class="cls_010"><span class="cls_010">:5.00   Max.</span></div>
<div style="position:absolute;left:325.66px;top:651.10px" class="cls_010"><span class="cls_010">:5.00   Max.</span></div>
<div style="position:absolute;left:416.27px;top:651.10px" class="cls_010"><span class="cls_010">:5.000   Max.</span></div>
<div style="position:absolute;left:513.44px;top:651.10px" class="cls_010"><span class="cls_010">:5.0</span></div>
<div style="position:absolute;left:72.02px;top:663.10px" class="cls_010"><span class="cls_010">00</span></div>
<div style="position:absolute;left:72.02px;top:676.06px" class="cls_010"><span class="cls_010">##  satisfaction_7  satisfaction_8  satisfaction_9  satisfaction_10</span></div>
<div style="position:absolute;left:72.02px;top:689.74px" class="cls_010"><span class="cls_010">##  Min.</span></div>
<div style="position:absolute;left:138.20px;top:689.74px" class="cls_010"><span class="cls_010">:1.000   Min.</span></div>
<div style="position:absolute;left:234.81px;top:689.74px" class="cls_010"><span class="cls_010">:1.000   Min.</span></div>
<div style="position:absolute;left:331.65px;top:689.74px" class="cls_010"><span class="cls_010">:1.000   Min.</span></div>
<div style="position:absolute;left:428.26px;top:688.78px" class="cls_010"><span class="cls_010">:1.00</span></div>
<div style="position:absolute;left:72.02px;top:702.70px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:702.70px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:192.61px;top:702.70px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:289.22px;top:702.70px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:386.07px;top:701.74px" class="cls_010"><span class="cls_010">1st Qu.:3.00</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:24862px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background32.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_010"><span class="cls_010">##  Median :4.000   Median :4.000   Median :3.000   Median :4.00</span></div>
<div style="position:absolute;left:72.02px;top:96.98px" class="cls_010"><span class="cls_010">##  Mean</span></div>
<div style="position:absolute;left:138.20px;top:96.98px" class="cls_010"><span class="cls_010">:3.831   Mean</span></div>
<div style="position:absolute;left:234.81px;top:96.98px" class="cls_010"><span class="cls_010">:3.465   Mean</span></div>
<div style="position:absolute;left:331.65px;top:96.98px" class="cls_010"><span class="cls_010">:3.207   Mean</span></div>
<div style="position:absolute;left:428.26px;top:96.02px" class="cls_010"><span class="cls_010">:3.59</span></div>
<div style="position:absolute;left:72.02px;top:109.73px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:109.73px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:192.61px;top:109.73px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:289.22px;top:109.73px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:386.07px;top:108.77px" class="cls_010"><span class="cls_010">3rd Qu.:4.00</span></div>
<div style="position:absolute;left:72.02px;top:122.69px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:122.69px" class="cls_010"><span class="cls_010">Max.</span></div>
<div style="position:absolute;left:138.20px;top:122.69px" class="cls_010"><span class="cls_010">:5.000   Max.</span></div>
<div style="position:absolute;left:234.81px;top:122.69px" class="cls_010"><span class="cls_010">:5.000   Max.</span></div>
<div style="position:absolute;left:331.65px;top:122.69px" class="cls_010"><span class="cls_010">:5.000   Max.</span></div>
<div style="position:absolute;left:428.26px;top:121.73px" class="cls_010"><span class="cls_010">:5.00</span></div>
<div style="position:absolute;left:72.02px;top:135.65px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:134.69px" class="cls_010"><span class="cls_010">satisfaction_11 satisfaction_12 satisfaction_13 satisfaction_14</span></div>
<div style="position:absolute;left:72.02px;top:148.37px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:148.37px" class="cls_010"><span class="cls_010">Min.</span></div>
<div style="position:absolute;left:138.20px;top:148.37px" class="cls_010"><span class="cls_010">:1.000   Min.</span></div>
<div style="position:absolute;left:234.81px;top:148.37px" class="cls_010"><span class="cls_010">:1.000   Min.</span></div>
<div style="position:absolute;left:331.65px;top:148.37px" class="cls_010"><span class="cls_010">:1.000   Min.</span></div>
<div style="position:absolute;left:428.26px;top:147.41px" class="cls_010"><span class="cls_010">:1.00</span></div>
<div style="position:absolute;left:72.02px;top:161.33px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:161.33px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:192.61px;top:161.33px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:289.22px;top:161.33px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:386.07px;top:160.37px" class="cls_010"><span class="cls_010">1st Qu.:3.00</span></div>
<div style="position:absolute;left:72.02px;top:174.29px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:174.29px" class="cls_010"><span class="cls_010">Median :4.000</span></div>
<div style="position:absolute;left:192.61px;top:174.29px" class="cls_010"><span class="cls_010">Median :4.000</span></div>
<div style="position:absolute;left:289.22px;top:174.29px" class="cls_010"><span class="cls_010">Median :4.000</span></div>
<div style="position:absolute;left:386.07px;top:173.33px" class="cls_010"><span class="cls_010">Median :4.00</span></div>
<div style="position:absolute;left:72.02px;top:187.03px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:187.03px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:138.20px;top:187.03px" class="cls_010"><span class="cls_010">:3.658   Mean</span></div>
<div style="position:absolute;left:234.81px;top:187.03px" class="cls_010"><span class="cls_010">:3.604   Mean</span></div>
<div style="position:absolute;left:331.65px;top:187.03px" class="cls_010"><span class="cls_010">:3.672   Mean</span></div>
<div style="position:absolute;left:428.26px;top:186.07px" class="cls_010"><span class="cls_010">:3.48</span></div>
<div style="position:absolute;left:72.02px;top:199.99px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:199.99px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:192.61px;top:199.99px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:289.22px;top:199.99px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:386.07px;top:199.03px" class="cls_010"><span class="cls_010">3rd Qu.:4.00</span></div>
<div style="position:absolute;left:72.02px;top:212.95px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:212.95px" class="cls_010"><span class="cls_010">Max.</span></div>
<div style="position:absolute;left:138.20px;top:212.95px" class="cls_010"><span class="cls_010">:5.000   Max.</span></div>
<div style="position:absolute;left:234.81px;top:212.95px" class="cls_010"><span class="cls_010">:5.000   Max.</span></div>
<div style="position:absolute;left:331.65px;top:212.95px" class="cls_010"><span class="cls_010">:5.000   Max.</span></div>
<div style="position:absolute;left:428.76px;top:211.99px" class="cls_010"><span class="cls_010">:5.00</span></div>
<div style="position:absolute;left:72.02px;top:225.67px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:225.67px" class="cls_010"><span class="cls_010">satisfaction_job satisfaction_task</span></div>
<div style="position:absolute;left:325.66px;top:225.67px" class="cls_010"><span class="cls_010">match_1</span></div>
<div style="position:absolute;left:422.27px;top:225.67px" class="cls_010"><span class="cls_010">match_2</span></div>
<div style="position:absolute;left:72.02px;top:238.63px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:238.63px" class="cls_010"><span class="cls_010">Min.</span></div>
<div style="position:absolute;left:138.20px;top:238.63px" class="cls_010"><span class="cls_010">:1.000</span></div>
<div style="position:absolute;left:198.61px;top:238.63px" class="cls_010"><span class="cls_010">Min.</span></div>
<div style="position:absolute;left:241.04px;top:238.63px" class="cls_010"><span class="cls_010">:1.000</span></div>
<div style="position:absolute;left:307.44px;top:238.63px" class="cls_010"><span class="cls_010">Min.</span></div>
<div style="position:absolute;left:349.64px;top:238.63px" class="cls_010"><span class="cls_010">:1.000   Min.</span></div>
<div style="position:absolute;left:446.25px;top:237.67px" class="cls_010"><span class="cls_010">:1.000</span></div>
<div style="position:absolute;left:72.02px;top:251.59px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:251.59px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:198.61px;top:251.59px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:307.44px;top:251.59px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:404.05px;top:250.63px" class="cls_010"><span class="cls_010">1st Qu.:3.000</span></div>
<div style="position:absolute;left:72.02px;top:264.34px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:264.34px" class="cls_010"><span class="cls_010">Median :4.000</span></div>
<div style="position:absolute;left:198.61px;top:264.34px" class="cls_010"><span class="cls_010">Median :4.000</span></div>
<div style="position:absolute;left:307.71px;top:264.34px" class="cls_010"><span class="cls_010">Median :3.000</span></div>
<div style="position:absolute;left:404.32px;top:263.38px" class="cls_010"><span class="cls_010">Median :3.000</span></div>
<div style="position:absolute;left:72.02px;top:277.30px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:277.30px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:138.20px;top:277.30px" class="cls_010"><span class="cls_010">:3.541</span></div>
<div style="position:absolute;left:198.61px;top:277.30px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:241.04px;top:277.30px" class="cls_010"><span class="cls_010">:3.619</span></div>
<div style="position:absolute;left:307.44px;top:277.30px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:349.64px;top:277.30px" class="cls_010"><span class="cls_010">:2.942   Mean</span></div>
<div style="position:absolute;left:446.25px;top:276.34px" class="cls_010"><span class="cls_010">:2.959</span></div>
<div style="position:absolute;left:72.02px;top:290.26px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:290.26px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:198.61px;top:290.26px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:307.44px;top:290.26px" class="cls_010"><span class="cls_010">3rd Qu.:3.000</span></div>
<div style="position:absolute;left:404.05px;top:289.30px" class="cls_010"><span class="cls_010">3rd Qu.:3.000</span></div>
<div style="position:absolute;left:72.02px;top:302.98px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:302.98px" class="cls_010"><span class="cls_010">Max.</span></div>
<div style="position:absolute;left:138.20px;top:302.98px" class="cls_010"><span class="cls_010">:5.000</span></div>
<div style="position:absolute;left:198.61px;top:302.98px" class="cls_010"><span class="cls_010">Max.</span></div>
<div style="position:absolute;left:241.04px;top:302.98px" class="cls_010"><span class="cls_010">:5.000</span></div>
<div style="position:absolute;left:307.44px;top:302.98px" class="cls_010"><span class="cls_010">Max.</span></div>
<div style="position:absolute;left:349.64px;top:302.98px" class="cls_010"><span class="cls_010">:5.000   Max.</span></div>
<div style="position:absolute;left:446.25px;top:302.02px" class="cls_010"><span class="cls_010">:5.000</span></div>
<div style="position:absolute;left:72.02px;top:315.94px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:114.22px;top:315.94px" class="cls_010"><span class="cls_010">match_3</span></div>
<div style="position:absolute;left:192.61px;top:314.98px" class="cls_010"><span class="cls_010">major_knowledge</span></div>
<div style="position:absolute;left:72.02px;top:328.90px" class="cls_010"><span class="cls_010">##  Min.</span></div>
<div style="position:absolute;left:138.20px;top:328.90px" class="cls_010"><span class="cls_010">:1.000   Min.</span></div>
<div style="position:absolute;left:234.81px;top:327.94px" class="cls_010"><span class="cls_010">:1.000</span></div>
<div style="position:absolute;left:72.02px;top:341.64px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:341.64px" class="cls_010"><span class="cls_010">1st Qu.:2.000</span></div>
<div style="position:absolute;left:192.61px;top:340.68px" class="cls_010"><span class="cls_010">1st Qu.:2.000</span></div>
<div style="position:absolute;left:72.02px;top:354.60px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:354.60px" class="cls_010"><span class="cls_010">Median :3.000</span></div>
<div style="position:absolute;left:192.61px;top:353.64px" class="cls_010"><span class="cls_010">Median :3.000</span></div>
<div style="position:absolute;left:72.02px;top:367.56px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:367.56px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:138.20px;top:367.56px" class="cls_010"><span class="cls_010">:3.175   Mean</span></div>
<div style="position:absolute;left:234.81px;top:366.60px" class="cls_010"><span class="cls_010">:3.208</span></div>
<div style="position:absolute;left:72.02px;top:380.28px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:380.28px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:192.61px;top:379.32px" class="cls_010"><span class="cls_010">3rd Qu.:4.000</span></div>
<div style="position:absolute;left:72.02px;top:393.00px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:96.00px;top:393.00px" class="cls_010"><span class="cls_010">Max.</span></div>
<div style="position:absolute;left:138.20px;top:393.00px" class="cls_010"><span class="cls_010">:5.000   Max.</span></div>
<div style="position:absolute;left:234.81px;top:392.04px" class="cls_010"><span class="cls_010">:5.000</span></div>
<div style="position:absolute;left:72.02px;top:416.54px" class="cls_004"><span class="cls_004">Changing the order of factor levels, You can use </span><span class="cls_010">fct_relevel()</span><span class="cls_004">. It takes a factor, f, and then</span></div>
<div style="position:absolute;left:72.02px;top:430.70px" class="cls_004"><span class="cls_004">any number of levels that you want to move to the front of the line.</span></div>
<div style="position:absolute;left:72.02px;top:452.30px" class="cls_010"><span class="cls_010">satisfy_all$turnover </span><span class="cls_013">&lt;-</span><span class="cls_010"> fct_relevel(satisfy_all$turnover,</span><span class="cls_012">"Yes"</span><span class="cls_010">,</span><span class="cls_012">"No"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:466.22px" class="cls_010"><span class="cls_010">satisfy_all$work_status </span><span class="cls_013">&lt;-</span><span class="cls_010"> fct_relevel(satisfy_all$work_status,</span><span class="cls_012">"Regular"</span><span class="cls_010">,</span><span class="cls_012">"Tem</span></div>
<div style="position:absolute;left:72.02px;top:477.98px" class="cls_012"><span class="cls_012">porary"</span><span class="cls_010">,</span><span class="cls_012">"Daily"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:502.49px" class="cls_004"><span class="cls_004">The tidyverse provides us with a powerful and flexible package for visualizing data called</span></div>
<div style="position:absolute;left:72.02px;top:516.65px" class="cls_004"><span class="cls_004">ggplot2. The functions provided by ggplot2 follow a principle and consistent syntax known</span></div>
<div style="position:absolute;left:72.02px;top:530.57px" class="cls_004"><span class="cls_004">as the grammar of graphics. For readers who are interested in an in-depth explanation of</span></div>
<div style="position:absolute;left:72.02px;top:544.73px" class="cls_004"><span class="cls_004">ggplot2 and the grammar of graphics, we refer you to the books ggplot2 by Hadley</span></div>
<div style="position:absolute;left:72.02px;top:558.65px" class="cls_004"><span class="cls_004">Wickham and The Grammar of Graphics by Leland Wilkinson.</span></div>
<div style="position:absolute;left:72.02px;top:580.51px" class="cls_010"><span class="cls_010">satisfy_all %>%</span></div>
<div style="position:absolute;left:84.02px;top:593.23px" class="cls_010"><span class="cls_010">ggplot(aes(turnover)) +</span></div>
<div style="position:absolute;left:84.02px;top:605.95px" class="cls_010"><span class="cls_010">geom_bar(</span><span class="cls_014">color=</span><span class="cls_012">"white"</span><span class="cls_010">)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:25664px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background33.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:310.42px" class="cls_010"><span class="cls_010">satisfy_all %>%</span></div>
<div style="position:absolute;left:84.02px;top:323.38px" class="cls_010"><span class="cls_010">ggplot(aes(overtime)) +</span></div>
<div style="position:absolute;left:84.02px;top:336.10px" class="cls_010"><span class="cls_010">geom_histogram(</span><span class="cls_014">color=</span><span class="cls_012">"white"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:358.92px" class="cls_010"><span class="cls_010">## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></div>
<div style="position:absolute;left:72.02px;top:609.31px" class="cls_010"><span class="cls_010">satisfy_all %>%</span></div>
<div style="position:absolute;left:84.02px;top:622.03px" class="cls_010"><span class="cls_010">ggplot(aes(overtime)) +</span></div>
<div style="position:absolute;left:84.02px;top:634.75px" class="cls_010"><span class="cls_010">geom_boxplot(</span><span class="cls_014">color=</span><span class="cls_012">"blue"</span><span class="cls_010">)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:26466px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background34.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:312.58px" class="cls_007"><span class="cls_007">3.5 Splitting the data (train set & test set)</span></div>
<div style="position:absolute;left:72.02px;top:338.76px" class="cls_004"><span class="cls_004">The </span><span class="cls_010">createDataPartition()</span><span class="cls_004"> function in </span><span class="cls_011">caret</span><span class="cls_004"> package creates stratified random samples</span></div>
<div style="position:absolute;left:72.02px;top:352.92px" class="cls_004"><span class="cls_004">from the original data and takes three main arguments. The first argument (</span><span class="cls_010">y</span><span class="cls_004">) specifies the</span></div>
<div style="position:absolute;left:72.02px;top:367.08px" class="cls_004"><span class="cls_004">class or dependent variable, the second argument (</span><span class="cls_010">p</span><span class="cls_004">) specifies the proportion of examples</span></div>
<div style="position:absolute;left:72.02px;top:381.48px" class="cls_004"><span class="cls_004">that should be assigned to the training set, and the third argument (list) specifies the</span></div>
<div style="position:absolute;left:72.02px;top:395.40px" class="cls_004"><span class="cls_004">format of the results that are returned. This argument can be either </span><span class="cls_010">TRUE</span><span class="cls_004"> or </span><span class="cls_010">FALSE</span><span class="cls_004">. If it is</span></div>
<div style="position:absolute;left:72.02px;top:409.56px" class="cls_010"><span class="cls_010">TRUE</span><span class="cls_004">, then the results of the function are returned as a list (single row), but if it is </span><span class="cls_010">FALSE</span><span class="cls_004">,</span></div>
<div style="position:absolute;left:72.02px;top:423.74px" class="cls_004"><span class="cls_004">then the results are returned as a matrix (several rows). Note that we use the </span><span class="cls_010">set.seed()</span></div>
<div style="position:absolute;left:72.02px;top:437.90px" class="cls_004"><span class="cls_004">function here again. By setting the seed value, we ensure that we get the same data</span></div>
<div style="position:absolute;left:72.02px;top:451.82px" class="cls_004"><span class="cls_004">partitions every time we run the code.</span></div>
<div style="position:absolute;left:72.02px;top:473.66px" class="cls_015"><span class="cls_015"># Create a vector of indices which is an 80% random sample</span></div>
<div style="position:absolute;left:72.02px;top:486.62px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:499.61px" class="cls_010"><span class="cls_010">index </span><span class="cls_013">&lt;-</span><span class="cls_010"> createDataPartition(satisfy_all$turnover, </span><span class="cls_014">p =</span><span class="cls_010"> </span><span class="cls_016">0.8</span><span class="cls_010">, </span><span class="cls_014">list =</span><span class="cls_010"> FALSE)</span></div>
<div style="position:absolute;left:72.02px;top:526.49px" class="cls_010"><span class="cls_010">satisfy_train </span><span class="cls_013">&lt;-</span><span class="cls_010"> satisfy_all[index, ]</span></div>
<div style="position:absolute;left:72.02px;top:539.21px" class="cls_010"><span class="cls_010">prop.table(table(satisfy_train$turnover))</span></div>
<div style="position:absolute;left:72.02px;top:562.25px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:576.19px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:126.21px;top:576.19px" class="cls_010"><span class="cls_010">Yes</span></div>
<div style="position:absolute;left:192.61px;top:575.23px" class="cls_010"><span class="cls_010">No</span></div>
<div style="position:absolute;left:72.02px;top:587.95px" class="cls_010"><span class="cls_010">## 0.2610701 0.7389299</span></div>
<div style="position:absolute;left:72.02px;top:610.99px" class="cls_010"><span class="cls_010">satisfy_test </span><span class="cls_013">&lt;-</span><span class="cls_010"> satisfy_all[-index, ]</span></div>
<div style="position:absolute;left:72.02px;top:623.71px" class="cls_010"><span class="cls_010">prop.table(table(satisfy_test$turnover))</span></div>
<div style="position:absolute;left:72.02px;top:646.78px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:660.46px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:126.21px;top:660.46px" class="cls_010"><span class="cls_010">Yes</span></div>
<div style="position:absolute;left:192.61px;top:659.50px" class="cls_010"><span class="cls_010">No</span></div>
<div style="position:absolute;left:72.02px;top:672.22px" class="cls_010"><span class="cls_010">## 0.2607291 0.7392709</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:27268px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background35.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_007"><span class="cls_007">3.6 Dealing with Class Imbalance</span></div>
<div style="position:absolute;left:72.02px;top:110.69px" class="cls_004"><span class="cls_004">Class imbalance is a common problem when working with real-world data. It degrades the</span></div>
<div style="position:absolute;left:72.02px;top:124.61px" class="cls_004"><span class="cls_004">performance of a machine learning model because it biases the model toward the majority</span></div>
<div style="position:absolute;left:72.02px;top:138.77px" class="cls_004"><span class="cls_004">class at the expense of the minority class. Before we build a model, we need to address this</span></div>
<div style="position:absolute;left:72.02px;top:152.93px" class="cls_004"><span class="cls_004">problem. There are several approaches to solving class imbalance problems; one of them is</span></div>
<div style="position:absolute;left:72.02px;top:166.85px" class="cls_004"><span class="cls_004">by using a synthetic minority oversampling technique (SMOTE).</span></div>
<div style="position:absolute;left:72.02px;top:189.91px" class="cls_004"><span class="cls_004">This technique works by creating new synthetic samples from the minority class to resolve</span></div>
<div style="position:absolute;left:72.02px;top:203.83px" class="cls_004"><span class="cls_004">the imbalance. In R, the </span><span class="cls_011">DMwR</span><span class="cls_004"> package provides us with a function called </span><span class="cls_010">SMOTE()</span><span class="cls_004">, which</span></div>
<div style="position:absolute;left:72.02px;top:217.99px" class="cls_004"><span class="cls_004">we can use to balance our training data. The </span><span class="cls_010">SMOTE()</span><span class="cls_004"> function accepts arguments that</span></div>
<div style="position:absolute;left:72.02px;top:232.39px" class="cls_004"><span class="cls_004">describe the formula for the prediction problem, the data frame containing the original</span></div>
<div style="position:absolute;left:72.02px;top:246.55px" class="cls_004"><span class="cls_004">imbalanced data, a specification of how many extra cases from the minority class are to be</span></div>
<div style="position:absolute;left:72.02px;top:260.50px" class="cls_004"><span class="cls_004">generated (</span><span class="cls_010">perc.over</span><span class="cls_004">), and a specification for how many extra cases from the majority</span></div>
<div style="position:absolute;left:72.02px;top:274.66px" class="cls_004"><span class="cls_004">class should be selected for each case generated from the minority class (</span><span class="cls_010">perc.under</span><span class="cls_004">). The</span></div>
<div style="position:absolute;left:72.02px;top:288.82px" class="cls_004"><span class="cls_004">output of the function is a data frame of the balanced data.</span></div>
<div style="position:absolute;left:72.02px;top:310.42px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:323.38px" class="cls_010"><span class="cls_010">satisfy_train </span><span class="cls_013">&lt;-</span><span class="cls_010"> SMOTE(turnover ~ ., data.frame(satisfy_train),</span></div>
<div style="position:absolute;left:204.79px;top:336.10px" class="cls_014"><span class="cls_014">perc.over =</span><span class="cls_010"> </span><span class="cls_016">100</span><span class="cls_010">, </span><span class="cls_014">perc.under =</span><span class="cls_010"> </span><span class="cls_016">200</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:360.36px" class="cls_007"><span class="cls_007">3.7 Resampling methods to estimate model accuracy</span></div>
<div style="position:absolute;left:72.02px;top:386.76px" class="cls_004"><span class="cls_004">When you are building a predictive model, you need to evaluate the capability of the model</span></div>
<div style="position:absolute;left:72.02px;top:400.68px" class="cls_004"><span class="cls_004">on unseen data. This is typically done by estimating accuracy using data that was not used</span></div>
<div style="position:absolute;left:72.02px;top:414.86px" class="cls_004"><span class="cls_004">to train the model. The caret package in R provides a number of methods to estimate the</span></div>
<div style="position:absolute;left:72.02px;top:429.02px" class="cls_004"><span class="cls_004">accuracy of a machine learning algorithm. In this section you will discover 5 approaches for</span></div>
<div style="position:absolute;left:72.02px;top:442.94px" class="cls_004"><span class="cls_004">estimating model performance on unseen data.</span></div>
<div style="position:absolute;left:72.02px;top:467.18px" class="cls_017"><span class="cls_017">3.7.1 Estimating model accuracy</span></div>
<div style="position:absolute;left:72.02px;top:490.70px" class="cls_004"><span class="cls_004">When working on a project you often only have a limited set of data and you need to choose</span></div>
<div style="position:absolute;left:72.02px;top:504.89px" class="cls_004"><span class="cls_004">carefully how you use it. Predictive models required data on which to train. You also need a</span></div>
<div style="position:absolute;left:72.02px;top:518.81px" class="cls_004"><span class="cls_004">dataset that the model has not seen during training on which it can make predictions. The</span></div>
<div style="position:absolute;left:72.02px;top:532.97px" class="cls_004"><span class="cls_004">accuracy of the model predictions on data unseen during training can be used as an</span></div>
<div style="position:absolute;left:72.02px;top:546.89px" class="cls_004"><span class="cls_004">estimate for the accuracy of the model on unseen data in general.</span></div>
<div style="position:absolute;left:72.02px;top:570.19px" class="cls_004"><span class="cls_004">You cannot estimate the accuracy of the model on the data used to train it. An ideal model</span></div>
<div style="position:absolute;left:72.02px;top:584.11px" class="cls_004"><span class="cls_004">could just remember all of the training instances and make perfect predictions. You must</span></div>
<div style="position:absolute;left:72.02px;top:598.03px" class="cls_004"><span class="cls_004">hold data aside primarily for the purposes of model evaluation.</span></div>
<div style="position:absolute;left:72.02px;top:621.31px" class="cls_004"><span class="cls_004">There are methods that you can use if you have a lot of data and do not need to be careful</span></div>
<div style="position:absolute;left:72.02px;top:635.47px" class="cls_004"><span class="cls_004">about how it is spent during training. More commonly your dataset has a fixed size and you</span></div>
<div style="position:absolute;left:72.02px;top:649.42px" class="cls_004"><span class="cls_004">need to use statistical techniques that make good use of a limited size dataset. These</span></div>
<div style="position:absolute;left:72.02px;top:663.58px" class="cls_004"><span class="cls_004">statistical methods are often called resampling methods as they take multiple samples or</span></div>
<div style="position:absolute;left:72.02px;top:677.50px" class="cls_004"><span class="cls_004">make multiple splits of your dataset into portions that you can use for model training and</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:28070px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background36.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.50px" class="cls_004"><span class="cls_004">model testing. In the following sections you are going to discover how to use five different</span></div>
<div style="position:absolute;left:72.02px;top:98.42px" class="cls_004"><span class="cls_004">resampling methods that you can use to evaluate the accuracy of your data in R.</span></div>
<div style="position:absolute;left:72.02px;top:122.69px" class="cls_017"><span class="cls_017">3.7.2 k-fold cross validation</span></div>
<div style="position:absolute;left:72.02px;top:146.21px" class="cls_004"><span class="cls_004">Of all the approaches to cross-validation, the most commonly used is k-fold cross-</span></div>
<div style="position:absolute;left:72.02px;top:160.37px" class="cls_004"><span class="cls_004">validation. In this approach, after the test data has been sequestered, the remaining data is</span></div>
<div style="position:absolute;left:72.02px;top:174.53px" class="cls_004"><span class="cls_004">divided into k completely separate random partitions of approximately equal size. These</span></div>
<div style="position:absolute;left:72.02px;top:188.47px" class="cls_004"><span class="cls_004">partitions are known as folds. The folds represent the data that will be used to validate the</span></div>
<div style="position:absolute;left:72.02px;top:202.63px" class="cls_004"><span class="cls_004">model during each of the k iterations of the repeated holdout. Although k can be set to any</span></div>
<div style="position:absolute;left:72.02px;top:216.55px" class="cls_004"><span class="cls_004">value, in practice, k is often set to either 5 or 10.</span></div>
<div style="position:absolute;left:72.02px;top:238.39px" class="cls_010"><span class="cls_010">ctrl_cv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"cv"</span><span class="cls_010">, </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:251.11px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:264.10px" class="cls_010"><span class="cls_010">model_rpart_cv </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(turnover ~ .,</span></div>
<div style="position:absolute;left:235.06px;top:277.06px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:235.06px;top:289.78px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:302.74px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:315.46px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_cv)</span></div>
<div style="position:absolute;left:72.02px;top:339.96px" class="cls_017"><span class="cls_017">3.7.3 repeated k-fold cross validation</span></div>
<div style="position:absolute;left:72.02px;top:363.48px" class="cls_004"><span class="cls_004">Repeated k-fold is the most preferred cross-validation technique for both classification and</span></div>
<div style="position:absolute;left:72.02px;top:377.64px" class="cls_004"><span class="cls_004">regression machine learning models. Shuffling and random sampling of the data set</span></div>
<div style="position:absolute;left:72.02px;top:391.80px" class="cls_004"><span class="cls_004">multiple times is the core procedure of repeated k-fold algorithm and it results in making a</span></div>
<div style="position:absolute;left:72.02px;top:405.72px" class="cls_004"><span class="cls_004">robust model as it covers the maximum training and testing operations. The working of this</span></div>
<div style="position:absolute;left:72.02px;top:419.90px" class="cls_004"><span class="cls_004">cross-validation technique to evaluate the accuracy of a machine learning model depends</span></div>
<div style="position:absolute;left:72.02px;top:434.06px" class="cls_004"><span class="cls_004">upon 2 parameters. The first parameter is k which is an integer value and it states that the</span></div>
<div style="position:absolute;left:72.02px;top:447.98px" class="cls_004"><span class="cls_004">given dataset will be split into K folds(or subsets). Among the k folds, the model is trained</span></div>
<div style="position:absolute;left:72.02px;top:462.14px" class="cls_004"><span class="cls_004">on the k-1 subsets and the remaining subset will be used to evaluate the model’s</span></div>
<div style="position:absolute;left:72.02px;top:476.06px" class="cls_004"><span class="cls_004">performance. These steps will be repeated up to a certain number of times which will be</span></div>
<div style="position:absolute;left:72.02px;top:490.22px" class="cls_004"><span class="cls_004">decided by the second parameter of this algorithm and thus it got its name as Repeated k-</span></div>
<div style="position:absolute;left:72.02px;top:504.17px" class="cls_004"><span class="cls_004">fold i.e., the k-fold cross-validation algorithm is repeated a certain number of times.</span></div>
<div style="position:absolute;left:72.02px;top:526.01px" class="cls_010"><span class="cls_010">ctrl_repeatedcv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"repeatedcv"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:265.30px;top:538.97px" class="cls_014"><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">10</span><span class="cls_010">, </span><span class="cls_014">repeats =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:551.69px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:564.65px" class="cls_010"><span class="cls_010">model_rpart_repeatedcv </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(turnover ~ .,</span></div>
<div style="position:absolute;left:217.06px;top:577.63px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:217.06px;top:590.35px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:217.06px;top:603.31px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:217.06px;top:616.03px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_repeatedcv)</span></div>
<div style="position:absolute;left:72.02px;top:640.51px" class="cls_017"><span class="cls_017">3.7.4 leave one out cross validation</span></div>
<div style="position:absolute;left:72.02px;top:664.06px" class="cls_004"><span class="cls_004">Another common approach to cross-validation is the leave-one-out cross-validation</span></div>
<div style="position:absolute;left:72.02px;top:678.22px" class="cls_004"><span class="cls_004">method (LOOCV). The approach is essentially k-fold cross-validation with k set to n (the</span></div>
<div style="position:absolute;left:72.02px;top:692.38px" class="cls_004"><span class="cls_004">number of instances in the dataset). In the LOOCV approach, during the first iteration, the</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:28872px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background37.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.50px" class="cls_004"><span class="cls_004">first instance is held out for validation while the rest of the data is used to train the model.</span></div>
<div style="position:absolute;left:72.02px;top:98.66px" class="cls_004"><span class="cls_004">Then the performance of the model is evaluated against the single instance that was held</span></div>
<div style="position:absolute;left:72.02px;top:112.61px" class="cls_004"><span class="cls_004">out. This process is repeated n-1 additional times until all the instances in the dataset have</span></div>
<div style="position:absolute;left:72.02px;top:126.77px" class="cls_004"><span class="cls_004">been used once for validation. After the last iteration, we end up with n estimates of the</span></div>
<div style="position:absolute;left:72.02px;top:140.69px" class="cls_004"><span class="cls_004">model’s performance from each of the iterations. The average of these estimates is used as</span></div>
<div style="position:absolute;left:72.02px;top:154.61px" class="cls_004"><span class="cls_004">the LOOCV estimate of model performance.</span></div>
<div style="position:absolute;left:72.02px;top:176.45px" class="cls_010"><span class="cls_010">ctrl_loocv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"LOOCV"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:189.43px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:202.39px" class="cls_010"><span class="cls_010">model_rpart_loocv </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(turnover ~ .,</span></div>
<div style="position:absolute;left:235.06px;top:215.11px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:235.06px;top:228.07px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:241.03px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:253.75px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_loocv)</span></div>
<div style="position:absolute;left:72.02px;top:278.26px" class="cls_017"><span class="cls_017">3.7.5 leave group out cross validation</span></div>
<div style="position:absolute;left:72.02px;top:301.78px" class="cls_004"><span class="cls_004">This approach is similar to k-fold cross-validation but with one notable difference. In this</span></div>
<div style="position:absolute;left:72.02px;top:315.94px" class="cls_004"><span class="cls_004">approach, instead of creating a set number of folds (validation sets) at the beginning of the</span></div>
<div style="position:absolute;left:72.02px;top:329.86px" class="cls_004"><span class="cls_004">process, as we do in k-fold cross-validation, the random sample that makes up the</span></div>
<div style="position:absolute;left:72.02px;top:344.04px" class="cls_004"><span class="cls_004">validation set is created during each iteration During the first iteration, a random sampling</span></div>
<div style="position:absolute;left:72.02px;top:358.20px" class="cls_004"><span class="cls_004">without replacement approach is used to create the validation set. This dataset is held out</span></div>
<div style="position:absolute;left:72.02px;top:372.12px" class="cls_004"><span class="cls_004">for validation, and the remainder of the data is used to train the model. In the second</span></div>
<div style="position:absolute;left:72.02px;top:386.28px" class="cls_004"><span class="cls_004">iteration, a new independent validation set is randomly selected. Because of the random</span></div>
<div style="position:absolute;left:72.02px;top:400.20px" class="cls_004"><span class="cls_004">nature of the sampling approach, it is possible and likely that some of the instances selected</span></div>
<div style="position:absolute;left:72.02px;top:414.38px" class="cls_004"><span class="cls_004">as part of this new validation set were also selected as part of the validation set in the</span></div>
<div style="position:absolute;left:72.02px;top:428.30px" class="cls_004"><span class="cls_004">previous iteration.</span></div>
<div style="position:absolute;left:72.02px;top:450.14px" class="cls_010"><span class="cls_010">ctrl_lgocv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"LGOCV"</span><span class="cls_010">, </span><span class="cls_014">p =</span><span class="cls_010"> .</span><span class="cls_016">1</span><span class="cls_010">, </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">10</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:462.86px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:475.82px" class="cls_010"><span class="cls_010">model_rpart_lgocv </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(turnover ~ .,</span></div>
<div style="position:absolute;left:235.06px;top:488.78px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:235.06px;top:501.53px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:514.49px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:527.21px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_lgocv)</span></div>
<div style="position:absolute;left:72.02px;top:551.69px" class="cls_017"><span class="cls_017">3.7.6 bootstrap</span></div>
<div style="position:absolute;left:72.02px;top:575.23px" class="cls_004"><span class="cls_004">The basic idea behind bootstrap sampling is to create a training dataset from the original</span></div>
<div style="position:absolute;left:72.02px;top:589.39px" class="cls_004"><span class="cls_004">data using a random sampling with replacement approach. A version of this technique,</span></div>
<div style="position:absolute;left:72.02px;top:603.55px" class="cls_004"><span class="cls_004">known as the 0.632 bootstrap, involves random sampling a dataset with n instances, n</span></div>
<div style="position:absolute;left:72.02px;top:617.47px" class="cls_004"><span class="cls_004">different times with replacement, to create another dataset also with n instances. This new</span></div>
<div style="position:absolute;left:72.02px;top:631.63px" class="cls_004"><span class="cls_004">dataset is used for training, while the instances from the original data, which were not</span></div>
<div style="position:absolute;left:72.02px;top:645.55px" class="cls_004"><span class="cls_004">selected as part of the training data, are used for validation.</span></div>
<div style="position:absolute;left:72.02px;top:667.42px" class="cls_010"><span class="cls_010">ctrl_boot </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"boot632"</span><span class="cls_010">, </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:680.38px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:693.10px" class="cls_010"><span class="cls_010">model_rpart_boot </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(turnover ~ .,</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:29674px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background38.jpg" width=612 height=792></div>
<div style="position:absolute;left:235.06px;top:83.06px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:235.06px;top:96.02px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:108.77px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:121.49px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_boot)</span></div>
<div style="position:absolute;left:72.02px;top:145.97px" class="cls_007"><span class="cls_007">3.8 Spot-Check Machine Learning Algorithms</span></div>
<div style="position:absolute;left:72.02px;top:172.13px" class="cls_004"><span class="cls_004">What algorithm should you use on your dataset? This is the most common question in</span></div>
<div style="position:absolute;left:72.02px;top:186.31px" class="cls_004"><span class="cls_004">applied machine learning. It’s a question that can only be answered by trial and error, or</span></div>
<div style="position:absolute;left:72.02px;top:200.23px" class="cls_004"><span class="cls_004">what I call: spot-checking algorithms. In this session you will discover how to spot-check</span></div>
<div style="position:absolute;left:72.02px;top:214.15px" class="cls_004"><span class="cls_004">algorithms on a dataset using R.</span></div>
<div style="position:absolute;left:72.02px;top:238.39px" class="cls_017"><span class="cls_017">3.8.1 CART Algorithm</span></div>
<div style="position:absolute;left:72.02px;top:262.18px" class="cls_004"><span class="cls_004">The CART algorithm is implemented in R as part of the rpart package. This package</span></div>
<div style="position:absolute;left:72.02px;top:276.10px" class="cls_004"><span class="cls_004">provides a similarly named function </span><span class="cls_010">rpart()</span><span class="cls_004">, which provides an implementation of CART</span></div>
<div style="position:absolute;left:72.02px;top:290.26px" class="cls_004"><span class="cls_004">(Classification And Regression Trees) for classification and regression. This function takes</span></div>
<div style="position:absolute;left:72.02px;top:304.18px" class="cls_004"><span class="cls_004">three primary arguments. The first is the prediction formula, which we specify as </span><span class="cls_010">employ ~</span></div>
<div style="position:absolute;left:72.02px;top:318.34px" class="cls_010"><span class="cls_010">.</span><span class="cls_004"> to mean that our model should use all the other variables in the dataset as predictors for</span></div>
<div style="position:absolute;left:72.02px;top:332.50px" class="cls_004"><span class="cls_004">the </span><span class="cls_010">employ</span><span class="cls_004"> variable. The second argument is the method, which we specify as </span><span class="cls_010">class</span><span class="cls_004">. This</span></div>
<div style="position:absolute;left:72.02px;top:346.92px" class="cls_004"><span class="cls_004">means that we are building a classification tree. The final argument is the training dataset</span></div>
<div style="position:absolute;left:72.02px;top:360.84px" class="cls_004"><span class="cls_004">that will be used to build the model.</span></div>
<div style="position:absolute;left:72.02px;top:382.68px" class="cls_015"><span class="cls_015"># Building a CART model</span></div>
<div style="position:absolute;left:72.02px;top:395.40px" class="cls_010"><span class="cls_010">model_rpart </span><span class="cls_013">&lt;-</span><span class="cls_010"> rpart(turnover ~ .,</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"class"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:198.79px;top:408.36px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:198.79px;top:421.34px" class="cls_014"><span class="cls_014">control =</span><span class="cls_010"> rpart.control(</span><span class="cls_014">maxdepth =</span><span class="cls_010"> </span><span class="cls_016">7</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:332.06px;top:434.06px" class="cls_014"><span class="cls_014">cp =</span><span class="cls_010"> </span><span class="cls_016">0.005</span><span class="cls_010">))</span></div>
<div style="position:absolute;left:72.02px;top:458.54px" class="cls_004"><span class="cls_004">Now that we’ve trained our decision tree model, let’s visualize it. To do so, we use the</span></div>
<div style="position:absolute;left:72.02px;top:472.46px" class="cls_010"><span class="cls_010">rpart.plot()</span><span class="cls_004"> function from the similarly named rpart.plot package.</span></div>
<div style="position:absolute;left:72.02px;top:494.33px" class="cls_015"><span class="cls_015"># Plot the model</span></div>
<div style="position:absolute;left:72.02px;top:507.05px" class="cls_010"><span class="cls_010">rpart.plot(</span><span class="cls_014">x =</span><span class="cls_010"> model_rpart, </span><span class="cls_014">yesno =</span><span class="cls_010"> </span><span class="cls_016">2</span><span class="cls_010">, </span><span class="cls_014">type =</span><span class="cls_010"> </span><span class="cls_016">0</span><span class="cls_010">, </span><span class="cls_014">extra =</span><span class="cls_010"> </span><span class="cls_016">0</span><span class="cls_010">)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:30476px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background39.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:385.56px" class="cls_017"><span class="cls_017">3.8.2 Bagging Algorithm</span></div>
<div style="position:absolute;left:72.02px;top:409.32px" class="cls_004"><span class="cls_004">One of the most common ensemble learning approaches is known as bagging, which stands</span></div>
<div style="position:absolute;left:72.02px;top:423.26px" class="cls_004"><span class="cls_004">for bootstrap aggregating. The name comes from the fact that bagging ensembles use a</span></div>
<div style="position:absolute;left:72.02px;top:437.42px" class="cls_004"><span class="cls_004">bootstrap sampling approach for the allocation function, which is used to generate the data</span></div>
<div style="position:absolute;left:72.02px;top:451.58px" class="cls_004"><span class="cls_004">assigned to each model in the ensemble. Bagging ensembles are typically made up of</span></div>
<div style="position:absolute;left:72.02px;top:465.50px" class="cls_004"><span class="cls_004">homogenous learners, which are trained independently and in parallel.</span></div>
<div style="position:absolute;left:72.02px;top:488.54px" class="cls_004"><span class="cls_004">Let’s start by training a bagged tree model. You’ll be using the </span><span class="cls_010">bagging()</span><span class="cls_004"> function from the</span></div>
<div style="position:absolute;left:72.02px;top:502.73px" class="cls_010"><span class="cls_010">ipred</span><span class="cls_004"> package. The number of bagged trees can be specified using the nbagg parameter,</span></div>
<div style="position:absolute;left:72.02px;top:516.89px" class="cls_004"><span class="cls_004">but here we will use the default (25).</span></div>
<div style="position:absolute;left:72.02px;top:539.93px" class="cls_004"><span class="cls_004">If we want to estimate the model’s accuracy using the “out-of-bag” (OOB) samples, we can</span></div>
<div style="position:absolute;left:72.02px;top:553.85px" class="cls_004"><span class="cls_004">set the the </span><span class="cls_010">coob</span><span class="cls_004"> parameter to TRUE. The OOB samples are the training obsevations that</span></div>
<div style="position:absolute;left:72.02px;top:568.25px" class="cls_004"><span class="cls_004">were not selected into the bootstrapped sample (used in training). Since these observations</span></div>
<div style="position:absolute;left:72.02px;top:582.43px" class="cls_004"><span class="cls_004">were not used in training, we can use them instead to evaluate the accuracy of the model</span></div>
<div style="position:absolute;left:72.02px;top:596.35px" class="cls_004"><span class="cls_004">(done automatically inside the </span><span class="cls_010">bagging()</span><span class="cls_004"> function).</span></div>
<div style="position:absolute;left:72.02px;top:619.15px" class="cls_015"><span class="cls_015"># Bagging is a randomized model, so let's set a seed (123) for reproducibilit</span></div>
<div style="position:absolute;left:72.02px;top:631.15px" class="cls_015"><span class="cls_015">y</span></div>
<div style="position:absolute;left:72.02px;top:643.87px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">123</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:656.86px" class="cls_015"><span class="cls_015"># Building a bagged model</span></div>
<div style="position:absolute;left:72.02px;top:669.82px" class="cls_010"><span class="cls_010">model_bagging </span><span class="cls_013">&lt;-</span><span class="cls_010"> bagging(</span><span class="cls_014">formula =</span><span class="cls_010"> turnover ~ .,</span></div>
<div style="position:absolute;left:223.06px;top:682.54px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:223.06px;top:695.26px" class="cls_014"><span class="cls_014">coob =</span><span class="cls_010"> TRUE)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:31278px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background40.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.50px" class="cls_017"><span class="cls_017">3.8.3 randomforest Algorithm</span></div>
<div style="position:absolute;left:72.02px;top:108.05px" class="cls_004"><span class="cls_004">One of the most popular bagging ensemble methods is the random forests or decision tree</span></div>
<div style="position:absolute;left:72.02px;top:122.21px" class="cls_004"><span class="cls_004">forests ensemble technique. It gets its name from the fact that the ensemble consists of a</span></div>
<div style="position:absolute;left:72.02px;top:136.37px" class="cls_004"><span class="cls_004">large number of decision tree learners (which are collectively called a forest) and that its</span></div>
<div style="position:absolute;left:72.02px;top:150.29px" class="cls_004"><span class="cls_004">allocation function combines both bootstrap sampling and random feature selection to</span></div>
<div style="position:absolute;left:72.02px;top:164.45px" class="cls_004"><span class="cls_004">generate the data assigned to each learner in the ensemble. By using only a random subset</span></div>
<div style="position:absolute;left:72.02px;top:178.61px" class="cls_004"><span class="cls_004">of the full feature set, random forests are able to handle very wide datasets (datasets with a</span></div>
<div style="position:absolute;left:72.02px;top:192.55px" class="cls_004"><span class="cls_004">large number of features). To illustrate the random forests ensemble technique in R, we use</span></div>
<div style="position:absolute;left:72.02px;top:206.47px" class="cls_004"><span class="cls_004">the </span><span class="cls_010">rf</span><span class="cls_004"> method in caret, which depends on the aptly named randomForest package. Using</span></div>
<div style="position:absolute;left:72.02px;top:220.63px" class="cls_004"><span class="cls_004">the </span><span class="cls_010">modelLookup()</span><span class="cls_004"> command for the </span><span class="cls_010">rf</span><span class="cls_004"> method reveals that it has only one tunable</span></div>
<div style="position:absolute;left:72.02px;top:234.79px" class="cls_004"><span class="cls_004">parameter: </span><span class="cls_010">mtry</span><span class="cls_004">. This is the number of randomly selected features to consider at each split</span></div>
<div style="position:absolute;left:72.02px;top:248.95px" class="cls_004"><span class="cls_004">(more on this shortly).</span></div>
<div style="position:absolute;left:72.02px;top:270.58px" class="cls_010"><span class="cls_010">modelLookup(</span><span class="cls_012">"rf"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:294.58px" class="cls_010"><span class="cls_010">##   model parameter</span></div>
<div style="position:absolute;left:343.71px;top:293.62px" class="cls_010"><span class="cls_010">label forReg forClass probModel</span></div>
<div style="position:absolute;left:72.02px;top:307.30px" class="cls_010"><span class="cls_010">## 1</span></div>
<div style="position:absolute;left:120.21px;top:307.30px" class="cls_010"><span class="cls_010">rf</span></div>
<div style="position:absolute;left:168.40px;top:307.30px" class="cls_010"><span class="cls_010">mtry #Randomly Selected Predictors   TRUE</span></div>
<div style="position:absolute;left:446.25px;top:307.30px" class="cls_010"><span class="cls_010">TRUE</span></div>
<div style="position:absolute;left:506.66px;top:306.34px" class="cls_010"><span class="cls_010">TRUE</span></div>
<div style="position:absolute;left:72.02px;top:330.82px" class="cls_004"><span class="cls_004">Based on the documentation provided by the randomForest package, the default value for</span></div>
<div style="position:absolute;left:72.02px;top:345.00px" class="cls_004"><span class="cls_004">mtry is the square root of the number of features in the dataset when working on a</span></div>
<div style="position:absolute;left:72.02px;top:358.92px" class="cls_004"><span class="cls_004">classification problem.</span></div>
<div style="position:absolute;left:72.02px;top:380.76px" class="cls_015"><span class="cls_015"># Building a Random Forest model</span></div>
<div style="position:absolute;left:72.02px;top:394.44px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">123</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:162.55px;top:393.48px" class="cls_015"><span class="cls_015"># for reproducibility</span></div>
<div style="position:absolute;left:72.02px;top:406.44px" class="cls_010"><span class="cls_010">model_rf </span><span class="cls_013">&lt;-</span><span class="cls_010"> randomForest(</span><span class="cls_014">formula =</span><span class="cls_010"> turnover ~ .,</span></div>
<div style="position:absolute;left:223.06px;top:419.18px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train)</span></div>
<div style="position:absolute;left:72.02px;top:443.66px" class="cls_017"><span class="cls_017">3.8.4 gbm Algorithm</span></div>
<div style="position:absolute;left:72.02px;top:467.18px" class="cls_004"><span class="cls_004">Boosting is a method of converting weak learners into strong learners. In boosting, each</span></div>
<div style="position:absolute;left:72.02px;top:481.34px" class="cls_004"><span class="cls_004">new tree is a fit on a modified version of the original data set. The gradient boosting</span></div>
<div style="position:absolute;left:72.02px;top:495.53px" class="cls_004"><span class="cls_004">algorithm (gbm) can be most easily explained by first introducing the AdaBoost</span></div>
<div style="position:absolute;left:72.02px;top:509.45px" class="cls_004"><span class="cls_004">Algorithm.The AdaBoost Algorithm begins by training a decision tree in which each</span></div>
<div style="position:absolute;left:72.02px;top:523.61px" class="cls_004"><span class="cls_004">observation is assigned an equal weight. After evaluating the first tree, we increase the</span></div>
<div style="position:absolute;left:72.02px;top:537.77px" class="cls_004"><span class="cls_004">weights of those observations that are difficult to classify and lower the weights for those</span></div>
<div style="position:absolute;left:72.02px;top:551.69px" class="cls_004"><span class="cls_004">that are easy to classify. The second tree is therefore grown on this weighted data. Here, the</span></div>
<div style="position:absolute;left:72.02px;top:565.85px" class="cls_004"><span class="cls_004">idea is to improve upon the predictions of the first tree. Our new model is therefore Tree 1</span></div>
<div style="position:absolute;left:72.02px;top:580.03px" class="cls_004"><span class="cls_004">+ Tree 2. We then compute the classification error from this new 2-tree ensemble model</span></div>
<div style="position:absolute;left:72.02px;top:593.95px" class="cls_004"><span class="cls_004">and grow a third tree to predict the revised residuals. We repeat this process for a specified</span></div>
<div style="position:absolute;left:72.02px;top:608.11px" class="cls_004"><span class="cls_004">number of iterations. Subsequent trees help us to classify observations that are not well</span></div>
<div style="position:absolute;left:72.02px;top:622.03px" class="cls_004"><span class="cls_004">classified by the previous trees. Predictions of the final ensemble model is therefore the</span></div>
<div style="position:absolute;left:72.02px;top:635.95px" class="cls_004"><span class="cls_004">weighted sum of the predictions made by the previous tree models. In order to train a </span><span class="cls_010">gbm</span></div>
<div style="position:absolute;left:72.02px;top:650.38px" class="cls_004"><span class="cls_004">model in R, you will first have to install and call the gbm library. The gbm function requires</span></div>
<div style="position:absolute;left:72.02px;top:664.54px" class="cls_004"><span class="cls_004">you to specify certain arguments. You will begin by specifying the formula. This will include</span></div>
<div style="position:absolute;left:72.02px;top:678.46px" class="cls_004"><span class="cls_004">your response and predictor variables. Next, you will specify the distribution of your</span></div>
<div style="position:absolute;left:72.02px;top:692.62px" class="cls_004"><span class="cls_004">response variable. If nothing is specified, then gbm will try to guess. Some commonly used</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:32080px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background41.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_004"><span class="cls_004">distributions include- “</span><span class="cls_010">bernoulli</span><span class="cls_004">” (logistic regression for 0-1 outcome), “</span><span class="cls_010">gaussian</span><span class="cls_004">”</span></div>
<div style="position:absolute;left:72.02px;top:98.42px" class="cls_004"><span class="cls_004">(squared errors), “</span><span class="cls_010">tdist</span><span class="cls_004">”(t-distribution loss), and “</span><span class="cls_010">poisson</span><span class="cls_004">” (count outcomes). Finally, we</span></div>
<div style="position:absolute;left:72.02px;top:112.85px" class="cls_004"><span class="cls_004">will specify the data and the n.trees argument (after all gbm is an ensemble of trees!) By</span></div>
<div style="position:absolute;left:72.02px;top:127.01px" class="cls_004"><span class="cls_004">default, the gbm model will assume 100 trees, which can provide is a good estimate of our</span></div>
<div style="position:absolute;left:72.02px;top:140.93px" class="cls_004"><span class="cls_004">gbm’s performance.</span></div>
<div style="position:absolute;left:72.02px;top:162.53px" class="cls_015"><span class="cls_015"># Building a 10000-tree GBM model</span></div>
<div style="position:absolute;left:72.02px;top:175.49px" class="cls_015"><span class="cls_015"># Convert "yes" to 1, "no" to 0</span></div>
<div style="position:absolute;left:72.02px;top:188.47px" class="cls_010"><span class="cls_010">gbm_train </span><span class="cls_013">&lt;-</span><span class="cls_010"> satisfy_train</span></div>
<div style="position:absolute;left:72.02px;top:201.19px" class="cls_010"><span class="cls_010">gbm_train$turnover </span><span class="cls_013">&lt;-</span><span class="cls_010"> ifelse(gbm_train$turnover == </span><span class="cls_012">"Yes"</span><span class="cls_010">, </span><span class="cls_016">1</span><span class="cls_010">, </span><span class="cls_016">0</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:228.31px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">123</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:241.03px" class="cls_010"><span class="cls_010">model_gbm </span><span class="cls_013">&lt;-</span><span class="cls_010"> gbm(</span><span class="cls_014">formula =</span><span class="cls_010"> turnover ~ .,</span></div>
<div style="position:absolute;left:174.79px;top:253.99px" class="cls_014"><span class="cls_014">distribution =</span><span class="cls_010"> </span><span class="cls_012">"bernoulli"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:174.79px;top:266.98px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> gbm_train,</span></div>
<div style="position:absolute;left:174.79px;top:279.70px" class="cls_014"><span class="cls_014">n.trees =</span><span class="cls_010"> </span><span class="cls_016">10000</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:304.18px" class="cls_017"><span class="cls_017">3.8.5 logistic model</span></div>
<div style="position:absolute;left:72.02px;top:327.70px" class="cls_004"><span class="cls_004">you used the </span><span class="cls_010">glm()</span><span class="cls_004"> function to build a logistic regression model. As with many of R’s</span></div>
<div style="position:absolute;left:72.02px;top:341.88px" class="cls_004"><span class="cls_004">machine learning methods, you can apply the </span><span class="cls_010">predict()</span><span class="cls_004"> function to the model object to</span></div>
<div style="position:absolute;left:72.02px;top:356.04px" class="cls_004"><span class="cls_004">forecast future behavior. By default, </span><span class="cls_010">predict()</span><span class="cls_004"> outputs predictions in terms of log odds</span></div>
<div style="position:absolute;left:72.02px;top:370.20px" class="cls_004"><span class="cls_004">unless </span><span class="cls_010">type = "response"</span><span class="cls_004"> is specified. This converts the log odds to probabilities.</span></div>
<div style="position:absolute;left:72.02px;top:392.04px" class="cls_010"><span class="cls_010">model_logistic </span><span class="cls_013">&lt;-</span><span class="cls_010"> glm(turnover ~. ,</span><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:204.79px;top:404.76px" class="cls_014"><span class="cls_014">family=</span><span class="cls_012">"binomial"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:429.02px" class="cls_007"><span class="cls_007">3.9 Model Evaluation Metrics</span></div>
<div style="position:absolute;left:72.02px;top:455.18px" class="cls_004"><span class="cls_004">What metrics can you use to evaluate your machine learning algorithms? In this lesson you</span></div>
<div style="position:absolute;left:72.02px;top:469.34px" class="cls_004"><span class="cls_004">will discover how you can evaluate your machine learning algorithms in R using a number</span></div>
<div style="position:absolute;left:72.02px;top:483.26px" class="cls_004"><span class="cls_004">of standard evaluation metrics. After completing this lesson you will know:</span></div>
<div style="position:absolute;left:72.02px;top:506.33px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:506.33px" class="cls_004"><span class="cls_004">How to use Accuracy and Kappa to evaluate model skill on classification problems.</span></div>
<div style="position:absolute;left:72.02px;top:522.41px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:522.41px" class="cls_004"><span class="cls_004">How to use Area Under ROC Curve, sensitivity and specificity to evaluate model skill</span></div>
<div style="position:absolute;left:96.05px;top:536.33px" class="cls_004"><span class="cls_004">on binary classification problems.</span></div>
<div style="position:absolute;left:72.02px;top:560.57px" class="cls_017"><span class="cls_017">3.9.1 Accuracy and Kappa</span></div>
<div style="position:absolute;left:72.02px;top:584.11px" class="cls_004"><span class="cls_004">Accuracy and Kappa are the default metrics used to evaluate algorithms on binary and</span></div>
<div style="position:absolute;left:72.02px;top:598.27px" class="cls_004"><span class="cls_004">multiclass classification datasets in caret. Accuracy is the percentage of correctly classified</span></div>
<div style="position:absolute;left:72.02px;top:612.43px" class="cls_004"><span class="cls_004">instances out of all instances. It is more useful on a binary classification than multi-class</span></div>
<div style="position:absolute;left:72.02px;top:626.35px" class="cls_004"><span class="cls_004">classification problem because it can be less clear exactly how the accuracy breaks down</span></div>
<div style="position:absolute;left:72.02px;top:640.51px" class="cls_004"><span class="cls_004">across those classes. Kappa or Cohen’s Kappa is like classification accuracy, except that it is</span></div>
<div style="position:absolute;left:72.02px;top:654.46px" class="cls_004"><span class="cls_004">normalized at the baseline of random chance on your dataset. It is a more useful measure</span></div>
<div style="position:absolute;left:72.02px;top:668.62px" class="cls_004"><span class="cls_004">to use on problems that have an imbalance in the classes (e.g. a 70% to 30% split for</span></div>
<div style="position:absolute;left:72.02px;top:682.78px" class="cls_004"><span class="cls_004">classes 0 and 1 and you can achieve 70% accuracy by predicting all instances are for class</span></div>
<div style="position:absolute;left:72.02px;top:696.70px" class="cls_004"><span class="cls_004">0).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:32882px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background42.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_015"><span class="cls_015"># Accuracy and Kappa</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">ctrl_cv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"cv"</span><span class="cls_010">, </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:108.77px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:121.73px" class="cls_010"><span class="cls_010">model_glm_cv_accuracy </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(turnover ~ .,</span></div>
<div style="position:absolute;left:217.06px;top:134.69px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:217.06px;top:147.41px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:217.06px;top:160.37px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"glm"</span><span class="cls_010">, </span><span class="cls_014">family =</span><span class="cls_010"> </span><span class="cls_012">"binomial"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:217.06px;top:173.09px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_cv)</span></div>
<div style="position:absolute;left:72.02px;top:197.59px" class="cls_017"><span class="cls_017">3.9.2 Area Under ROC Curve</span></div>
<div style="position:absolute;left:72.02px;top:221.11px" class="cls_004"><span class="cls_004">ROC metrics are only suitable for binary classification problems (e.g. two classes). To</span></div>
<div style="position:absolute;left:72.02px;top:235.27px" class="cls_004"><span class="cls_004">calculate ROC information, you must change the summaryFunction in your trainControl to</span></div>
<div style="position:absolute;left:72.02px;top:249.43px" class="cls_004"><span class="cls_004">be twoClassSummary. This will calculate the Area Under ROC Curve (AUROC) also called</span></div>
<div style="position:absolute;left:72.02px;top:263.38px" class="cls_004"><span class="cls_004">just Area Under curve (AUC), sensitivity and specificity. ROC is actually the area under the</span></div>
<div style="position:absolute;left:72.02px;top:277.54px" class="cls_004"><span class="cls_004">ROC curve or AUC. The AUC represents a models ability to discriminate between positive</span></div>
<div style="position:absolute;left:72.02px;top:291.70px" class="cls_004"><span class="cls_004">and negative classes. An area of 1.0 represents a model that predicts perfectly. An area of</span></div>
<div style="position:absolute;left:72.02px;top:305.62px" class="cls_004"><span class="cls_004">0.5 represents a model as good as random.</span></div>
<div style="position:absolute;left:72.02px;top:328.66px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:328.66px" class="cls_004"><span class="cls_004">Sensitivity is the true positive rate also called the recall. It is the number of instances</span></div>
<div style="position:absolute;left:96.05px;top:342.60px" class="cls_004"><span class="cls_004">from the positive (first) class that actually predicted correctly.</span></div>
<div style="position:absolute;left:72.02px;top:358.68px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:358.68px" class="cls_004"><span class="cls_004">Specificity is also called the true negative rate. Is the number of instances from the</span></div>
<div style="position:absolute;left:96.05px;top:372.60px" class="cls_004"><span class="cls_004">negative class (second class) that were actually predicted correctly.</span></div>
<div style="position:absolute;left:72.02px;top:395.88px" class="cls_004"><span class="cls_004">ROC can be broken down into sensitivity and specificity. A binary classification problem is</span></div>
<div style="position:absolute;left:72.02px;top:409.80px" class="cls_004"><span class="cls_004">really a trade-off between sensitivity and specificity.</span></div>
<div style="position:absolute;left:72.02px;top:431.66px" class="cls_015"><span class="cls_015"># Area Under ROC Curve</span></div>
<div style="position:absolute;left:72.02px;top:458.54px" class="cls_010"><span class="cls_010">ctrl_cv </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"cv"</span><span class="cls_010">, </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">, </span><span class="cls_014">classProbs =</span><span class="cls_010"> TRUE,</span></div>
<div style="position:absolute;left:217.06px;top:471.50px" class="cls_014"><span class="cls_014">summaryFunction =</span><span class="cls_010"> twoClassSummary)</span></div>
<div style="position:absolute;left:72.02px;top:484.22px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:497.21px" class="cls_010"><span class="cls_010">model_glm_cv_roc </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(turnover ~ .,</span></div>
<div style="position:absolute;left:204.79px;top:510.17px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:204.79px;top:522.89px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:204.79px;top:535.85px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"glm"</span><span class="cls_010">, </span><span class="cls_014">family =</span><span class="cls_010"> </span><span class="cls_012">"binomial"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:204.79px;top:548.57px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_cv)</span></div>
<div style="position:absolute;left:72.02px;top:572.83px" class="cls_007"><span class="cls_007">3.10 The Performance of Machine Learning Algorithms</span></div>
<div style="position:absolute;left:72.02px;top:598.99px" class="cls_004"><span class="cls_004">How do you compare the estimated accuracy of different machine learning algorithms</span></div>
<div style="position:absolute;left:72.02px;top:613.15px" class="cls_004"><span class="cls_004">effectively? In this lesson you will discover techniques that you can use to compare</span></div>
<div style="position:absolute;left:72.02px;top:627.31px" class="cls_004"><span class="cls_004">machine learning algorithms in R. it’s time to compare their out-of-sample predictions and</span></div>
<div style="position:absolute;left:72.02px;top:641.23px" class="cls_004"><span class="cls_004">choose which one is the best model for your dataset. You can compare models in caret</span></div>
<div style="position:absolute;left:72.02px;top:655.18px" class="cls_004"><span class="cls_004">using the </span><span class="cls_010">resamples()</span><span class="cls_004"> function, provided they have the same training data and use the</span></div>
<div style="position:absolute;left:72.02px;top:669.34px" class="cls_004"><span class="cls_004">same </span><span class="cls_010">trainControl</span><span class="cls_004"> object with preset cross-validation folds. </span><span class="cls_010">resamples()</span><span class="cls_004"> takes as input a</span></div>
<div style="position:absolute;left:72.02px;top:683.74px" class="cls_004"><span class="cls_004">list of models and can be used to compare dozens of models at once (though in this case</span></div>
<div style="position:absolute;left:72.02px;top:697.66px" class="cls_004"><span class="cls_004">you are only comparing five models).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:33684px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background43.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_015"><span class="cls_015"># Create custom indices: myFolds</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:108.77px" class="cls_010"><span class="cls_010">myFolds </span><span class="cls_013">&lt;-</span><span class="cls_010"> createFolds(satisfy_train$turnover, </span><span class="cls_014">k =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:135.89px" class="cls_015"><span class="cls_015"># Create reusable trainControl object: myControl</span></div>
<div style="position:absolute;left:72.02px;top:148.61px" class="cls_010"><span class="cls_010">myControl </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span></div>
<div style="position:absolute;left:84.02px;top:161.57px" class="cls_014"><span class="cls_014">summaryFunction =</span><span class="cls_010"> twoClassSummary,</span></div>
<div style="position:absolute;left:84.02px;top:174.53px" class="cls_014"><span class="cls_014">classProbs =</span><span class="cls_010"> TRUE, </span><span class="cls_015"># IMPORTANT!</span></div>
<div style="position:absolute;left:84.02px;top:187.27px" class="cls_014"><span class="cls_014">verboseIter =</span><span class="cls_010"> FALSE,</span></div>
<div style="position:absolute;left:84.02px;top:200.23px" class="cls_014"><span class="cls_014">savePredictions =</span><span class="cls_010"> TRUE,</span></div>
<div style="position:absolute;left:84.02px;top:213.19px" class="cls_014"><span class="cls_014">index =</span><span class="cls_010"> myFolds</span></div>
<div style="position:absolute;left:72.02px;top:225.91px" class="cls_010"><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:253.03px" class="cls_010"><span class="cls_010">model_caret_rpart </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(</span></div>
<div style="position:absolute;left:84.02px;top:265.78px" class="cls_010"><span class="cls_010">turnover ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:278.74px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:84.02px;top:291.70px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:304.42px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"rpart"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:317.38px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> myControl)</span></div>
<div style="position:absolute;left:72.02px;top:344.28px" class="cls_010"><span class="cls_010">model_caret_bagging </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(</span></div>
<div style="position:absolute;left:84.02px;top:357.24px" class="cls_010"><span class="cls_010">turnover ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:370.20px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:84.02px;top:382.92px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:395.88px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"treebag"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:408.84px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> myControl)</span></div>
<div style="position:absolute;left:72.02px;top:435.74px" class="cls_010"><span class="cls_010">model_caret_ranger </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(</span></div>
<div style="position:absolute;left:84.02px;top:448.70px" class="cls_010"><span class="cls_010">turnover ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:461.42px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:84.02px;top:474.38px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:487.34px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"ranger"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:500.09px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> myControl)</span></div>
<div style="position:absolute;left:72.02px;top:526.97px" class="cls_010"><span class="cls_010">model_caret_logistic </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(</span></div>
<div style="position:absolute;left:84.02px;top:539.93px" class="cls_010"><span class="cls_010">turnover ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:552.89px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:84.02px;top:565.61px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:578.59px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"glm"</span><span class="cls_010">, </span><span class="cls_014">family =</span><span class="cls_010"> </span><span class="cls_012">"binomial"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:591.55px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> myControl)</span></div>
<div style="position:absolute;left:72.02px;top:618.43px" class="cls_010"><span class="cls_010">model_caret_gbm </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(</span></div>
<div style="position:absolute;left:84.02px;top:631.39px" class="cls_010"><span class="cls_010">turnover ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:644.11px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:84.02px;top:657.10px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:670.06px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"gbm"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:682.78px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> myControl)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:34486px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background44.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_015"><span class="cls_015"># Create model_list</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">model_list </span><span class="cls_013">&lt;-</span><span class="cls_010"> list(</span><span class="cls_014">rpart =</span><span class="cls_010"> model_caret_rpart,</span></div>
<div style="position:absolute;left:186.79px;top:108.77px" class="cls_014"><span class="cls_014">rf =</span><span class="cls_010"> model_caret_ranger,</span></div>
<div style="position:absolute;left:186.79px;top:121.73px" class="cls_014"><span class="cls_014">logistic =</span><span class="cls_010"> model_caret_logistic,</span></div>
<div style="position:absolute;left:186.79px;top:134.69px" class="cls_014"><span class="cls_014">bagging =</span><span class="cls_010"> model_caret_bagging,</span></div>
<div style="position:absolute;left:186.79px;top:147.41px" class="cls_014"><span class="cls_014">gbm =</span><span class="cls_010"> model_caret_gbm)</span></div>
<div style="position:absolute;left:72.02px;top:171.89px" class="cls_011"><span class="cls_011">caret</span><span class="cls_004"> provides a variety of methods to use for comparing models. All of these methods are</span></div>
<div style="position:absolute;left:72.02px;top:185.83px" class="cls_004"><span class="cls_004">based on the </span><span class="cls_010">resamples()</span><span class="cls_004"> function. The box-and-whisker plot allows you to compare the</span></div>
<div style="position:absolute;left:72.02px;top:199.99px" class="cls_004"><span class="cls_004">distribution of predictive accuracy (in this case AUC) for the two or more models.</span></div>
<div style="position:absolute;left:72.02px;top:223.03px" class="cls_004"><span class="cls_004">In general, you want the model with the higher median AUC, as well as a smaller range</span></div>
<div style="position:absolute;left:72.02px;top:236.95px" class="cls_004"><span class="cls_004">between min and max AUC.</span></div>
<div style="position:absolute;left:72.02px;top:260.26px" class="cls_004"><span class="cls_004">You can make this plot using the </span><span class="cls_010">bwplot()</span><span class="cls_004"> function, which makes a box and whisker plot of</span></div>
<div style="position:absolute;left:72.02px;top:274.42px" class="cls_004"><span class="cls_004">the model’s out of sample scores. Box and whisker plots show the median of each</span></div>
<div style="position:absolute;left:72.02px;top:288.58px" class="cls_004"><span class="cls_004">distribution as a line and the interquartile range of each distribution as a box around the</span></div>
<div style="position:absolute;left:72.02px;top:302.50px" class="cls_004"><span class="cls_004">median line. You can pass the metric = “ROC” argument to the </span><span class="cls_010">bwplot()</span><span class="cls_004"> function to show a</span></div>
<div style="position:absolute;left:72.02px;top:316.66px" class="cls_004"><span class="cls_004">plot of the model’s out-of-sample ROC scores and choose the model with the highest</span></div>
<div style="position:absolute;left:72.02px;top:330.58px" class="cls_004"><span class="cls_004">median ROC.</span></div>
<div style="position:absolute;left:72.02px;top:352.44px" class="cls_015"><span class="cls_015"># Pass model_list to resamples(): resamples</span></div>
<div style="position:absolute;left:72.02px;top:365.40px" class="cls_010"><span class="cls_010">resamps </span><span class="cls_013">&lt;-</span><span class="cls_010"> resamples(model_list)</span></div>
<div style="position:absolute;left:72.02px;top:392.28px" class="cls_015"><span class="cls_015"># Summarize the results</span></div>
<div style="position:absolute;left:72.02px;top:405.00px" class="cls_010"><span class="cls_010">summary(resamps)</span></div>
<div style="position:absolute;left:72.02px;top:428.06px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:441.02px" class="cls_010"><span class="cls_010">## Call:</span></div>
<div style="position:absolute;left:72.02px;top:453.74px" class="cls_010"><span class="cls_010">## summary.resamples(object = resamps)</span></div>
<div style="position:absolute;left:72.02px;top:466.70px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:479.66px" class="cls_010"><span class="cls_010">## Models: rpart, rf, logistic, bagging, gbm</span></div>
<div style="position:absolute;left:72.02px;top:492.41px" class="cls_010"><span class="cls_010">## Number of resamples: 5</span></div>
<div style="position:absolute;left:72.02px;top:505.37px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:518.33px" class="cls_010"><span class="cls_010">## ROC</span></div>
<div style="position:absolute;left:72.02px;top:532.01px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:174.63px;top:532.01px" class="cls_010"><span class="cls_010">Min.</span></div>
<div style="position:absolute;left:216.82px;top:532.01px" class="cls_010"><span class="cls_010">1st Qu.</span></div>
<div style="position:absolute;left:283.23px;top:532.01px" class="cls_010"><span class="cls_010">Median</span></div>
<div style="position:absolute;left:355.86px;top:532.01px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:398.06px;top:532.01px" class="cls_010"><span class="cls_010">3rd Qu.</span></div>
<div style="position:absolute;left:477.00px;top:531.05px" class="cls_010"><span class="cls_010">Max. NA's</span></div>
<div style="position:absolute;left:72.02px;top:544.97px" class="cls_010"><span class="cls_010">## rpart</span></div>
<div style="position:absolute;left:144.42px;top:544.97px" class="cls_010"><span class="cls_010">0.7020505 0.7157649 0.7546550 0.7424550 0.7622874 0.7775173</span></div>
<div style="position:absolute;left:524.87px;top:544.01px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:557.93px" class="cls_010"><span class="cls_010">## rf</span></div>
<div style="position:absolute;left:144.42px;top:557.93px" class="cls_010"><span class="cls_010">0.8691685 0.8737564 0.8749277 0.8748478 0.8776903 0.8786960</span></div>
<div style="position:absolute;left:524.87px;top:556.97px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:570.67px" class="cls_010"><span class="cls_010">## logistic 0.7962687 0.7971766 0.7984307 0.7983164 0.7992928 0.8004131</span></div>
<div style="position:absolute;left:524.87px;top:569.71px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:583.63px" class="cls_010"><span class="cls_010">## bagging</span></div>
<div style="position:absolute;left:144.50px;top:583.63px" class="cls_010"><span class="cls_010">0.8459675 0.8462392 0.8518077 0.8506775 0.8539794 0.8553938</span></div>
<div style="position:absolute;left:524.94px;top:582.67px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:596.59px" class="cls_010"><span class="cls_010">## gbm</span></div>
<div style="position:absolute;left:144.42px;top:596.59px" class="cls_010"><span class="cls_010">0.8569389 0.8583258 0.8629288 0.8612928 0.8634412 0.8648294</span></div>
<div style="position:absolute;left:524.87px;top:595.63px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:608.35px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:621.31px" class="cls_010"><span class="cls_010">## Sens</span></div>
<div style="position:absolute;left:72.02px;top:635.23px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:174.63px;top:635.23px" class="cls_010"><span class="cls_010">Min.</span></div>
<div style="position:absolute;left:216.82px;top:635.23px" class="cls_010"><span class="cls_010">1st Qu.</span></div>
<div style="position:absolute;left:283.23px;top:635.23px" class="cls_010"><span class="cls_010">Median</span></div>
<div style="position:absolute;left:355.86px;top:635.23px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:398.06px;top:635.23px" class="cls_010"><span class="cls_010">3rd Qu.</span></div>
<div style="position:absolute;left:476.45px;top:634.27px" class="cls_010"><span class="cls_010">Max. NA's</span></div>
<div style="position:absolute;left:72.02px;top:647.98px" class="cls_010"><span class="cls_010">## rpart</span></div>
<div style="position:absolute;left:144.53px;top:647.98px" class="cls_010"><span class="cls_010">0.6645500 0.6861717 0.7300580 0.7518268 0.8108780 0.8674765</span></div>
<div style="position:absolute;left:524.98px;top:647.02px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:660.94px" class="cls_010"><span class="cls_010">## rf</span></div>
<div style="position:absolute;left:144.42px;top:660.94px" class="cls_010"><span class="cls_010">0.7291552 0.7297819 0.7421314 0.7435405 0.7524151 0.7642187</span></div>
<div style="position:absolute;left:524.87px;top:659.98px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:673.90px" class="cls_010"><span class="cls_010">## logistic 0.6736610 0.6952802 0.6979569 0.6952289 0.6998896 0.7093569</span></div>
<div style="position:absolute;left:524.87px;top:672.94px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:686.62px" class="cls_010"><span class="cls_010">## bagging</span></div>
<div style="position:absolute;left:144.42px;top:686.62px" class="cls_010"><span class="cls_010">0.7269464 0.7452388 0.7506902 0.7461349 0.7510351 0.7567642</span></div>
<div style="position:absolute;left:525.21px;top:685.66px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:699.58px" class="cls_010"><span class="cls_010">## gbm</span></div>
<div style="position:absolute;left:144.42px;top:699.58px" class="cls_010"><span class="cls_010">0.7310878 0.7424786 0.7512424 0.7486751 0.7513111 0.7672557</span></div>
<div style="position:absolute;left:524.87px;top:698.62px" class="cls_010"><span class="cls_010">0</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:35288px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background45.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">## Spec</span></div>
<div style="position:absolute;left:72.02px;top:109.73px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:174.63px;top:109.73px" class="cls_010"><span class="cls_010">Min.</span></div>
<div style="position:absolute;left:216.82px;top:109.73px" class="cls_010"><span class="cls_010">1st Qu.</span></div>
<div style="position:absolute;left:283.23px;top:109.73px" class="cls_010"><span class="cls_010">Median</span></div>
<div style="position:absolute;left:355.86px;top:109.73px" class="cls_010"><span class="cls_010">Mean</span></div>
<div style="position:absolute;left:398.06px;top:109.73px" class="cls_010"><span class="cls_010">3rd Qu.</span></div>
<div style="position:absolute;left:476.45px;top:108.77px" class="cls_010"><span class="cls_010">Max. NA's</span></div>
<div style="position:absolute;left:72.02px;top:122.69px" class="cls_010"><span class="cls_010">## rpart</span></div>
<div style="position:absolute;left:144.42px;top:122.69px" class="cls_010"><span class="cls_010">0.5480398 0.5911099 0.7030086 0.6840147 0.7868581 0.7910571</span></div>
<div style="position:absolute;left:525.32px;top:121.73px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:135.65px" class="cls_010"><span class="cls_010">## rf</span></div>
<div style="position:absolute;left:144.42px;top:135.65px" class="cls_010"><span class="cls_010">0.7962452 0.8211427 0.8235781 0.8248667 0.8401436 0.8432238</span></div>
<div style="position:absolute;left:524.87px;top:134.69px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:148.37px" class="cls_010"><span class="cls_010">## logistic 0.7614578 0.7615236 0.7653878 0.7650178 0.7669796 0.7697405</span></div>
<div style="position:absolute;left:524.87px;top:147.41px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:161.33px" class="cls_010"><span class="cls_010">## bagging</span></div>
<div style="position:absolute;left:144.42px;top:161.33px" class="cls_010"><span class="cls_010">0.7614578 0.7775324 0.7836047 0.7863854 0.7934843 0.8158476</span></div>
<div style="position:absolute;left:525.58px;top:160.37px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:174.05px" class="cls_010"><span class="cls_010">## gbm</span></div>
<div style="position:absolute;left:144.42px;top:174.05px" class="cls_010"><span class="cls_010">0.7733297 0.8012697 0.8175041 0.8094624 0.8210933 0.8341154</span></div>
<div style="position:absolute;left:524.87px;top:173.09px" class="cls_010"><span class="cls_010">0</span></div>
<div style="position:absolute;left:72.02px;top:196.15px" class="cls_015"><span class="cls_015"># Create bwplot</span></div>
<div style="position:absolute;left:72.02px;top:208.87px" class="cls_010"><span class="cls_010">bwplot(resamps, </span><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"ROC"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:534.17px" class="cls_007"><span class="cls_007">3.11 Improving Model Performance</span></div>
<div style="position:absolute;left:72.02px;top:560.57px" class="cls_004"><span class="cls_004">It is difficult to find a good machine learning algorithm for your problem. But once you do,</span></div>
<div style="position:absolute;left:72.02px;top:574.51px" class="cls_004"><span class="cls_004">how do you get the best performance out of it. In this session you will discover three ways</span></div>
<div style="position:absolute;left:72.02px;top:588.67px" class="cls_004"><span class="cls_004">that you can tune the parameters of a machine learning algorithm in R. Most machine</span></div>
<div style="position:absolute;left:72.02px;top:602.83px" class="cls_004"><span class="cls_004">learning techniques have one or more parameters that need to be set before the learning</span></div>
<div style="position:absolute;left:72.02px;top:616.75px" class="cls_004"><span class="cls_004">process begins. These parameters are commonly known as hyperparameters.</span></div>
<div style="position:absolute;left:72.02px;top:640.99px" class="cls_017"><span class="cls_017">3.11.1 Random Search</span></div>
<div style="position:absolute;left:72.02px;top:664.54px" class="cls_004"><span class="cls_004">One search strategy that we can use is to try random values within a range. This can be</span></div>
<div style="position:absolute;left:72.02px;top:678.70px" class="cls_004"><span class="cls_004">good if we are unsure of what the value might be and we want to overcome any biases we</span></div>
<div style="position:absolute;left:72.02px;top:692.62px" class="cls_004"><span class="cls_004">may have for setting the parameter. To use random search, another option is available in</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:36090px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background46.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_010"><span class="cls_010">trainControl</span><span class="cls_004"> called </span><span class="cls_010">search</span><span class="cls_004">. Possible values of this argument are </span><span class="cls_010">"grid"</span><span class="cls_004"> and </span><span class="cls_010">"random"</span><span class="cls_004">.</span></div>
<div style="position:absolute;left:72.02px;top:98.66px" class="cls_004"><span class="cls_004">The built-in models contained in caret contain code to generate random tuning parameter</span></div>
<div style="position:absolute;left:72.02px;top:112.85px" class="cls_004"><span class="cls_004">combinations. The total number of unique combinations is specified by the tuneLength</span></div>
<div style="position:absolute;left:72.02px;top:126.77px" class="cls_004"><span class="cls_004">option to train.</span></div>
<div style="position:absolute;left:72.02px;top:148.37px" class="cls_015"><span class="cls_015"># random search</span></div>
<div style="position:absolute;left:72.02px;top:175.49px" class="cls_010"><span class="cls_010">ctrl_random </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"repeatedcv"</span><span class="cls_010"> , </span><span class="cls_014">number=</span><span class="cls_016">5</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:241.30px;top:188.23px" class="cls_014"><span class="cls_014">repeats =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:201.19px" class="cls_014"><span class="cls_014">search =</span><span class="cls_010"> </span><span class="cls_012">"random"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:214.15px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:226.87px" class="cls_010"><span class="cls_010">ranger_random </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(turnover ~ ., </span><span class="cls_014">data=</span><span class="cls_010">satisfy_train, </span><span class="cls_014">method=</span><span class="cls_012">"ranger"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:180.79px;top:239.83px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:180.79px;top:252.79px" class="cls_014"><span class="cls_014">tuneLength =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">, </span><span class="cls_014">verbose =</span><span class="cls_010"> FALSE,</span></div>
<div style="position:absolute;left:180.79px;top:265.54px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_random)</span></div>
<div style="position:absolute;left:72.02px;top:278.26px" class="cls_010"><span class="cls_010">ranger_random</span></div>
<div style="position:absolute;left:72.02px;top:301.30px" class="cls_010"><span class="cls_010">## Random Forest</span></div>
<div style="position:absolute;left:72.02px;top:314.26px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:327.22px" class="cls_010"><span class="cls_010">## 9056 samples</span></div>
<div style="position:absolute;left:72.02px;top:340.92px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:339.96px" class="cls_010"><span class="cls_010">23 predictor</span></div>
<div style="position:absolute;left:72.02px;top:353.88px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:352.92px" class="cls_010"><span class="cls_010">2 classes: 'Yes', 'No'</span></div>
<div style="position:absolute;left:72.02px;top:365.88px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:378.60px" class="cls_010"><span class="cls_010">## No pre-processing</span></div>
<div style="position:absolute;left:72.02px;top:391.56px" class="cls_010"><span class="cls_010">## Resampling: Cross-Validated (5 fold, repeated 3 times)</span></div>
<div style="position:absolute;left:72.02px;top:404.52px" class="cls_010"><span class="cls_010">## Summary of sample sizes: 7244, 7246, 7245, 7244, 7245, 7246, ...</span></div>
<div style="position:absolute;left:72.02px;top:417.26px" class="cls_010"><span class="cls_010">## Resampling results across tuning parameters:</span></div>
<div style="position:absolute;left:72.02px;top:430.22px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:444.14px" class="cls_010"><span class="cls_010">##   min.node.size  mtry  splitrule   Accuracy   Kappa</span></div>
<div style="position:absolute;left:72.02px;top:456.86px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:456.86px" class="cls_010"><span class="cls_010">5</span></div>
<div style="position:absolute;left:198.61px;top:456.86px" class="cls_010"><span class="cls_010">6</span></div>
<div style="position:absolute;left:228.81px;top:456.86px" class="cls_010"><span class="cls_010">extratrees</span></div>
<div style="position:absolute;left:301.45px;top:456.86px" class="cls_010"><span class="cls_010">0.8296153</span></div>
<div style="position:absolute;left:367.85px;top:455.90px" class="cls_010"><span class="cls_010">0.6592304</span></div>
<div style="position:absolute;left:72.02px;top:469.82px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:469.82px" class="cls_010"><span class="cls_010">5</span></div>
<div style="position:absolute;left:198.61px;top:469.82px" class="cls_010"><span class="cls_010">7</span></div>
<div style="position:absolute;left:228.81px;top:469.82px" class="cls_010"><span class="cls_010">extratrees</span></div>
<div style="position:absolute;left:301.45px;top:469.82px" class="cls_010"><span class="cls_010">0.8294681</span></div>
<div style="position:absolute;left:367.85px;top:468.86px" class="cls_010"><span class="cls_010">0.6589360</span></div>
<div style="position:absolute;left:72.02px;top:482.78px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:482.78px" class="cls_010"><span class="cls_010">9</span></div>
<div style="position:absolute;left:198.79px;top:482.78px" class="cls_010"><span class="cls_010">2</span></div>
<div style="position:absolute;left:229.00px;top:482.78px" class="cls_010"><span class="cls_010">gini</span></div>
<div style="position:absolute;left:301.63px;top:482.78px" class="cls_010"><span class="cls_010">0.8224011</span></div>
<div style="position:absolute;left:368.03px;top:481.82px" class="cls_010"><span class="cls_010">0.6448018</span></div>
<div style="position:absolute;left:72.02px;top:495.53px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:495.53px" class="cls_010"><span class="cls_010">12</span></div>
<div style="position:absolute;left:192.61px;top:495.53px" class="cls_010"><span class="cls_010">16</span></div>
<div style="position:absolute;left:228.81px;top:495.53px" class="cls_010"><span class="cls_010">extratrees</span></div>
<div style="position:absolute;left:301.45px;top:495.53px" class="cls_010"><span class="cls_010">0.8208174</span></div>
<div style="position:absolute;left:367.85px;top:494.57px" class="cls_010"><span class="cls_010">0.6416346</span></div>
<div style="position:absolute;left:72.02px;top:508.49px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:508.49px" class="cls_010"><span class="cls_010">15</span></div>
<div style="position:absolute;left:198.61px;top:508.49px" class="cls_010"><span class="cls_010">4</span></div>
<div style="position:absolute;left:228.81px;top:508.49px" class="cls_010"><span class="cls_010">extratrees</span></div>
<div style="position:absolute;left:301.45px;top:508.49px" class="cls_010"><span class="cls_010">0.8064625</span></div>
<div style="position:absolute;left:367.85px;top:507.53px" class="cls_010"><span class="cls_010">0.6129253</span></div>
<div style="position:absolute;left:72.02px;top:520.49px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:533.21px" class="cls_010"><span class="cls_010">## Accuracy was used to select the optimal model using the largest value.</span></div>
<div style="position:absolute;left:72.02px;top:546.17px" class="cls_010"><span class="cls_010">## The final values used for the model were mtry = 6, splitrule = extratrees</span></div>
<div style="position:absolute;left:72.02px;top:558.89px" class="cls_010"><span class="cls_010">##  and min.node.size = 5.</span></div>
<div style="position:absolute;left:72.02px;top:583.39px" class="cls_017"><span class="cls_017">3.11.2 Grid Search</span></div>
<div style="position:absolute;left:72.02px;top:606.91px" class="cls_004"><span class="cls_004">Another search you can use is to define a grid of algorithm parameters to try. Each axis of</span></div>
<div style="position:absolute;left:72.02px;top:621.07px" class="cls_004"><span class="cls_004">the grid is an algorithm parameter, and points in the grid are specific combinations of</span></div>
<div style="position:absolute;left:72.02px;top:635.23px" class="cls_004"><span class="cls_004">parameters. Because we are only tuning one parameter, the grid search is a linear search</span></div>
<div style="position:absolute;left:72.02px;top:649.18px" class="cls_004"><span class="cls_004">through a vector of candidate values.</span></div>
<div style="position:absolute;left:72.02px;top:671.02px" class="cls_015"><span class="cls_015"># grid search</span></div>
<div style="position:absolute;left:72.02px;top:683.74px" class="cls_010"><span class="cls_010">ctrl_grid </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"repeatedcv"</span><span class="cls_010"> , </span><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:229.06px;top:696.70px" class="cls_014"><span class="cls_014">repeats =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">,</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:36892px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background47.jpg" width=612 height=792></div>
<div style="position:absolute;left:229.06px;top:83.06px" class="cls_014"><span class="cls_014">search =</span><span class="cls_010"> </span><span class="cls_012">"grid"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:108.77px" class="cls_010"><span class="cls_010">tune_grid </span><span class="cls_013">&lt;-</span><span class="cls_010"> expand.grid( </span><span class="cls_014">min.node.size=</span><span class="cls_010"> seq(</span><span class="cls_016">5</span><span class="cls_010">,</span><span class="cls_016">10</span><span class="cls_010">,</span><span class="cls_016">2</span><span class="cls_010">),</span></div>
<div style="position:absolute;left:223.06px;top:121.73px" class="cls_014"><span class="cls_014">mtry=</span><span class="cls_010"> seq(</span><span class="cls_016">2</span><span class="cls_010">,</span><span class="cls_016">7</span><span class="cls_010">),</span></div>
<div style="position:absolute;left:223.06px;top:134.69px" class="cls_014"><span class="cls_014">splitrule=</span><span class="cls_010"> c(</span><span class="cls_012">"extratrees"</span><span class="cls_010">,</span><span class="cls_012">"gini"</span><span class="cls_010">))</span></div>
<div style="position:absolute;left:72.02px;top:147.41px" class="cls_010"><span class="cls_010">ranger_grid </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(turnover ~ ., </span><span class="cls_014">data =</span><span class="cls_010"> satisfy_train, </span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"ranger"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:180.79px;top:160.37px" class="cls_014"><span class="cls_014">metric =</span><span class="cls_010"> </span><span class="cls_012">"Accuracy"</span><span class="cls_010">, </span><span class="cls_014">tuneGrid =</span><span class="cls_010"> tune_grid,</span></div>
<div style="position:absolute;left:180.79px;top:173.33px" class="cls_014"><span class="cls_014">verbose =</span><span class="cls_010"> FALSE,</span></div>
<div style="position:absolute;left:180.79px;top:186.07px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> ctrl_grid)</span></div>
<div style="position:absolute;left:72.02px;top:210.55px" class="cls_017"><span class="cls_017">3.11.3 Adaptive Resampling</span></div>
<div style="position:absolute;left:72.02px;top:234.07px" class="cls_004"><span class="cls_004">Models can benefit significantly from tuning but the optimal values are rarely known</span></div>
<div style="position:absolute;left:72.02px;top:248.23px" class="cls_004"><span class="cls_004">beforehand. train can be used to define a grid of possible points and resampling can be</span></div>
<div style="position:absolute;left:72.02px;top:262.18px" class="cls_004"><span class="cls_004">used to generate good estimates of performance for each tuning parameter combination.</span></div>
<div style="position:absolute;left:72.02px;top:276.34px" class="cls_004"><span class="cls_004">However, in the nominal resampling process, all the tuning parameter combinations are</span></div>
<div style="position:absolute;left:72.02px;top:290.50px" class="cls_004"><span class="cls_004">computed for all the resamples before a choice is made about which parameters are good</span></div>
<div style="position:absolute;left:72.02px;top:304.42px" class="cls_004"><span class="cls_004">and which are poor. caret contains the ability to adaptively resample the tuning parameter</span></div>
<div style="position:absolute;left:72.02px;top:318.58px" class="cls_004"><span class="cls_004">grid in a way that concentrates on values that are the in the neighborhood of the optimal</span></div>
<div style="position:absolute;left:72.02px;top:332.74px" class="cls_004"><span class="cls_004">settings. To use the adaptive procedure, the trainControl option needs some additional</span></div>
<div style="position:absolute;left:72.02px;top:346.68px" class="cls_004"><span class="cls_004">arguments: - min is the minimum number of resamples that will be used for each tuning</span></div>
<div style="position:absolute;left:72.02px;top:360.84px" class="cls_004"><span class="cls_004">parameter. The default value is 5 and increasing it will decrease the speed-up generated by</span></div>
<div style="position:absolute;left:72.02px;top:374.76px" class="cls_004"><span class="cls_004">adaptive resampling but should also increase the likelihood of finding a good model. - alpha</span></div>
<div style="position:absolute;left:72.02px;top:388.92px" class="cls_004"><span class="cls_004">is a confidence level that is used to remove parameter settings. To date, this value has not</span></div>
<div style="position:absolute;left:72.02px;top:402.84px" class="cls_004"><span class="cls_004">shown much of an effect. - method is either “</span><span class="cls_010">gls</span><span class="cls_004">” for a linear model or “</span><span class="cls_010">BT</span><span class="cls_004">” for a Bradley-</span></div>
<div style="position:absolute;left:72.02px;top:417.26px" class="cls_004"><span class="cls_004">Terry model. The latter may be more useful when you expect the model to do very well</span></div>
<div style="position:absolute;left:72.02px;top:431.18px" class="cls_004"><span class="cls_004">(e.g. an area under the ROC curve near 1) or when there are a large number of tuning</span></div>
<div style="position:absolute;left:72.02px;top:445.34px" class="cls_004"><span class="cls_004">parameter settings. - complete is a logical value that specifies whether train should</span></div>
<div style="position:absolute;left:72.02px;top:459.26px" class="cls_004"><span class="cls_004">generate the full resampling set if it finds an optimal solution before the end of resampling.</span></div>
<div style="position:absolute;left:72.02px;top:473.42px" class="cls_004"><span class="cls_004">If you want to know the optimal parameter settings and don’t care much for the estimated</span></div>
<div style="position:absolute;left:72.02px;top:487.34px" class="cls_004"><span class="cls_004">performance value, a value of FALSE would be appropriate here</span></div>
<div style="position:absolute;left:72.02px;top:509.21px" class="cls_015"><span class="cls_015"># adaptive resampling</span></div>
<div style="position:absolute;left:72.02px;top:522.17px" class="cls_010"><span class="cls_010">fitControl </span><span class="cls_013">&lt;-</span><span class="cls_010"> trainControl(</span><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"adaptive_cv"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:534.89px" class="cls_014"><span class="cls_014">number =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">, </span><span class="cls_014">repeats =</span><span class="cls_010"> </span><span class="cls_016">3</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:235.06px;top:547.85px" class="cls_014"><span class="cls_014">adaptive =</span><span class="cls_010"> list(</span><span class="cls_014">min =</span><span class="cls_010"> </span><span class="cls_016">2</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:332.06px;top:560.81px" class="cls_014"><span class="cls_014">alpha =</span><span class="cls_010"> </span><span class="cls_016">0.05</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:332.06px;top:573.55px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"gls"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:332.06px;top:586.51px" class="cls_014"><span class="cls_014">complete =</span><span class="cls_010"> TRUE),</span></div>
<div style="position:absolute;left:235.06px;top:599.47px" class="cls_014"><span class="cls_014">search =</span><span class="cls_010"> </span><span class="cls_012">"random"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:626.35px" class="cls_010"><span class="cls_010">set.seed(</span><span class="cls_016">1234</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:639.07px" class="cls_010"><span class="cls_010">ranger_adaptive </span><span class="cls_013">&lt;-</span><span class="cls_010"> train(turnover ~ ., </span><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:223.06px;top:652.06px" class="cls_014"><span class="cls_014">method =</span><span class="cls_010"> </span><span class="cls_012">"ranger"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:223.06px;top:665.02px" class="cls_014"><span class="cls_014">trControl =</span><span class="cls_010"> fitControl,</span></div>
<div style="position:absolute;left:223.06px;top:677.74px" class="cls_014"><span class="cls_014">verbose =</span><span class="cls_010"> FALSE,</span></div>
<div style="position:absolute;left:223.06px;top:690.70px" class="cls_014"><span class="cls_014">tuneLength =</span><span class="cls_010"> </span><span class="cls_016">7</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:703.42px" class="cls_010"><span class="cls_010">ranger_adaptive</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:37694px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background48.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_010"><span class="cls_010">## Random Forest</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:108.77px" class="cls_010"><span class="cls_010">## 9056 samples</span></div>
<div style="position:absolute;left:72.02px;top:122.69px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:121.73px" class="cls_010"><span class="cls_010">23 predictor</span></div>
<div style="position:absolute;left:72.02px;top:135.65px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:134.69px" class="cls_010"><span class="cls_010">2 classes: 'Yes', 'No'</span></div>
<div style="position:absolute;left:72.02px;top:147.41px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:160.37px" class="cls_010"><span class="cls_010">## No pre-processing</span></div>
<div style="position:absolute;left:72.02px;top:173.33px" class="cls_010"><span class="cls_010">## Resampling: Adaptively Cross-Validated (3 fold, repeated 3 times)</span></div>
<div style="position:absolute;left:72.02px;top:186.07px" class="cls_010"><span class="cls_010">## Summary of sample sizes: 6038, 6038, 6036, 6037, 6038, 6037, ...</span></div>
<div style="position:absolute;left:72.02px;top:199.03px" class="cls_010"><span class="cls_010">## Resampling results across tuning parameters:</span></div>
<div style="position:absolute;left:72.02px;top:211.99px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:225.67px" class="cls_010"><span class="cls_010">##   min.node.size  mtry  Accuracy   Kappa</span></div>
<div style="position:absolute;left:361.86px;top:224.71px" class="cls_010"><span class="cls_010">Resamples</span></div>
<div style="position:absolute;left:72.02px;top:238.63px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:238.63px" class="cls_010"><span class="cls_010">5</span></div>
<div style="position:absolute;left:198.61px;top:238.63px" class="cls_010"><span class="cls_010">4</span></div>
<div style="position:absolute;left:228.81px;top:238.63px" class="cls_010"><span class="cls_010">0.8178010</span></div>
<div style="position:absolute;left:295.22px;top:238.63px" class="cls_010"><span class="cls_010">0.6356021</span></div>
<div style="position:absolute;left:361.86px;top:238.63px" class="cls_010"><span class="cls_010">9</span></div>
<div style="position:absolute;left:72.02px;top:251.59px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:251.59px" class="cls_010"><span class="cls_010">5</span></div>
<div style="position:absolute;left:198.61px;top:251.59px" class="cls_010"><span class="cls_010">6</span></div>
<div style="position:absolute;left:228.81px;top:251.59px" class="cls_010"><span class="cls_010">0.8184270</span></div>
<div style="position:absolute;left:295.22px;top:251.59px" class="cls_010"><span class="cls_010">0.6368542</span></div>
<div style="position:absolute;left:361.86px;top:251.59px" class="cls_010"><span class="cls_010">9</span></div>
<div style="position:absolute;left:72.02px;top:264.34px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:264.34px" class="cls_010"><span class="cls_010">6</span></div>
<div style="position:absolute;left:192.61px;top:264.34px" class="cls_010"><span class="cls_010">15</span></div>
<div style="position:absolute;left:228.81px;top:264.34px" class="cls_010"><span class="cls_010">0.8145767</span></div>
<div style="position:absolute;left:295.56px;top:264.34px" class="cls_010"><span class="cls_010">0.6291542</span></div>
<div style="position:absolute;left:362.20px;top:264.34px" class="cls_010"><span class="cls_010">4</span></div>
<div style="position:absolute;left:72.02px;top:277.30px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:277.30px" class="cls_010"><span class="cls_010">9</span></div>
<div style="position:absolute;left:192.61px;top:277.30px" class="cls_010"><span class="cls_010">22</span></div>
<div style="position:absolute;left:228.81px;top:277.30px" class="cls_010"><span class="cls_010">0.8125066</span></div>
<div style="position:absolute;left:295.22px;top:277.30px" class="cls_010"><span class="cls_010">0.6250142</span></div>
<div style="position:absolute;left:361.86px;top:277.30px" class="cls_010"><span class="cls_010">4</span></div>
<div style="position:absolute;left:72.02px;top:290.26px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:290.26px" class="cls_010"><span class="cls_010">12</span></div>
<div style="position:absolute;left:198.61px;top:290.26px" class="cls_010"><span class="cls_010">2</span></div>
<div style="position:absolute;left:228.81px;top:290.26px" class="cls_010"><span class="cls_010">0.7955600</span></div>
<div style="position:absolute;left:295.22px;top:290.26px" class="cls_010"><span class="cls_010">0.5911199</span></div>
<div style="position:absolute;left:361.86px;top:290.26px" class="cls_010"><span class="cls_010">2</span></div>
<div style="position:absolute;left:72.02px;top:302.98px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:302.98px" class="cls_010"><span class="cls_010">15</span></div>
<div style="position:absolute;left:198.61px;top:302.98px" class="cls_010"><span class="cls_010">7</span></div>
<div style="position:absolute;left:228.81px;top:302.98px" class="cls_010"><span class="cls_010">0.8127899</span></div>
<div style="position:absolute;left:295.22px;top:302.98px" class="cls_010"><span class="cls_010">0.6255799</span></div>
<div style="position:absolute;left:361.86px;top:302.98px" class="cls_010"><span class="cls_010">2</span></div>
<div style="position:absolute;left:72.02px;top:315.94px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:102.00px;top:315.94px" class="cls_010"><span class="cls_010">16</span></div>
<div style="position:absolute;left:192.61px;top:315.94px" class="cls_010"><span class="cls_010">14</span></div>
<div style="position:absolute;left:228.81px;top:315.94px" class="cls_010"><span class="cls_010">0.8122929</span></div>
<div style="position:absolute;left:295.22px;top:315.94px" class="cls_010"><span class="cls_010">0.6245858</span></div>
<div style="position:absolute;left:361.86px;top:315.94px" class="cls_010"><span class="cls_010">2</span></div>
<div style="position:absolute;left:72.02px;top:327.94px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:340.68px" class="cls_010"><span class="cls_010">## Tuning parameter 'splitrule' was held constant at a value of extratrees</span></div>
<div style="position:absolute;left:72.02px;top:353.64px" class="cls_010"><span class="cls_010">## Accuracy was used to select the optimal model using the largest value.</span></div>
<div style="position:absolute;left:72.02px;top:366.60px" class="cls_010"><span class="cls_010">## The final values used for the model were mtry = 6, splitrule = extratrees</span></div>
<div style="position:absolute;left:72.02px;top:379.32px" class="cls_010"><span class="cls_010">##  and min.node.size = 5.</span></div>
<div style="position:absolute;left:72.02px;top:403.56px" class="cls_007"><span class="cls_007">3.12 Finalize Your Machine Learning Model</span></div>
<div style="position:absolute;left:72.02px;top:429.74px" class="cls_004"><span class="cls_004">Once you have an accurate model on your test harness you are nearly done. But not yet.</span></div>
<div style="position:absolute;left:72.02px;top:443.90px" class="cls_004"><span class="cls_004">There are still a number of tasks to do to finalize your model. The whole idea of creating an</span></div>
<div style="position:absolute;left:72.02px;top:458.06px" class="cls_004"><span class="cls_004">accurate model for your dataset was to make predictions on unseen data. There are three</span></div>
<div style="position:absolute;left:72.02px;top:471.98px" class="cls_004"><span class="cls_004">tasks you may be concerned with:</span></div>
<div style="position:absolute;left:72.02px;top:495.05px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:495.05px" class="cls_004"><span class="cls_004">Making new predictions on unseen data.</span></div>
<div style="position:absolute;left:72.02px;top:510.89px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:510.89px" class="cls_004"><span class="cls_004">Creating a standalone model using all training data.</span></div>
<div style="position:absolute;left:72.02px;top:526.73px" class="cls_004"><span class="cls_004">•</span></div>
<div style="position:absolute;left:96.05px;top:526.73px" class="cls_004"><span class="cls_004">Saving your model to file for later loading and making predictions on new data.</span></div>
<div style="position:absolute;left:72.02px;top:541.37px" class="cls_015"><span class="cls_015"># Finalize Your Machine Learning Model</span></div>
<div style="position:absolute;left:72.02px;top:568.25px" class="cls_010"><span class="cls_010">finalModel </span><span class="cls_013">&lt;-</span><span class="cls_010"> randomForest(turnover ~ .,</span></div>
<div style="position:absolute;left:84.02px;top:581.23px" class="cls_014"><span class="cls_014">data =</span><span class="cls_010"> satisfy_train,</span></div>
<div style="position:absolute;left:84.02px;top:593.95px" class="cls_014"><span class="cls_014">min.node.size =</span><span class="cls_010"> </span><span class="cls_016">5</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:606.91px" class="cls_014"><span class="cls_014">mtry =</span><span class="cls_010"> </span><span class="cls_016">6</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:619.87px" class="cls_014"><span class="cls_014">splitrule =</span><span class="cls_010"> </span><span class="cls_012">"extratrees"</span><span class="cls_010">,</span></div>
<div style="position:absolute;left:84.02px;top:632.59px" class="cls_014"><span class="cls_014">verbose =</span><span class="cls_010"> FALSE,</span></div>
<div style="position:absolute;left:84.02px;top:645.55px" class="cls_010"><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:658.54px" class="cls_010"><span class="cls_010">final_predictions </span><span class="cls_013">&lt;-</span><span class="cls_010"> predict(finalModel, satisfy_test,</span><span class="cls_014">type=</span><span class="cls_012">"class"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:671.26px" class="cls_010"><span class="cls_010">confusionMatrix(final_predictions, satisfy_test$turnover, </span><span class="cls_014">positive=</span><span class="cls_010"> </span><span class="cls_012">"Yes"</span><span class="cls_010">)</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:38496px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background49.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_010"><span class="cls_010">## Confusion Matrix and Statistics</span></div>
<div style="position:absolute;left:72.02px;top:96.02px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:109.73px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:150.42px;top:108.77px" class="cls_010"><span class="cls_010">Reference</span></div>
<div style="position:absolute;left:72.02px;top:121.73px" class="cls_010"><span class="cls_010">## Prediction  Yes   No</span></div>
<div style="position:absolute;left:72.02px;top:135.65px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:132.20px;top:135.65px" class="cls_010"><span class="cls_010">Yes</span></div>
<div style="position:absolute;left:162.41px;top:135.65px" class="cls_010"><span class="cls_010">354</span></div>
<div style="position:absolute;left:192.61px;top:134.69px" class="cls_010"><span class="cls_010">395</span></div>
<div style="position:absolute;left:72.02px;top:148.37px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:132.20px;top:148.37px" class="cls_010"><span class="cls_010">No</span></div>
<div style="position:absolute;left:162.41px;top:147.41px" class="cls_010"><span class="cls_010">211 1207</span></div>
<div style="position:absolute;left:72.02px;top:161.33px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:174.29px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:180.62px;top:174.29px" class="cls_010"><span class="cls_010">Accuracy : 0.7204</span></div>
<div style="position:absolute;left:72.02px;top:187.03px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:192.61px;top:186.07px" class="cls_010"><span class="cls_010">95% CI : (0.7009, 0.7392)</span></div>
<div style="position:absolute;left:72.02px;top:199.99px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:114.22px;top:199.99px" class="cls_010"><span class="cls_010">No Information Rate : 0.7393</span></div>
<div style="position:absolute;left:72.02px;top:212.95px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:114.22px;top:212.95px" class="cls_010"><span class="cls_010">P-Value [Acc > NIR] : 0.9783</span></div>
<div style="position:absolute;left:72.02px;top:225.67px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:238.63px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:198.79px;top:238.63px" class="cls_010"><span class="cls_010">Kappa : 0.3437</span></div>
<div style="position:absolute;left:72.02px;top:251.59px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:264.34px" class="cls_010"><span class="cls_010">##  Mcnemar's Test P-Value : 1.055e-13</span></div>
<div style="position:absolute;left:72.02px;top:277.30px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:290.26px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:162.41px;top:290.26px" class="cls_010"><span class="cls_010">Sensitivity : 0.6265</span></div>
<div style="position:absolute;left:72.02px;top:302.98px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:162.41px;top:302.98px" class="cls_010"><span class="cls_010">Specificity : 0.7534</span></div>
<div style="position:absolute;left:72.02px;top:315.94px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:144.42px;top:315.94px" class="cls_010"><span class="cls_010">Pos Pred Value : 0.4726</span></div>
<div style="position:absolute;left:72.02px;top:328.90px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:144.42px;top:328.90px" class="cls_010"><span class="cls_010">Neg Pred Value : 0.8512</span></div>
<div style="position:absolute;left:72.02px;top:341.64px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:168.40px;top:341.64px" class="cls_010"><span class="cls_010">Prevalence : 0.2607</span></div>
<div style="position:absolute;left:72.02px;top:354.60px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:144.42px;top:354.60px" class="cls_010"><span class="cls_010">Detection Rate : 0.1634</span></div>
<div style="position:absolute;left:72.02px;top:367.56px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:107.99px;top:367.56px" class="cls_010"><span class="cls_010">Detection Prevalence : 0.3456</span></div>
<div style="position:absolute;left:72.02px;top:380.28px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:126.21px;top:380.28px" class="cls_010"><span class="cls_010">Balanced Accuracy : 0.6900</span></div>
<div style="position:absolute;left:72.02px;top:393.24px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:406.20px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:132.20px;top:406.20px" class="cls_010"><span class="cls_010">'Positive' Class : Yes</span></div>
<div style="position:absolute;left:72.02px;top:417.98px" class="cls_010"><span class="cls_010">##</span></div>
<div style="position:absolute;left:72.02px;top:456.14px" class="cls_005"><span class="cls_005">4. Making Web Applications using R and Shiny</span></div>
<div style="position:absolute;left:72.02px;top:485.90px" class="cls_007"><span class="cls_007">4.1.   Introduction</span></div>
<div style="position:absolute;left:72.02px;top:513.05px" class="cls_004"><span class="cls_004">We shall introduce Here we will introduce Web Application Development in R through</span></div>
<div style="position:absolute;left:72.02px;top:527.21px" class="cls_004"><span class="cls_004">clear examples and clear guidelines from how to start your first Shiny app until the</span></div>
<div style="position:absolute;left:72.02px;top:541.13px" class="cls_004"><span class="cls_004">deployment.</span></div>
<div style="position:absolute;left:72.02px;top:565.13px" class="cls_007"><span class="cls_007">4.2.   Requirements</span></div>
<div style="position:absolute;left:72.02px;top:592.27px" class="cls_004"><span class="cls_004">Basic command of R language and basic knowledge about HTML, CSS and JavaScript (not</span></div>
<div style="position:absolute;left:72.02px;top:606.43px" class="cls_004"><span class="cls_004">required).</span></div>
<div style="position:absolute;left:90.05px;top:621.31px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  R Install</span></div>
<div style="position:absolute;left:90.05px;top:635.71px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  R Studio Install</span></div>
<div style="position:absolute;left:90.05px;top:650.38px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  Necessary R  Packages: Or Install the next packages through the R console</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:39298px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background50.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.50px" class="cls_007"><span class="cls_007">4.3.   Shiny Package</span></div>
<div style="position:absolute;left:72.02px;top:111.65px" class="cls_004"><span class="cls_004">First, let us install the Shiny packages with the next command to follow the example.</span></div>
<div style="position:absolute;left:72.02px;top:148.37px" class="cls_015"><span class="cls_015"># Installing Shiny packages</span></div>
<div style="position:absolute;left:72.02px;top:162.05px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"shiny"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:183.91px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"shinydashboard"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:206.71px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"plotly"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:231.19px" class="cls_004"><span class="cls_004">Shiny is an open-source web application framework for R language, which helps with</span></div>
<div style="position:absolute;left:72.02px;top:245.35px" class="cls_004"><span class="cls_004">building an interactive web application from your analyses. It is a powerful tool to easily</span></div>
<div style="position:absolute;left:72.02px;top:259.30px" class="cls_004"><span class="cls_004">and</span></div>
<div style="position:absolute;left:72.02px;top:283.30px" class="cls_004"><span class="cls_004">Advantages:</span></div>
<div style="position:absolute;left:90.05px;top:308.26px" class="cls_008"><span class="cls_008"> </span><span class="cls_004">  Easy to learn and use</span></div>
<div style="position:absolute;left:90.05px;top:324.10px" class="cls_008"><span class="cls_008"> </span><span class="cls_004">  Minimized development time</span></div>
<div style="position:absolute;left:90.05px;top:339.96px" class="cls_008"><span class="cls_008"> </span><span class="cls_004">  Very good tool for data visualization</span></div>
<div style="position:absolute;left:72.02px;top:363.00px" class="cls_004"><span class="cls_004">Shiny applications consists of two main components (Fig.4.1):</span></div>
<div style="position:absolute;left:216.82px;top:536.33px" class="cls_004"><span class="cls_004">Figure 4.1 Main Components Shiny</span></div>
<div style="position:absolute;left:72.02px;top:582.43px" class="cls_004"><span class="cls_004">1. User-interface definition (UI)</span></div>
<div style="position:absolute;left:72.02px;top:606.19px" class="cls_008"><span class="cls_008"></span></div>
<div style="position:absolute;left:92.69px;top:606.19px" class="cls_004"><span class="cls_004">“ui.R”</span></div>
<div style="position:absolute;left:108.05px;top:629.23px" class="cls_019"><span class="cls_019">o</span><span class="cls_008"> </span><span class="cls_004">  Here you can edit the source code that is used to set-up the user interface of the</span></div>
<div style="position:absolute;left:126.05px;top:643.39px" class="cls_004"><span class="cls_004">app, meaning what the user will actually see in the web app( example: layout,</span></div>
<div style="position:absolute;left:126.05px;top:657.34px" class="cls_004"><span class="cls_004">location of items, plots, widgets, etc.</span></div>
<div style="position:absolute;left:108.05px;top:680.38px" class="cls_019"><span class="cls_019">o</span><span class="cls_008"> </span><span class="cls_004">  Extensible -> the code is also used to accept an input from the user.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:40100px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background51.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_004"><span class="cls_004">2. Server Script</span></div>
<div style="position:absolute;left:72.02px;top:108.05px" class="cls_008"><span class="cls_008"></span></div>
<div style="position:absolute;left:92.69px;top:108.05px" class="cls_004"><span class="cls_004">“server.R”</span></div>
<div style="position:absolute;left:108.05px;top:131.33px" class="cls_019"><span class="cls_019">o</span><span class="cls_008"> </span><span class="cls_004">  Here source code is executed as the computational work behind the scenes (life</span></div>
<div style="position:absolute;left:126.05px;top:145.25px" class="cls_004"><span class="cls_004">familiar functions such as plot(), etc. in R language).</span></div>
<div style="position:absolute;left:108.05px;top:168.29px" class="cls_019"><span class="cls_019">o</span><span class="cls_008"> </span><span class="cls_004">  It contains the instructions that your computer need to build your app.</span></div>
<div style="position:absolute;left:72.02px;top:191.59px" class="cls_004"><span class="cls_004">Both components mentioned above constitute your R Shiny web application and they can</span></div>
<div style="position:absolute;left:72.02px;top:205.51px" class="cls_004"><span class="cls_004">be contained as a single file (app.R) or multiple file (ui.R/server.R) format.</span></div>
<div style="position:absolute;left:72.02px;top:229.51px" class="cls_007"><span class="cls_007">4.4.   Getting Started</span></div>
<div style="position:absolute;left:72.02px;top:256.63px" class="cls_004"><span class="cls_004">Let us start by calling the Shiny library and running Example 1 in the RStudio Console:</span></div>
<div style="position:absolute;left:72.02px;top:301.54px" class="cls_015"><span class="cls_015"># Running Shiny example</span></div>
<div style="position:absolute;left:72.02px;top:315.22px" class="cls_010"><span class="cls_010">library(shiny)</span></div>
<div style="position:absolute;left:72.02px;top:337.08px" class="cls_010"><span class="cls_010">runExample(</span><span class="cls_012">"01_hello"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:361.56px" class="cls_004"><span class="cls_004">You shall now see something similar to Figure 4.2 above that shows the "01_hello” app</span></div>
<div style="position:absolute;left:72.02px;top:375.48px" class="cls_004"><span class="cls_004">running locally with help of Rstudio.</span></div>
<div style="position:absolute;left:230.98px;top:606.19px" class="cls_004"><span class="cls_004">Figure 4.2 Example 1 - Hello app</span></div>
<div style="position:absolute;left:72.02px;top:654.46px" class="cls_004"><span class="cls_004">Let us analyze and breakdown the Shiny code from the example “01_Hello” to simply</span></div>
<div style="position:absolute;left:72.02px;top:668.62px" class="cls_004"><span class="cls_004">understand each component. Please read the comments above each expression to review</span></div>
<div style="position:absolute;left:72.02px;top:682.54px" class="cls_004"><span class="cls_004">each line functionality and get a good grasp of the working dynamics.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:40902px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background52.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:84.26px" class="cls_004"><span class="cls_004">The user iinterface is defined as follows:</span></div>
<div style="position:absolute;left:72.02px;top:108.53px" class="cls_004"><span class="cls_004">ui.R</span></div>
<div style="position:absolute;left:120.05px;top:143.57px" class="cls_021"><span class="cls_021"># Define UI for app that draws a histogram ----</span></div>
<div style="position:absolute;left:108.05px;top:158.21px" class="cls_022"><span class="cls_022">ui &lt;- fluidPage(</span></div>
<div style="position:absolute;left:120.05px;top:187.75px" class="cls_021"><span class="cls_021"># App title ----</span></div>
<div style="position:absolute;left:120.05px;top:202.39px" class="cls_022"><span class="cls_022">titlePanel("Hello Shiny!"),</span></div>
<div style="position:absolute;left:120.05px;top:231.67px" class="cls_021"><span class="cls_021"># Sidebar layout with input and output definitions ----</span></div>
<div style="position:absolute;left:120.05px;top:246.31px" class="cls_022"><span class="cls_022">sidebarLayout(</span></div>
<div style="position:absolute;left:132.05px;top:275.62px" class="cls_021"><span class="cls_021"># Sidebar panel for inputs ----</span></div>
<div style="position:absolute;left:132.05px;top:290.26px" class="cls_022"><span class="cls_022">sidebarPanel(</span></div>
<div style="position:absolute;left:144.05px;top:319.54px" class="cls_021"><span class="cls_021"># Input: Slider for the number of bins ----</span></div>
<div style="position:absolute;left:144.05px;top:334.18px" class="cls_022"><span class="cls_022">sliderInput(inputId = "bins",</span></div>
<div style="position:absolute;left:216.10px;top:348.84px" class="cls_022"><span class="cls_022">label = "Number of bins:",</span></div>
<div style="position:absolute;left:216.10px;top:363.48px" class="cls_022"><span class="cls_022">min = 1,</span></div>
<div style="position:absolute;left:216.10px;top:378.12px" class="cls_022"><span class="cls_022">max = 50,</span></div>
<div style="position:absolute;left:216.10px;top:392.76px" class="cls_022"><span class="cls_022">value = 30)</span></div>
<div style="position:absolute;left:132.05px;top:422.06px" class="cls_022"><span class="cls_022">),</span></div>
<div style="position:absolute;left:132.05px;top:451.34px" class="cls_021"><span class="cls_021"># Main panel for displaying outputs ----</span></div>
<div style="position:absolute;left:132.05px;top:465.98px" class="cls_022"><span class="cls_022">mainPanel(</span></div>
<div style="position:absolute;left:144.05px;top:495.29px" class="cls_021"><span class="cls_021"># Output: Histogram ----</span></div>
<div style="position:absolute;left:144.05px;top:509.93px" class="cls_022"><span class="cls_022">plotOutput(outputId = "distPlot")</span></div>
<div style="position:absolute;left:132.05px;top:539.45px" class="cls_022"><span class="cls_022">)</span></div>
<div style="position:absolute;left:120.05px;top:554.09px" class="cls_022"><span class="cls_022">)</span></div>
<div style="position:absolute;left:108.05px;top:568.73px" class="cls_022"><span class="cls_022">)</span></div>
<div style="position:absolute;left:72.02px;top:613.87px" class="cls_004"><span class="cls_004">Random distribution is plotted as the histogram with the requested number of bins, The</span></div>
<div style="position:absolute;left:72.02px;top:627.79px" class="cls_004"><span class="cls_004">code that generates the plot in the server side is wrapped inside "renderPlot()” in:</span></div>
<div style="position:absolute;left:72.02px;top:651.82px" class="cls_004"><span class="cls_004">Server.R</span></div>
<div style="position:absolute;left:108.05px;top:687.10px" class="cls_021"><span class="cls_021"># Define server logic required to draw a histogram ----</span></div>
<div style="position:absolute;left:108.05px;top:701.74px" class="cls_022"><span class="cls_022">server &lt;- function(input, output) {</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:41704px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background53.jpg" width=612 height=792></div>
<div style="position:absolute;left:120.05px;top:110.21px" class="cls_021"><span class="cls_021"># Histogram of the Old Faithful Geyser Data ----</span></div>
<div style="position:absolute;left:120.05px;top:124.85px" class="cls_021"><span class="cls_021"># with requested number of bins</span></div>
<div style="position:absolute;left:120.05px;top:139.49px" class="cls_021"><span class="cls_021"># This expression that generates a histogram is wrapped in a call</span></div>
<div style="position:absolute;left:120.05px;top:154.13px" class="cls_021"><span class="cls_021"># to renderPlot to indicate that:</span></div>
<div style="position:absolute;left:120.05px;top:168.77px" class="cls_021"><span class="cls_021">#</span></div>
<div style="position:absolute;left:120.05px;top:183.41px" class="cls_021"><span class="cls_021"># 1. It is "reactive" and therefore should be automatically</span></div>
<div style="position:absolute;left:120.05px;top:198.07px" class="cls_021"><span class="cls_021">#</span></div>
<div style="position:absolute;left:150.07px;top:198.07px" class="cls_021"><span class="cls_021">re-executed when inputs (input$bins) change</span></div>
<div style="position:absolute;left:120.05px;top:212.71px" class="cls_021"><span class="cls_021"># 2. Its output type is a plot</span></div>
<div style="position:absolute;left:120.05px;top:227.35px" class="cls_022"><span class="cls_022">output$distPlot &lt;- renderPlot({</span></div>
<div style="position:absolute;left:132.05px;top:256.63px" class="cls_022"><span class="cls_022">x</span></div>
<div style="position:absolute;left:162.07px;top:256.63px" class="cls_022"><span class="cls_022">&lt;- faithful$waiting</span></div>
<div style="position:absolute;left:132.05px;top:271.30px" class="cls_022"><span class="cls_022">bins &lt;- seq(min(x), max(x), length.out = input$bins + 1)</span></div>
<div style="position:absolute;left:132.05px;top:300.58px" class="cls_022"><span class="cls_022">hist(x, breaks = bins, col = "#75AADB", border = "white",</span></div>
<div style="position:absolute;left:162.07px;top:315.22px" class="cls_022"><span class="cls_022">xlab = "Waiting time to next eruption (in mins)",</span></div>
<div style="position:absolute;left:162.07px;top:329.86px" class="cls_022"><span class="cls_022">main = "Histogram of waiting times")</span></div>
<div style="position:absolute;left:132.05px;top:359.40px" class="cls_022"><span class="cls_022">})</span></div>
<div style="position:absolute;left:108.05px;top:388.68px" class="cls_022"><span class="cls_022">}</span></div>
<div style="position:absolute;left:72.02px;top:433.82px" class="cls_004"><span class="cls_004">Follow the next examples to further understand by copying and modify the existing pre-</span></div>
<div style="position:absolute;left:72.02px;top:447.98px" class="cls_004"><span class="cls_004">built Shiny examples listed below that are contained inside the Shiny package. Each</span></div>
<div style="position:absolute;left:72.02px;top:461.90px" class="cls_004"><span class="cls_004">example demonstrate a feature of Shiny apps. In addition, the shiny gallery provides</span></div>
<div style="position:absolute;left:72.02px;top:476.06px" class="cls_004"><span class="cls_004">examples or other apps developed by others.</span></div>
<div style="position:absolute;left:72.02px;top:521.69px" class="cls_010"><span class="cls_010">runExample("01_hello")</span></div>
<div style="position:absolute;left:241.30px;top:521.69px" class="cls_015"><span class="cls_015"># a histogram</span></div>
<div style="position:absolute;left:72.02px;top:544.49px" class="cls_010"><span class="cls_010">runExample("02_text")</span></div>
<div style="position:absolute;left:241.30px;top:544.49px" class="cls_015"><span class="cls_015"># tables and data frames</span></div>
<div style="position:absolute;left:72.02px;top:567.29px" class="cls_010"><span class="cls_010">runExample("03_reactivity") </span><span class="cls_015"># a reactive expression</span></div>
<div style="position:absolute;left:72.02px;top:590.35px" class="cls_010"><span class="cls_010">runExample("04_mpg")</span></div>
<div style="position:absolute;left:241.30px;top:590.35px" class="cls_015"><span class="cls_015"># global variables</span></div>
<div style="position:absolute;left:72.02px;top:613.15px" class="cls_010"><span class="cls_010">runExample("05_sliders")</span></div>
<div style="position:absolute;left:241.30px;top:613.15px" class="cls_015"><span class="cls_015"># slider bars</span></div>
<div style="position:absolute;left:72.02px;top:635.95px" class="cls_010"><span class="cls_010">runExample("06_tabsets")</span></div>
<div style="position:absolute;left:241.30px;top:635.95px" class="cls_015"><span class="cls_015"># tabbed panels</span></div>
<div style="position:absolute;left:72.02px;top:659.02px" class="cls_010"><span class="cls_010">runExample("07_widgets")</span></div>
<div style="position:absolute;left:241.30px;top:659.02px" class="cls_015"><span class="cls_015"># help text and submit buttons</span></div>
<div style="position:absolute;left:72.02px;top:681.82px" class="cls_010"><span class="cls_010">runExample("08_html")</span></div>
<div style="position:absolute;left:241.30px;top:681.82px" class="cls_015"><span class="cls_015"># Shiny app built from HTML</span></div>
<div style="position:absolute;left:72.02px;top:704.62px" class="cls_010"><span class="cls_010">runExample("09_upload")</span></div>
<div style="position:absolute;left:241.30px;top:704.62px" class="cls_015"><span class="cls_015"># file upload wizard</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:42506px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background54.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.78px" class="cls_010"><span class="cls_010">runExample("10_download")</span></div>
<div style="position:absolute;left:241.30px;top:83.78px" class="cls_015"><span class="cls_015"># file download wizard</span></div>
<div style="position:absolute;left:72.02px;top:106.85px" class="cls_010"><span class="cls_010">runExample("11_timer")</span></div>
<div style="position:absolute;left:241.30px;top:105.89px" class="cls_015"><span class="cls_015"># an automated timer</span></div>
<div style="position:absolute;left:72.02px;top:130.13px" class="cls_007"><span class="cls_007">4.5.   Publish and Deployment of your Shiny Web App</span></div>
<div style="position:absolute;left:72.02px;top:156.29px" class="cls_004"><span class="cls_004">Shiny app deployment through Shiny Cloud Service makes deployment and sharing easy by</span></div>
<div style="position:absolute;left:72.02px;top:170.45px" class="cls_004"><span class="cls_004">providing a fast, easy and free solution. R server is also Open Source so you can also install</span></div>
<div style="position:absolute;left:72.02px;top:184.63px" class="cls_004"><span class="cls_004">on your own server to mount your app. Here we explain how to deploy a Shiny app through</span></div>
<div style="position:absolute;left:72.02px;top:198.55px" class="cls_004"><span class="cls_004">R studio in 5 steps.</span></div>
<div style="position:absolute;left:72.02px;top:221.59px" class="cls_004"><span class="cls_004">1. Sign Up on Shinyapps website. (</span><A HREF="https://www.shinyapps.io/">https://www.shinyapps.io/</A> </span><span class="cls_004">)</span></div>
<div style="position:absolute;left:219.22px;top:403.08px" class="cls_004"><span class="cls_004">Figure 4.3 Shiny App Website(Step 1)</span></div>
<div style="position:absolute;left:72.02px;top:451.34px" class="cls_004"><span class="cls_004">2. Give a name to your account as your main url. (in the form -> ‘account’.shinyapps.io)</span></div>
<div style="position:absolute;left:272.04px;top:617.95px" class="cls_004"><span class="cls_004">Figure 4.4 Step 2</span></div>
<div style="position:absolute;left:72.02px;top:666.22px" class="cls_004"><span class="cls_004">Next, you will be redirected to your session dashboard inside the Shinyapps website, where</span></div>
<div style="position:absolute;left:72.02px;top:680.14px" class="cls_004"><span class="cls_004">you will find further instruction to get started.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:43308px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background55.jpg" width=612 height=792></div>
<div style="position:absolute;left:272.04px;top:269.86px" class="cls_004"><span class="cls_004">Figure 4.4 Step 3</span></div>
<div style="position:absolute;left:72.02px;top:294.10px" class="cls_004"><span class="cls_004">3. Install Rsconnect package</span></div>
<div style="position:absolute;left:72.02px;top:318.10px" class="cls_004"><span class="cls_004">Go Back to RStudio console to introduce the next command.</span></div>
<div style="position:absolute;left:72.02px;top:340.92px" class="cls_015"><span class="cls_015"># Installing Rconnet package</span></div>
<div style="position:absolute;left:72.02px;top:354.60px" class="cls_010"><span class="cls_010">install.packages(</span><span class="cls_012">"rsconnect"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:401.88px" class="cls_004"><span class="cls_004">4. Authorize your account</span></div>
<div style="position:absolute;left:72.02px;top:426.14px" class="cls_004"><span class="cls_004">Rsconnect package needs to authorize your account using a token and secret provided in</span></div>
<div style="position:absolute;left:72.02px;top:440.30px" class="cls_004"><span class="cls_004">the above-mentioned dashboard. You can simply copy and paste to your console through</span></div>
<div style="position:absolute;left:72.02px;top:454.22px" class="cls_004"><span class="cls_004">the ‘copy to clipboard’ button, or copy and paste after pressing the ‘Show Secret’ button.</span></div>
<div style="position:absolute;left:72.02px;top:637.39px" class="cls_004"><span class="cls_004">5. Deploy Your Web App</span></div>
<div style="position:absolute;left:72.02px;top:661.66px" class="cls_004"><span class="cls_004">After you have correctly configured the package, you will be able to deploy any app after</span></div>
<div style="position:absolute;left:72.02px;top:675.58px" class="cls_004"><span class="cls_004">introducing the next command.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:44110px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_id_9e6b05b4-44dd-11eb-8b25-0cc47a792c0a_files/background56.jpg" width=612 height=792></div>
<div style="position:absolute;left:72.02px;top:83.06px" class="cls_015"><span class="cls_015"># Deploying App from console</span></div>
<div style="position:absolute;left:72.02px;top:96.74px" class="cls_010"><span class="cls_010">library(</span><span class="cls_012">"rsconnect"</span><span class="cls_010">)</span></div>
<div style="position:absolute;left:72.02px;top:119.57px" class="cls_010"><span class="cls_010">Rsconnect::deployApp(‘path/to/your/app’)</span></div>
<div style="position:absolute;left:72.02px;top:143.09px" class="cls_004"><span class="cls_004">In addition, you can refer to File -> Publish -> Publish to Server -> click on ‘Publish’ button,</span></div>
<div style="position:absolute;left:72.02px;top:157.01px" class="cls_004"><span class="cls_004">from the Rstudio menu.</span></div>
<div style="position:absolute;left:227.38px;top:399.72px" class="cls_004"><span class="cls_004">Figure 4.5 Publishing(Alternative)</span></div>
<div style="position:absolute;left:72.02px;top:447.98px" class="cls_007"><span class="cls_007">4.6.   External Resources</span></div>
<div style="position:absolute;left:72.02px;top:489.02px" class="cls_004"><span class="cls_004">1. Shiny portal site: </span><A HREF="http://shiny.rstudio.com/">http://shiny.rstudio.com</A> </div>
<div style="position:absolute;left:72.02px;top:514.01px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  Tutorial (get started): </span><A HREF="http://shiny.rstudio.com/tutorial/">http://shiny.rstudio.com/tutorial/</A> </span></div>
<div style="position:absolute;left:72.02px;top:528.65px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  Articles (go deeper): </span><A HREF="http://shiny.rstudio.com/articles/">http://shiny.rstudio.com/articles/</A> </span></div>
<div style="position:absolute;left:72.02px;top:543.05px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  Gallery (get inspired): </span><A HREF="http://shiny.rstudio.com/gallery/">http://shiny.rstudio.com/gallery/</A> </span></div>
<div style="position:absolute;left:72.02px;top:564.65px" class="cls_004"><span class="cls_004">2. Shiny User Showcase: </span><A HREF="https://www.rstudio.com/products/shiny/shiny-user-showcase/">https://www.rstudio.com/products/shiny/shiny-user-showcase/</A> </span></div>
<div style="position:absolute;left:72.02px;top:589.87px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  Shiny Apps for the Enterprise</span></div>
<div style="position:absolute;left:72.02px;top:604.27px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  Industry Specific Shiny Apps</span></div>
<div style="position:absolute;left:72.02px;top:618.91px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  Shiny Apps as Analytics Tools</span></div>
<div style="position:absolute;left:72.02px;top:633.31px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  Shiny Apps that Extend Shiny</span></div>
<div style="position:absolute;left:72.02px;top:647.98px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  Shiny Apps with Popular Appeal</span></div>
<div style="position:absolute;left:72.02px;top:662.38px" class="cls_018"><span class="cls_018"> </span><span class="cls_006">  Shiny Apps for Teaching</span></div>
<div style="position:absolute;left:72.02px;top:683.98px" class="cls_004"><span class="cls_004">3. Shiny examples (over 100 examples): </span><A HREF="https://github.com/rstudio/shiny-examples">https://github.com/rstudio/shiny-examples</A> </span></div>
</div>

</body>
</html>
